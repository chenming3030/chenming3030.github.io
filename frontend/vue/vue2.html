<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>VUE v2.x | 技术知识体系</title>
    <meta name="generator" content="VuePress 1.9.7">
    <link rel="icon" href="/favicon.ico">
    <meta name="description" content="技术知识体系">
    
    <link rel="preload" href="/assets/css/0.styles.c5842e21.css" as="style"><link rel="preload" href="/assets/js/app.be8b1db7.js" as="script"><link rel="preload" href="/assets/js/4.274858e4.js" as="script"><link rel="preload" href="/assets/js/3.8d45b1af.js" as="script"><link rel="prefetch" href="/assets/js/10.9bdca958.js"><link rel="prefetch" href="/assets/js/11.2af7fc03.js"><link rel="prefetch" href="/assets/js/12.f0cea44e.js"><link rel="prefetch" href="/assets/js/13.429fa04d.js"><link rel="prefetch" href="/assets/js/14.1ca33ba0.js"><link rel="prefetch" href="/assets/js/15.c4553987.js"><link rel="prefetch" href="/assets/js/16.7e89fceb.js"><link rel="prefetch" href="/assets/js/17.d9dca662.js"><link rel="prefetch" href="/assets/js/18.4a5d04c6.js"><link rel="prefetch" href="/assets/js/19.fd446461.js"><link rel="prefetch" href="/assets/js/2.4788cf6a.js"><link rel="prefetch" href="/assets/js/20.08ba32c7.js"><link rel="prefetch" href="/assets/js/21.820af198.js"><link rel="prefetch" href="/assets/js/22.302f2229.js"><link rel="prefetch" href="/assets/js/23.f925d9f1.js"><link rel="prefetch" href="/assets/js/24.7fb6ee8a.js"><link rel="prefetch" href="/assets/js/25.6e09da5a.js"><link rel="prefetch" href="/assets/js/26.974afc96.js"><link rel="prefetch" href="/assets/js/27.af7043d8.js"><link rel="prefetch" href="/assets/js/28.9e949da9.js"><link rel="prefetch" href="/assets/js/29.09c20ee1.js"><link rel="prefetch" href="/assets/js/30.670752f7.js"><link rel="prefetch" href="/assets/js/31.dcc7701f.js"><link rel="prefetch" href="/assets/js/32.0f63ba55.js"><link rel="prefetch" href="/assets/js/33.49d42ded.js"><link rel="prefetch" href="/assets/js/34.0f751324.js"><link rel="prefetch" href="/assets/js/35.90967183.js"><link rel="prefetch" href="/assets/js/36.b2c813f2.js"><link rel="prefetch" href="/assets/js/37.41f9f5dc.js"><link rel="prefetch" href="/assets/js/38.458c0c33.js"><link rel="prefetch" href="/assets/js/5.052a99fd.js"><link rel="prefetch" href="/assets/js/6.4f26df78.js"><link rel="prefetch" href="/assets/js/7.f5a4d5a5.js"><link rel="prefetch" href="/assets/js/8.8e378fec.js"><link rel="prefetch" href="/assets/js/9.ea6e22dc.js">
    <link rel="stylesheet" href="/assets/css/0.styles.c5842e21.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">技术知识体系</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">
  首页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Java" class="dropdown-title"><span class="title">Java</span> <span class="arrow down"></span></button> <button type="button" aria-label="Java" class="mobile-dropdown-title"><span class="title">Java</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/java/javase/" class="nav-link">
  JavaSE
</a></li><li class="dropdown-item"><!----> <a href="/java/javaee/" class="nav-link">
  JavaEE
</a></li><li class="dropdown-item"><!----> <a href="/java/juc/" class="nav-link">
  并发编程
</a></li><li class="dropdown-item"><!----> <a href="/java/io/" class="nav-link">
  BIO/NIO/AIO
</a></li><li class="dropdown-item"><!----> <a href="/java/algorithm/" class="nav-link">
  数据结构和算法
</a></li><li class="dropdown-item"><!----> <a href="/java/design/" class="nav-link">
  设计模式
</a></li><li class="dropdown-item"><!----> <a href="/java/jvm/" class="nav-link">
  JVM
</a></li><li class="dropdown-item"><!----> <a href="/java/jdk8/" class="nav-link">
  JDK8新特性
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="框架" class="dropdown-title"><span class="title">框架</span> <span class="arrow down"></span></button> <button type="button" aria-label="框架" class="mobile-dropdown-title"><span class="title">框架</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/framework/springmvc/" class="nav-link">
  SpringMVC
</a></li><li class="dropdown-item"><!----> <a href="/framework/spring/" class="nav-link">
  Spring
</a></li><li class="dropdown-item"><!----> <a href="/framework/mybatis/" class="nav-link">
  Mybatis
</a></li><li class="dropdown-item"><!----> <a href="/framework/springboot/" class="nav-link">
  SpringBoot
</a></li><li class="dropdown-item"><!----> <a href="/framework/springcloud/" class="nav-link">
  SpringCloud
</a></li><li class="dropdown-item"><!----> <a href="/framework/activiti7/" class="nav-link">
  Activiti7
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="中间件" class="dropdown-title"><span class="title">中间件</span> <span class="arrow down"></span></button> <button type="button" aria-label="中间件" class="mobile-dropdown-title"><span class="title">中间件</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/middle/nginx/" class="nav-link">
  Nginx
</a></li><li class="dropdown-item"><!----> <a href="/middle/rabbitmq/" class="nav-link">
  RabbitMQ
</a></li><li class="dropdown-item"><!----> <a href="/middle/elasticsearch/" class="nav-link">
  Elasticsearch
</a></li><li class="dropdown-item"><!----> <a href="/middle/zookeeper/" class="nav-link">
  Zookeeper
</a></li><li class="dropdown-item"><!----> <a href="/middle/netty/" class="nav-link">
  Netty
</a></li><li class="dropdown-item"><!----> <a href="/middle/emqx/" class="nav-link">
  EMQX
</a></li><li class="dropdown-item"><!----> <a href="/middle/tomcat/" class="nav-link">
  Tomcat
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="数据库" class="dropdown-title"><span class="title">数据库</span> <span class="arrow down"></span></button> <button type="button" aria-label="数据库" class="mobile-dropdown-title"><span class="title">数据库</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          关系型
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/db/mysql/" class="nav-link">
  MySQL
</a></li><li class="dropdown-subitem"><a href="/db/oracle/" class="nav-link">
  Oracle
</a></li><li class="dropdown-subitem"><a href="/db/sqlserver/" class="nav-link">
  SQL Server
</a></li></ul></li><li class="dropdown-item"><h4>
          非关系型
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/db/redis/" class="nav-link">
  Redis
</a></li><li class="dropdown-subitem"><a href="/db/mongodb/" class="nav-link">
  MongoDB
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端" class="dropdown-title"><span class="title">前端</span> <span class="arrow down"></span></button> <button type="button" aria-label="前端" class="mobile-dropdown-title"><span class="title">前端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/frontend/html/" class="nav-link">
  HTML
</a></li><li class="dropdown-item"><!----> <a href="/frontend/css/" class="nav-link">
  CSS
</a></li><li class="dropdown-item"><!----> <a href="/frontend/js/" class="nav-link">
  JavaScript
</a></li><li class="dropdown-item"><!----> <a href="/frontend/es6/" class="nav-link">
  ES6
</a></li><li class="dropdown-item"><!----> <a href="/frontend/engineering/" class="nav-link">
  前端工程化
</a></li><li class="dropdown-item"><!----> <a href="/frontend/vue/" class="nav-link router-link-active">
  VUE
</a></li><li class="dropdown-item"><!----> <a href="/frontend/react/" class="nav-link">
  React
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="运维|工具" class="dropdown-title"><span class="title">运维|工具</span> <span class="arrow down"></span></button> <button type="button" aria-label="运维|工具" class="mobile-dropdown-title"><span class="title">运维|工具</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/devops/linux/" class="nav-link">
  Linux
</a></li><li class="dropdown-item"><!----> <a href="/devops/git/" class="nav-link">
  Git
</a></li><li class="dropdown-item"><!----> <a href="/devops/docker/" class="nav-link">
  Docker
</a></li><li class="dropdown-item"><!----> <a href="/devops/k8s/" class="nav-link">
  K8S
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="大数据" class="dropdown-title"><span class="title">大数据</span> <span class="arrow down"></span></button> <button type="button" aria-label="大数据" class="mobile-dropdown-title"><span class="title">大数据</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/bigdata/hadoop/" class="nav-link">
  Hadoop
</a></li><li class="dropdown-item"><!----> <a href="/bigdata/hive/" class="nav-link">
  Hive
</a></li><li class="dropdown-item"><!----> <a href="/bigdata/oozie/" class="nav-link">
  Oozie
</a></li><li class="dropdown-item"><!----> <a href="/bigdata/hbase/" class="nav-link">
  Hbase
</a></li><li class="dropdown-item"><!----> <a href="/bigdata/kafka/" class="nav-link">
  Kafka
</a></li><li class="dropdown-item"><!----> <a href="/bigdata/flume/" class="nav-link">
  Flume
</a></li><li class="dropdown-item"><!----> <a href="/bigdata/spark/" class="nav-link">
  Spark
</a></li><li class="dropdown-item"><!----> <a href="/bigdata/flink/" class="nav-link">
  Flink
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="安卓" class="dropdown-title"><span class="title">安卓</span> <span class="arrow down"></span></button> <button type="button" aria-label="安卓" class="mobile-dropdown-title"><span class="title">安卓</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/android/linux/" class="nav-link">
  布局
</a></li><li class="dropdown-item"><!----> <a href="/android/docker/" class="nav-link">
  四大组件
</a></li><li class="dropdown-item"><!----> <a href="/android/docker/" class="nav-link">
  碎片
</a></li><li class="dropdown-item"><!----> <a href="/android/animation/" class="nav-link">
  动画
</a></li><li class="dropdown-item"><!----> <a href="/android/k8s/" class="nav-link">
  数据存储
</a></li><li class="dropdown-item"><!----> <a href="/android/animation/" class="nav-link">
  常用控件
</a></li><li class="dropdown-item"><!----> <a href="/android/animation/" class="nav-link">
  自定义控件
</a></li><li class="dropdown-item"><!----> <a href="/android/animation/" class="nav-link">
  绘图API
</a></li><li class="dropdown-item"><!----> <a href="/android/animation/" class="nav-link">
  drawable
</a></li><li class="dropdown-item"><!----> <a href="/android/animation/" class="nav-link">
  网络请求
</a></li><li class="dropdown-item"><!----> <a href="/android/animation/" class="nav-link">
  多媒体
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="嵌入式" class="dropdown-title"><span class="title">嵌入式</span> <span class="arrow down"></span></button> <button type="button" aria-label="嵌入式" class="mobile-dropdown-title"><span class="title">嵌入式</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/iot/digital/" class="nav-link">
  C/C++
</a></li><li class="dropdown-item"><!----> <a href="/iot/51/" class="nav-link">
  51单片机
</a></li></ul></div></div><div class="nav-item"><a href="/pmp/" class="nav-link">
  项目管理
</a></div><div class="nav-item"><a href="/blog/" class="nav-link">
  个人博客
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">
  首页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Java" class="dropdown-title"><span class="title">Java</span> <span class="arrow down"></span></button> <button type="button" aria-label="Java" class="mobile-dropdown-title"><span class="title">Java</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/java/javase/" class="nav-link">
  JavaSE
</a></li><li class="dropdown-item"><!----> <a href="/java/javaee/" class="nav-link">
  JavaEE
</a></li><li class="dropdown-item"><!----> <a href="/java/juc/" class="nav-link">
  并发编程
</a></li><li class="dropdown-item"><!----> <a href="/java/io/" class="nav-link">
  BIO/NIO/AIO
</a></li><li class="dropdown-item"><!----> <a href="/java/algorithm/" class="nav-link">
  数据结构和算法
</a></li><li class="dropdown-item"><!----> <a href="/java/design/" class="nav-link">
  设计模式
</a></li><li class="dropdown-item"><!----> <a href="/java/jvm/" class="nav-link">
  JVM
</a></li><li class="dropdown-item"><!----> <a href="/java/jdk8/" class="nav-link">
  JDK8新特性
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="框架" class="dropdown-title"><span class="title">框架</span> <span class="arrow down"></span></button> <button type="button" aria-label="框架" class="mobile-dropdown-title"><span class="title">框架</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/framework/springmvc/" class="nav-link">
  SpringMVC
</a></li><li class="dropdown-item"><!----> <a href="/framework/spring/" class="nav-link">
  Spring
</a></li><li class="dropdown-item"><!----> <a href="/framework/mybatis/" class="nav-link">
  Mybatis
</a></li><li class="dropdown-item"><!----> <a href="/framework/springboot/" class="nav-link">
  SpringBoot
</a></li><li class="dropdown-item"><!----> <a href="/framework/springcloud/" class="nav-link">
  SpringCloud
</a></li><li class="dropdown-item"><!----> <a href="/framework/activiti7/" class="nav-link">
  Activiti7
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="中间件" class="dropdown-title"><span class="title">中间件</span> <span class="arrow down"></span></button> <button type="button" aria-label="中间件" class="mobile-dropdown-title"><span class="title">中间件</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/middle/nginx/" class="nav-link">
  Nginx
</a></li><li class="dropdown-item"><!----> <a href="/middle/rabbitmq/" class="nav-link">
  RabbitMQ
</a></li><li class="dropdown-item"><!----> <a href="/middle/elasticsearch/" class="nav-link">
  Elasticsearch
</a></li><li class="dropdown-item"><!----> <a href="/middle/zookeeper/" class="nav-link">
  Zookeeper
</a></li><li class="dropdown-item"><!----> <a href="/middle/netty/" class="nav-link">
  Netty
</a></li><li class="dropdown-item"><!----> <a href="/middle/emqx/" class="nav-link">
  EMQX
</a></li><li class="dropdown-item"><!----> <a href="/middle/tomcat/" class="nav-link">
  Tomcat
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="数据库" class="dropdown-title"><span class="title">数据库</span> <span class="arrow down"></span></button> <button type="button" aria-label="数据库" class="mobile-dropdown-title"><span class="title">数据库</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          关系型
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/db/mysql/" class="nav-link">
  MySQL
</a></li><li class="dropdown-subitem"><a href="/db/oracle/" class="nav-link">
  Oracle
</a></li><li class="dropdown-subitem"><a href="/db/sqlserver/" class="nav-link">
  SQL Server
</a></li></ul></li><li class="dropdown-item"><h4>
          非关系型
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/db/redis/" class="nav-link">
  Redis
</a></li><li class="dropdown-subitem"><a href="/db/mongodb/" class="nav-link">
  MongoDB
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端" class="dropdown-title"><span class="title">前端</span> <span class="arrow down"></span></button> <button type="button" aria-label="前端" class="mobile-dropdown-title"><span class="title">前端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/frontend/html/" class="nav-link">
  HTML
</a></li><li class="dropdown-item"><!----> <a href="/frontend/css/" class="nav-link">
  CSS
</a></li><li class="dropdown-item"><!----> <a href="/frontend/js/" class="nav-link">
  JavaScript
</a></li><li class="dropdown-item"><!----> <a href="/frontend/es6/" class="nav-link">
  ES6
</a></li><li class="dropdown-item"><!----> <a href="/frontend/engineering/" class="nav-link">
  前端工程化
</a></li><li class="dropdown-item"><!----> <a href="/frontend/vue/" class="nav-link router-link-active">
  VUE
</a></li><li class="dropdown-item"><!----> <a href="/frontend/react/" class="nav-link">
  React
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="运维|工具" class="dropdown-title"><span class="title">运维|工具</span> <span class="arrow down"></span></button> <button type="button" aria-label="运维|工具" class="mobile-dropdown-title"><span class="title">运维|工具</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/devops/linux/" class="nav-link">
  Linux
</a></li><li class="dropdown-item"><!----> <a href="/devops/git/" class="nav-link">
  Git
</a></li><li class="dropdown-item"><!----> <a href="/devops/docker/" class="nav-link">
  Docker
</a></li><li class="dropdown-item"><!----> <a href="/devops/k8s/" class="nav-link">
  K8S
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="大数据" class="dropdown-title"><span class="title">大数据</span> <span class="arrow down"></span></button> <button type="button" aria-label="大数据" class="mobile-dropdown-title"><span class="title">大数据</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/bigdata/hadoop/" class="nav-link">
  Hadoop
</a></li><li class="dropdown-item"><!----> <a href="/bigdata/hive/" class="nav-link">
  Hive
</a></li><li class="dropdown-item"><!----> <a href="/bigdata/oozie/" class="nav-link">
  Oozie
</a></li><li class="dropdown-item"><!----> <a href="/bigdata/hbase/" class="nav-link">
  Hbase
</a></li><li class="dropdown-item"><!----> <a href="/bigdata/kafka/" class="nav-link">
  Kafka
</a></li><li class="dropdown-item"><!----> <a href="/bigdata/flume/" class="nav-link">
  Flume
</a></li><li class="dropdown-item"><!----> <a href="/bigdata/spark/" class="nav-link">
  Spark
</a></li><li class="dropdown-item"><!----> <a href="/bigdata/flink/" class="nav-link">
  Flink
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="安卓" class="dropdown-title"><span class="title">安卓</span> <span class="arrow down"></span></button> <button type="button" aria-label="安卓" class="mobile-dropdown-title"><span class="title">安卓</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/android/linux/" class="nav-link">
  布局
</a></li><li class="dropdown-item"><!----> <a href="/android/docker/" class="nav-link">
  四大组件
</a></li><li class="dropdown-item"><!----> <a href="/android/docker/" class="nav-link">
  碎片
</a></li><li class="dropdown-item"><!----> <a href="/android/animation/" class="nav-link">
  动画
</a></li><li class="dropdown-item"><!----> <a href="/android/k8s/" class="nav-link">
  数据存储
</a></li><li class="dropdown-item"><!----> <a href="/android/animation/" class="nav-link">
  常用控件
</a></li><li class="dropdown-item"><!----> <a href="/android/animation/" class="nav-link">
  自定义控件
</a></li><li class="dropdown-item"><!----> <a href="/android/animation/" class="nav-link">
  绘图API
</a></li><li class="dropdown-item"><!----> <a href="/android/animation/" class="nav-link">
  drawable
</a></li><li class="dropdown-item"><!----> <a href="/android/animation/" class="nav-link">
  网络请求
</a></li><li class="dropdown-item"><!----> <a href="/android/animation/" class="nav-link">
  多媒体
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="嵌入式" class="dropdown-title"><span class="title">嵌入式</span> <span class="arrow down"></span></button> <button type="button" aria-label="嵌入式" class="mobile-dropdown-title"><span class="title">嵌入式</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/iot/digital/" class="nav-link">
  C/C++
</a></li><li class="dropdown-item"><!----> <a href="/iot/51/" class="nav-link">
  51单片机
</a></li></ul></div></div><div class="nav-item"><a href="/pmp/" class="nav-link">
  项目管理
</a></div><div class="nav-item"><a href="/blog/" class="nav-link">
  个人博客
</a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>VUE</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/frontend/vue/vue2.html" aria-current="page" class="active sidebar-link">VUE v2.x</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/frontend/vue/vue2.html#基本使用" class="sidebar-link">基本使用</a></li><li class="sidebar-sub-header"><a href="/frontend/vue/vue2.html#调试工具" class="sidebar-link">调试工具</a></li><li class="sidebar-sub-header"><a href="/frontend/vue/vue2.html#指令" class="sidebar-link">指令</a></li><li class="sidebar-sub-header"><a href="/frontend/vue/vue2.html#过滤器" class="sidebar-link">过滤器</a></li><li class="sidebar-sub-header"><a href="/frontend/vue/vue2.html#侦听器" class="sidebar-link">侦听器</a></li><li class="sidebar-sub-header"><a href="/frontend/vue/vue2.html#计算属性" class="sidebar-link">计算属性</a></li><li class="sidebar-sub-header"><a href="/frontend/vue/vue2.html#vue-cli" class="sidebar-link">vue-cli</a></li><li class="sidebar-sub-header"><a href="/frontend/vue/vue2.html#vue组件" class="sidebar-link">vue组件</a></li><li class="sidebar-sub-header"><a href="/frontend/vue/vue2.html#组件的生命周期" class="sidebar-link">组件的生命周期</a></li><li class="sidebar-sub-header"><a href="/frontend/vue/vue2.html#组件之间的数据共享" class="sidebar-link">组件之间的数据共享</a></li><li class="sidebar-sub-header"><a href="/frontend/vue/vue2.html#ref-引用" class="sidebar-link">ref 引用</a></li><li class="sidebar-sub-header"><a href="/frontend/vue/vue2.html#动态组件" class="sidebar-link">动态组件</a></li><li class="sidebar-sub-header"><a href="/frontend/vue/vue2.html#插槽" class="sidebar-link">插槽</a></li><li class="sidebar-sub-header"><a href="/frontend/vue/vue2.html#自定义指令" class="sidebar-link">自定义指令</a></li><li class="sidebar-sub-header"><a href="/frontend/vue/vue2.html#路由原理" class="sidebar-link">路由原理</a></li><li class="sidebar-sub-header"><a href="/frontend/vue/vue2.html#vue-router" class="sidebar-link">vue-router</a></li><li class="sidebar-sub-header"><a href="/frontend/vue/vue2.html#vuex" class="sidebar-link">Vuex</a></li><li class="sidebar-sub-header"><a href="/frontend/vue/vue2.html#axios" class="sidebar-link">axios</a></li></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="vue-v2-x"><a href="#vue-v2-x" class="header-anchor">#</a> VUE v2.x</h1> <h2 id="基本使用"><a href="#基本使用" class="header-anchor">#</a> 基本使用</h2> <h3 id="_1-基本使用步骤"><a href="#_1-基本使用步骤" class="header-anchor">#</a> 1. 基本使用步骤</h3> <p>① 导入 vue.js 的 script 脚本文件</p> <p>② 在页面中声明一个将要被 vue 所控制的 DOM 区域</p> <p>③ 创建 vm 实例对象（vue 实例对象）</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token operator">&lt;</span>body<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> <span class="token number">2.</span> 在页面中声明一个将要被 vue 所控制的 <span class="token constant">DOM</span> 区域 <span class="token operator">--</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>div id<span class="token operator">=</span><span class="token string">&quot;app&quot;</span><span class="token operator">&gt;</span><span class="token punctuation">{</span><span class="token punctuation">{</span>username<span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>

    <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> <span class="token number">1.</span> 导入 vue<span class="token punctuation">.</span>js 的脚本文件 <span class="token operator">--</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>script src<span class="token operator">=</span><span class="token string">&quot;https://cdn.jsdelivr.net/npm/vue@2/dist/vue.js&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>script type<span class="token operator">=</span><span class="token string">&quot;text/javascript&quot;</span><span class="token operator">&gt;</span>
        <span class="token comment">// 3. 创建 vm 实例对象（vue 实例对象）</span>
        <span class="token keyword">const</span> vm <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
            <span class="token comment">// 3.1 指定当前 vm 实例要控制页面的哪个区域</span>
            <span class="token literal-property property">el</span><span class="token operator">:</span> <span class="token string">'#app'</span><span class="token punctuation">,</span>
            <span class="token comment">// 3.2 指定 Model 数据源</span>
            <span class="token literal-property property">data</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                <span class="token literal-property property">username</span><span class="token operator">:</span> <span class="token string">'zs'</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>body<span class="token operator">&gt;</span>
</code></pre></div><h3 id="_2-基本代码与-mvvm-的对应关系"><a href="#_2-基本代码与-mvvm-的对应关系" class="header-anchor">#</a> 2. 基本代码与 MVVM 的对应关系</h3> <br> <img height="360px" src="/assets/img/00017.7f5f983a.png" alt="结果"> <h2 id="调试工具"><a href="#调试工具" class="header-anchor">#</a> 调试工具</h2> <h3 id="_1-安装-vue-devtools-调试工具"><a href="#_1-安装-vue-devtools-调试工具" class="header-anchor">#</a> 1. 安装 vue-devtools 调试工具</h3> <p>vue 官方提供的 vue-devtools 调试工具，能够方便开发者对 vue 项目进行调试与开发。</p> <ul><li><code>Chrome 浏览器</code>在线安装 vue-devtools ：</li></ul> <p><u>https://chrome.google.com/webstore/detail/vuejs-devtools/nhdogjmejiglipccpnnnanhbledajbpd</u></p> <ul><li><code>FireFox 浏览器</code>在线安装 vue-devtools ：</li></ul> <p><u>https://addons.mozilla.org/zh-CN/firefox/addon/vue-js-devtools/</u></p> <h3 id="_2-配置-chrome-浏览器中的-vue-devtools"><a href="#_2-配置-chrome-浏览器中的-vue-devtools" class="header-anchor">#</a> 2. 配置 Chrome 浏览器中的 vue-devtools</h3> <p>点击 Chrome 浏览器右上角的 <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB8AAAAhCAYAAAAh3nDkAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAAEnQAABJ0Ad5mH3gAAACzSURBVFhH7ZU9CgJBDIW9qYWNh1BcUBQFPcXKooU/6DXUUi3XO0wdeUELO2MGHwv5YBgyzcfMPJKWEAk5hZBTCPlXpJSkX4yk3enqjtqDSX693VX8Xqg9mOR1/fiQo/Zg/vPT+SKb3cF9a9CcwOXGLC+rlUxmC1lW69fJ75jk1LRT5QDPPp7ONfFemhW4nJjlaDLb/VF3LyY5tb1S044R2hsMVYzE/3Wk5ibkFEJOgSgXeQJa1bJHZ4nzAwAAAABJRU5ErkJggg==" alt="结果"> 按钮，选择<code>更多工具</code> -&gt; <code>扩展程序</code> -&gt; <code>Vue.js devtools 详情</code>，并勾选如下
的两个选项：</p> <br> <img height="420px" src="/assets/img/00019.e8d4618e.png" alt="结果"> <p><strong>注意：修改完配置项，须重启浏览器才能生效！</strong></p> <h3 id="_3-使用-vue-devtools-调试-vue-页面"><a href="#_3-使用-vue-devtools-调试-vue-页面" class="header-anchor">#</a> 3. 使用 vue-devtools 调试 vue 页面</h3> <p>在浏览器中<code>访问一个使用了 vue 的页面</code>，打开浏览器的<code>开发者工具</code>，<code>切换到 Vue 面板</code>，即可使用 vue-devtools
调试当前的页面。</p> <img src="/assets/img/00020.9cb232cd.png" alt="结果"> <h2 id="指令"><a href="#指令" class="header-anchor">#</a> 指令</h2> <p><code>指令（Directives）</code>是 vue 为开发者提供的<code>模板语法</code>，用于<code>辅助开发者渲染页面的基本结构</code>。</p> <p><strong>vue 中的指令按照不同的用途可以分为如下 6 大类：</strong></p> <ol><li><code>内容渲染</code>指令</li> <li><code>属性绑定</code>指令</li> <li><code>事件绑定</code>指令</li> <li><code>双向绑定</code>指令</li> <li><code>条件渲染</code>指令</li> <li><code>列表渲染</code>指令</li></ol> <blockquote><p>注意：指令是 vue 开发中最基础、最常用、最简单的知识点。</p></blockquote> <h3 id="_1-1-内容渲染指令"><a href="#_1-1-内容渲染指令" class="header-anchor">#</a> 1.1 内容渲染指令</h3> <p><code>内容渲染指令</code>用来辅助开发者<code>渲染 DOM 元素的文本内容</code>。常用的内容渲染指令有如下 3 个：</p> <ul><li>v-text</li> <li><strong>{{}}</strong></li> <li>v-html</li></ul> <h4 id="v-text"><a href="#v-text" class="header-anchor">#</a> v-text</h4> <p>用法示例</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token operator">&lt;</span>body<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>div id<span class="token operator">=</span><span class="token string">&quot;app&quot;</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>p v<span class="token operator">-</span>text<span class="token operator">=</span><span class="token string">&quot;username&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>p v<span class="token operator">-</span>text<span class="token operator">=</span><span class="token string">&quot;gender&quot;</span><span class="token operator">&gt;</span>性别<span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>

    <span class="token operator">&lt;</span>script src<span class="token operator">=</span><span class="token string">&quot;https://cdn.jsdelivr.net/npm/vue@2/dist/vue.js&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>script type<span class="token operator">=</span><span class="token string">&quot;text/javascript&quot;</span><span class="token operator">&gt;</span>
        <span class="token keyword">const</span> vm <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
            <span class="token literal-property property">el</span><span class="token operator">:</span> <span class="token string">'#app'</span><span class="token punctuation">,</span>
            <span class="token literal-property property">data</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                <span class="token literal-property property">username</span><span class="token operator">:</span> <span class="token string">'张三'</span><span class="token punctuation">,</span>
                <span class="token literal-property property">gender</span><span class="token operator">:</span> <span class="token string">'男'</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>body<span class="token operator">&gt;</span>
</code></pre></div><p>注意：v-text 指令会<code>覆盖元素内默认的值</code>。</p> <h4 id="语法"><a href="#语法" class="header-anchor">#</a> { {  } } 语法</h4> <p>vue 提供的 <strong>{{}}</strong> 语法，专门用来解决 v-text 会覆盖默认文本内容的问题。这种  语法的专业名称是<code>插值表达式</code>（英文名为：Mustache）。</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token operator">&lt;</span>body<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>div id<span class="token operator">=</span><span class="token string">&quot;app&quot;</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>p<span class="token operator">&gt;</span>姓名：<span class="token punctuation">{</span><span class="token punctuation">{</span>username<span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>p<span class="token operator">&gt;</span>性别：<span class="token punctuation">{</span><span class="token punctuation">{</span>gender<span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>

    <span class="token operator">&lt;</span>script src<span class="token operator">=</span><span class="token string">&quot;https://cdn.jsdelivr.net/npm/vue@2/dist/vue.js&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>script type<span class="token operator">=</span><span class="token string">&quot;text/javascript&quot;</span><span class="token operator">&gt;</span>
        <span class="token keyword">const</span> vm <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
            <span class="token literal-property property">el</span><span class="token operator">:</span> <span class="token string">'#app'</span><span class="token punctuation">,</span>
            <span class="token literal-property property">data</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                <span class="token literal-property property">username</span><span class="token operator">:</span> <span class="token string">'张三'</span><span class="token punctuation">,</span>
                <span class="token literal-property property">gender</span><span class="token operator">:</span> <span class="token string">'男'</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>body<span class="token operator">&gt;</span>
</code></pre></div><p>注意：相对于 v-text 指令来说，<code>插值表达式在开发中更常用一些</code>！因为它不会覆盖元素中默认的文本内容。</p> <h4 id="v-html"><a href="#v-html" class="header-anchor">#</a> v-html</h4> <p><code>v-text</code> 指令和 <code>插值表达式</code> 只能渲染 <code>纯文本内容</code>。如果要把 <code>包含 HTML 标签的字符串</code> 渲染为页面的 HTML 元素，
则需要用到 v-html 这个指令：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token operator">&lt;</span>body<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>div id<span class="token operator">=</span><span class="token string">&quot;app&quot;</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>p v<span class="token operator">-</span>html<span class="token operator">=</span><span class="token string">&quot;description&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>

    <span class="token operator">&lt;</span>script src<span class="token operator">=</span><span class="token string">&quot;https://cdn.jsdelivr.net/npm/vue@2/dist/vue.js&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>script type<span class="token operator">=</span><span class="token string">&quot;text/javascript&quot;</span><span class="token operator">&gt;</span>
        <span class="token keyword">const</span> vm <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
            <span class="token literal-property property">el</span><span class="token operator">:</span> <span class="token string">'#app'</span><span class="token punctuation">,</span>
            <span class="token literal-property property">data</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                <span class="token literal-property property">description</span><span class="token operator">:</span> <span class="token string">'&lt;h5 style=&quot;color:#f40;&quot;&gt;vue学习&lt;/h5&gt;'</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>body<span class="token operator">&gt;</span>
</code></pre></div><h3 id="_1-2-属性绑定指令"><a href="#_1-2-属性绑定指令" class="header-anchor">#</a> 1.2 属性绑定指令</h3> <p>如果需要为 <code>元素的属性</code> 动态绑定 <code>属性值</code>，则需要用到 <code>v-bind</code> 属性绑定指令。用法示例如下：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token operator">&lt;</span>body<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>div id<span class="token operator">=</span><span class="token string">&quot;app&quot;</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>input type<span class="token operator">=</span><span class="token string">&quot;text&quot;</span> v<span class="token operator">-</span>bind<span class="token operator">:</span>placeholder<span class="token operator">=</span><span class="token string">&quot;inputValue&quot;</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>img v<span class="token operator">-</span>bind<span class="token operator">:</span>src<span class="token operator">=</span><span class="token string">&quot;imgSrc&quot;</span> alt<span class="token operator">=</span><span class="token string">&quot;图片&quot;</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>

    <span class="token operator">&lt;</span>script src<span class="token operator">=</span><span class="token string">&quot;https://cdn.jsdelivr.net/npm/vue@2/dist/vue.js&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>script type<span class="token operator">=</span><span class="token string">&quot;text/javascript&quot;</span><span class="token operator">&gt;</span>
        <span class="token keyword">const</span> vm <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
            <span class="token literal-property property">el</span><span class="token operator">:</span> <span class="token string">'#app'</span><span class="token punctuation">,</span>
            <span class="token literal-property property">data</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                <span class="token literal-property property">inputValue</span><span class="token operator">:</span> <span class="token string">'请输入vue'</span><span class="token punctuation">,</span>
                <span class="token literal-property property">imgSrc</span><span class="token operator">:</span> <span class="token string">'https://www.baidu.com/img/PCtm_d9c8750bed0b3c7d089fa7d55720d6cf.png'</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>body<span class="token operator">&gt;</span>
</code></pre></div><p><strong>属性绑定指令的简写形式</strong></p> <p>由于 <code>v-bind 指令</code>在开发中使用频率非常高，因此，vue 官方为其提供了<code>简写形式</code>（简写为英文的 <code>:</code> ）。</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token operator">&lt;</span>body<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>div id<span class="token operator">=</span><span class="token string">&quot;app&quot;</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> 属性绑定指令简写 <span class="token operator">--</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>input type<span class="token operator">=</span><span class="token string">&quot;text&quot;</span> <span class="token operator">:</span>placeholder<span class="token operator">=</span><span class="token string">&quot;inputValue&quot;</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>img <span class="token operator">:</span>src<span class="token operator">=</span><span class="token string">&quot;imgSrc&quot;</span> alt<span class="token operator">=</span><span class="token string">&quot;图片&quot;</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>

    <span class="token operator">&lt;</span>script src<span class="token operator">=</span><span class="token string">&quot;https://cdn.jsdelivr.net/npm/vue@2/dist/vue.js&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>script type<span class="token operator">=</span><span class="token string">&quot;text/javascript&quot;</span><span class="token operator">&gt;</span>
        <span class="token keyword">const</span> vm <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
            <span class="token literal-property property">el</span><span class="token operator">:</span> <span class="token string">'#app'</span><span class="token punctuation">,</span>
            <span class="token literal-property property">data</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                <span class="token literal-property property">inputValue</span><span class="token operator">:</span> <span class="token string">'请输入vue'</span><span class="token punctuation">,</span>
                <span class="token literal-property property">imgSrc</span><span class="token operator">:</span> <span class="token string">'https://www.baidu.com/img/PCtm_d9c8750bed0b3c7d089fa7d55720d6cf.png'</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>body<span class="token operator">&gt;</span>
</code></pre></div><p><strong>使用 Javascript 表达式</strong></p> <p>在 vue 提供的模板渲染语法中，除了支持<code>绑定简单的数据值</code>之外，还<code>支持 Javascript 表达式的运算</code>，例如：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token punctuation">{</span><span class="token punctuation">{</span> number <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">}</span>

<span class="token punctuation">{</span><span class="token punctuation">{</span> ok <span class="token operator">?</span> <span class="token string">'yes'</span> <span class="token operator">:</span> <span class="token string">'no'</span> <span class="token punctuation">}</span><span class="token punctuation">}</span>

<span class="token punctuation">{</span><span class="token punctuation">{</span> message<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">reverse</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">}</span>

<span class="token operator">&lt;</span>div v<span class="token operator">-</span>bind<span class="token operator">:</span>id<span class="token operator">=</span><span class="token string">&quot;'list-' + id&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
</code></pre></div><h3 id="_1-3-事件绑定指令"><a href="#_1-3-事件绑定指令" class="header-anchor">#</a> 1.3  事件绑定指令</h3> <p>vue 提供了 <code>v-on 事件绑定</code>指令，用来辅助程序员为 DOM 元素绑定事件监听。语法格式如下：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token operator">&lt;</span>h3<span class="token operator">&gt;</span>count 的值为：<span class="token punctuation">{</span><span class="token punctuation">{</span>count<span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>h3<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> 语法格式为 v<span class="token operator">-</span>on<span class="token operator">:</span>事件名称<span class="token operator">=</span><span class="token string">&quot;事件处理函数的名称&quot;</span> <span class="token operator">--</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>button v<span class="token operator">-</span>on<span class="token operator">:</span>click<span class="token operator">=</span><span class="token string">&quot;addCount&quot;</span><span class="token operator">&gt;</span><span class="token operator">+</span><span class="token number">1</span><span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
</code></pre></div><p>注意：原生 DOM 对象有 <code>onclick</code>、<code>oninput</code>、<code>onkeyup</code> 等原生事件，替换为 vue 的事件绑定形式后，分别为：<code>v-on:click</code>、<code>v-on:input</code>、<code>v-on:keyup</code></p> <br> <p>通过 v-on 绑定的事件处理函数，需要<code>在 methods 节点</code>中进行声明：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token operator">&lt;</span>body<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>div id<span class="token operator">=</span><span class="token string">&quot;app&quot;</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>h3<span class="token operator">&gt;</span>count 的值为：<span class="token punctuation">{</span><span class="token punctuation">{</span>count<span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>h3<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> 语法格式为 v<span class="token operator">-</span>on<span class="token operator">:</span>事件名称<span class="token operator">=</span><span class="token string">&quot;事件处理函数的名称&quot;</span> <span class="token operator">--</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>button v<span class="token operator">-</span>on<span class="token operator">:</span>click<span class="token operator">=</span><span class="token string">&quot;addCount&quot;</span><span class="token operator">&gt;</span><span class="token operator">+</span><span class="token number">1</span><span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>

    <span class="token operator">&lt;</span>script src<span class="token operator">=</span><span class="token string">&quot;https://cdn.jsdelivr.net/npm/vue@2/dist/vue.js&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>script type<span class="token operator">=</span><span class="token string">&quot;text/javascript&quot;</span><span class="token operator">&gt;</span>
        <span class="token keyword">const</span> vm <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
            <span class="token literal-property property">el</span><span class="token operator">:</span> <span class="token string">'#app'</span><span class="token punctuation">,</span>
            <span class="token literal-property property">data</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                <span class="token literal-property property">count</span><span class="token operator">:</span> <span class="token number">0</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token literal-property property">methods</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token comment">// v-on 绑定的事件处理函数，需要声明在 methods 节点中</span>
                <span class="token function-variable function">addCount</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">// 事件处理函数的名字</span>
                    <span class="token comment">// this 表示当前 new 出来的 vm 实例对象</span>
                    <span class="token comment">// 通过 this 可以访问到 data 中的数据</span>
                    <span class="token keyword">this</span><span class="token punctuation">.</span>count<span class="token operator">++</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>body<span class="token operator">&gt;</span>
</code></pre></div><br> <p><strong>事件绑定的简写形式</strong></p> <p>由于 <code>v-on 指令</code>在开发中使用频率非常高，因此，vue 官方为其提供了<code>简写形式</code>（简写为英文的 <code>@</code> ）。</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token operator">&lt;</span>div id<span class="token operator">=</span><span class="token string">&quot;app&quot;</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>h3<span class="token operator">&gt;</span>count 的值为：<span class="token punctuation">{</span><span class="token punctuation">{</span>count<span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>h3<span class="token operator">&gt;</span>
	<span class="token operator">&lt;</span>button @click<span class="token operator">=</span><span class="token string">&quot;addCount&quot;</span><span class="token operator">&gt;</span><span class="token operator">+</span><span class="token number">1</span><span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
</code></pre></div><br> <p><strong>事件参数对象</strong></p> <p>在原生的 DOM 事件绑定中，可以在事件处理函数的形参处，接收事件参数对象 event。同理，在 <code>v-on 指令</code>
（简写为 <code>@</code> ）所绑定的事件处理函数中，<code>同样可以接收到事件参数对象 event</code>，示例代码如下：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token operator">&lt;</span>body<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>div id<span class="token operator">=</span><span class="token string">&quot;app&quot;</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>h3<span class="token operator">&gt;</span>count 的值为：<span class="token punctuation">{</span><span class="token punctuation">{</span>count<span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>h3<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>button @click<span class="token operator">=</span><span class="token string">&quot;addCount&quot;</span><span class="token operator">&gt;</span><span class="token operator">+</span><span class="token number">1</span><span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>

    <span class="token operator">&lt;</span>script src<span class="token operator">=</span><span class="token string">&quot;https://cdn.jsdelivr.net/npm/vue@2/dist/vue.js&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>script type<span class="token operator">=</span><span class="token string">&quot;text/javascript&quot;</span><span class="token operator">&gt;</span>
        <span class="token keyword">const</span> vm <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
            <span class="token literal-property property">el</span><span class="token operator">:</span> <span class="token string">'#app'</span><span class="token punctuation">,</span>
            <span class="token literal-property property">data</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                <span class="token literal-property property">count</span><span class="token operator">:</span> <span class="token number">0</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token literal-property property">methods</span><span class="token operator">:</span> <span class="token punctuation">{</span> 
                <span class="token function-variable function">addCount</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">//接收事件参数对象 event，简写为 e</span>
                    <span class="token keyword">const</span> nowBgColor <span class="token operator">=</span> e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>style<span class="token punctuation">.</span>backgroundColor<span class="token punctuation">;</span>
                    e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>style<span class="token punctuation">.</span>backgroundColor <span class="token operator">=</span> nowBgColor <span class="token operator">===</span> <span class="token string">'red'</span> <span class="token operator">?</span> <span class="token string">''</span> <span class="token operator">:</span> <span class="token string">'red'</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>body<span class="token operator">&gt;</span>
</code></pre></div><br> <p><strong>绑定事件并传参</strong></p> <p>在使用 v-on 指令绑定事件时，可以使用 <code>( )</code>进行传参，示例代码如下：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token operator">&lt;</span>body<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>div id<span class="token operator">=</span><span class="token string">&quot;app&quot;</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>h3<span class="token operator">&gt;</span>count 的值为：<span class="token punctuation">{</span><span class="token punctuation">{</span>count<span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>h3<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>button @click<span class="token operator">=</span><span class="token string">&quot;addNewCount(2)&quot;</span><span class="token operator">&gt;</span><span class="token operator">+</span><span class="token number">2</span><span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>

    <span class="token operator">&lt;</span>script src<span class="token operator">=</span><span class="token string">&quot;https://cdn.jsdelivr.net/npm/vue@2/dist/vue.js&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>script type<span class="token operator">=</span><span class="token string">&quot;text/javascript&quot;</span><span class="token operator">&gt;</span>
        <span class="token keyword">const</span> vm <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
            <span class="token literal-property property">el</span><span class="token operator">:</span> <span class="token string">'#app'</span><span class="token punctuation">,</span>
            <span class="token literal-property property">data</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                <span class="token literal-property property">count</span><span class="token operator">:</span> <span class="token number">0</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token literal-property property">methods</span><span class="token operator">:</span> <span class="token punctuation">{</span> 
                <span class="token function-variable function">addNewCount</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">step</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">//在形参处用 step 接收传递过来的参数值</span>
                    <span class="token keyword">this</span><span class="token punctuation">.</span>count <span class="token operator">+=</span> step<span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>body<span class="token operator">&gt;</span>
</code></pre></div><br> <p><strong>$event</strong></p> <p><code>$event</code> 是 vue 提供的<code>特殊变量</code>，用来表示<code>原生的事件参数对象 event</code>。$event 可以解决事件参数对象 event
被覆盖的问题。示例用法如下：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token operator">&lt;</span>body<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>div id<span class="token operator">=</span><span class="token string">&quot;app&quot;</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>h3<span class="token operator">&gt;</span>count 的值为：<span class="token punctuation">{</span><span class="token punctuation">{</span>count<span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>h3<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>button @click<span class="token operator">=</span><span class="token string">&quot;addNewCount(2, $event)&quot;</span><span class="token operator">&gt;</span><span class="token operator">+</span><span class="token number">2</span><span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>

    <span class="token operator">&lt;</span>script src<span class="token operator">=</span><span class="token string">&quot;https://cdn.jsdelivr.net/npm/vue@2/dist/vue.js&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>script type<span class="token operator">=</span><span class="token string">&quot;text/javascript&quot;</span><span class="token operator">&gt;</span>
        <span class="token keyword">const</span> vm <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
            <span class="token literal-property property">el</span><span class="token operator">:</span> <span class="token string">'#app'</span><span class="token punctuation">,</span>
            <span class="token literal-property property">data</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                <span class="token literal-property property">count</span><span class="token operator">:</span> <span class="token number">0</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token literal-property property">methods</span><span class="token operator">:</span> <span class="token punctuation">{</span> 
                <span class="token comment">//在形参处用 e 接收传递过来的原生参数对象 $event</span>
                <span class="token function-variable function">addNewCount</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">step<span class="token punctuation">,</span> e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> 
                    <span class="token keyword">const</span> nowBgColor <span class="token operator">=</span> e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>style<span class="token punctuation">.</span>backgroundColor<span class="token punctuation">;</span>
                    e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>style<span class="token punctuation">.</span>backgroundColor <span class="token operator">=</span> nowBgColor <span class="token operator">===</span> <span class="token string">'red'</span> <span class="token operator">?</span> <span class="token string">''</span> <span class="token operator">:</span> <span class="token string">'red'</span><span class="token punctuation">;</span>
                    <span class="token keyword">this</span><span class="token punctuation">.</span>count <span class="token operator">+=</span> step<span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>body<span class="token operator">&gt;</span>
</code></pre></div><br> <p><strong>事件修饰符</strong></p> <p>在事件处理函数中调用 <code>event.preventDefault()</code> 或 <code>event.stopPropagation()</code> 是非常常见的需求。因此，
vue 提供了<code>事件修饰符</code>的概念，来辅助程序员更方便的<code>对事件的触发进行控制</code>。常用的 5 个事件修饰符如下：</p> <table><thead><tr><th style="text-align:center;">事件修饰符</th> <th style="text-align:left;">说明</th></tr></thead> <tbody><tr><td style="text-align:center;"><code>.prevent</code></td> <td style="text-align:left;">阻止默认行为(例如：阻止 a 链接的跳转、阻止表单的提交等)</td></tr> <tr><td style="text-align:center;"><code>.stop</code></td> <td style="text-align:left;">阻止事件冒泡</td></tr> <tr><td style="text-align:center;">.capture</td> <td style="text-align:left;">以捕获模式除法当前的事件处理函数</td></tr> <tr><td style="text-align:center;">.once</td> <td style="text-align:left;">绑定的事件只触发1次</td></tr> <tr><td style="text-align:center;">.self</td> <td style="text-align:left;">只有在 event.target 是当前元素自身时触发事件处理函数</td></tr></tbody></table> <p>语法格式如下：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token operator">&lt;</span>a href<span class="token operator">=</span><span class="token string">&quot;https://www.baidu.com&quot;</span> @click<span class="token punctuation">.</span>prevent<span class="token operator">=</span><span class="token string">&quot;onLinkClick&quot;</span><span class="token operator">&gt;</span>百度首页<span class="token operator">&lt;</span><span class="token operator">/</span>a<span class="token operator">&gt;</span>
</code></pre></div><br> <p><strong>按键修饰符</strong></p> <p>在监听<code>键盘事件</code>时，我们经常需要<code>判断详细的按键</code>。此时，可以为<code>键盘相关的事件</code>添加<code>按键修饰符</code>，例如：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> 只有在 key 是 Enter 时调用 vm<span class="token punctuation">.</span><span class="token function">submit</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">--</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>input @keyup<span class="token punctuation">.</span>enter<span class="token operator">=</span><span class="token string">&quot;submit&quot;</span><span class="token operator">&gt;</span>
    
<span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> 只有在 key 是 Esc 时调用 vm<span class="token punctuation">.</span><span class="token function">clearInput</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">--</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>input @keyup<span class="token punctuation">.</span>esc<span class="token operator">=</span><span class="token string">&quot;clearInput&quot;</span><span class="token operator">&gt;</span>
</code></pre></div><h3 id="_1-4-双向绑定指令"><a href="#_1-4-双向绑定指令" class="header-anchor">#</a> 1.4 双向绑定指令</h3> <p>vue 提供了 <code>v-model 双向数据绑定</code>指令，用来辅助开发者在<code>不操作 DOM</code> 的前提下，<code>快速获取表单的数据</code>。</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token operator">&lt;</span>body<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>div id<span class="token operator">=</span><span class="token string">&quot;app&quot;</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>p<span class="token operator">&gt;</span>用户名：<span class="token punctuation">{</span><span class="token punctuation">{</span>username<span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>input type<span class="token operator">=</span><span class="token string">&quot;text&quot;</span> v<span class="token operator">-</span>model<span class="token operator">=</span><span class="token string">&quot;username&quot;</span><span class="token operator">&gt;</span>

        <span class="token operator">&lt;</span>p<span class="token operator">&gt;</span>选中的省份：<span class="token punctuation">{</span><span class="token punctuation">{</span>province<span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>select v<span class="token operator">-</span>model<span class="token operator">=</span><span class="token string">&quot;province&quot;</span><span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>option value<span class="token operator">=</span><span class="token string">&quot;&quot;</span><span class="token operator">&gt;</span>请选择<span class="token operator">&lt;</span><span class="token operator">/</span>option<span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>option value<span class="token operator">=</span><span class="token string">&quot;1&quot;</span><span class="token operator">&gt;</span>北京<span class="token operator">&lt;</span><span class="token operator">/</span>option<span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>option value<span class="token operator">=</span><span class="token string">&quot;2&quot;</span><span class="token operator">&gt;</span>河北<span class="token operator">&lt;</span><span class="token operator">/</span>option<span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>option value<span class="token operator">=</span><span class="token string">&quot;3&quot;</span><span class="token operator">&gt;</span>黑龙江<span class="token operator">&lt;</span><span class="token operator">/</span>option<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>select<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>

    <span class="token operator">&lt;</span>script src<span class="token operator">=</span><span class="token string">&quot;https://cdn.jsdelivr.net/npm/vue@2/dist/vue.js&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>script type<span class="token operator">=</span><span class="token string">&quot;text/javascript&quot;</span><span class="token operator">&gt;</span>
        <span class="token keyword">const</span> vm <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
            <span class="token literal-property property">el</span><span class="token operator">:</span> <span class="token string">'#app'</span><span class="token punctuation">,</span>
            <span class="token literal-property property">data</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                <span class="token literal-property property">username</span><span class="token operator">:</span> <span class="token string">''</span><span class="token punctuation">,</span>
                <span class="token literal-property property">province</span><span class="token operator">:</span> <span class="token string">''</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token literal-property property">methods</span><span class="token operator">:</span> <span class="token punctuation">{</span> 
                
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>body<span class="token operator">&gt;</span>
</code></pre></div><br> <p><strong>v-model 指令的修饰符</strong></p> <p><code>为了方便对用户输入的内容进行处理</code>，vue 为 v-model 指令提供了 3 个修饰符，分别是：</p> <table><thead><tr><th style="text-align:center;">修饰符</th> <th style="text-align:left;">作用</th> <th style="text-align:left;">示例</th></tr></thead> <tbody><tr><td style="text-align:center;">.number</td> <td style="text-align:left;">自动将用户的输入值转为数值类型</td> <td style="text-align:left;">&lt;input v-model.number=&quot;age&quot;&gt;</td></tr> <tr><td style="text-align:center;">.trim</td> <td style="text-align:left;">自动过滤用户输入的首尾空白字符</td> <td style="text-align:left;">&lt;input v-model.trim=&quot;msg&quot; /&gt;</td></tr> <tr><td style="text-align:center;">.lazy</td> <td style="text-align:left;">在“change”时而非“input”时更新</td> <td style="text-align:left;">&lt;input v-model.lazy=&quot;msg&quot; /&gt;</td></tr></tbody></table> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token operator">&lt;</span>body<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>div id<span class="token operator">=</span><span class="token string">&quot;app&quot;</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>input type<span class="token operator">=</span><span class="token string">&quot;text&quot;</span> v<span class="token operator">-</span>model<span class="token punctuation">.</span>number<span class="token operator">=</span><span class="token string">&quot;n1&quot;</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>input type<span class="token operator">=</span><span class="token string">&quot;text&quot;</span> v<span class="token operator">-</span>model<span class="token punctuation">.</span>number<span class="token operator">=</span><span class="token string">&quot;n2&quot;</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>span<span class="token operator">&gt;</span><span class="token punctuation">{</span><span class="token punctuation">{</span>n1 <span class="token operator">+</span> n2<span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>span<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>

    <span class="token operator">&lt;</span>script src<span class="token operator">=</span><span class="token string">&quot;https://cdn.jsdelivr.net/npm/vue@2/dist/vue.js&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>script type<span class="token operator">=</span><span class="token string">&quot;text/javascript&quot;</span><span class="token operator">&gt;</span>
        <span class="token keyword">const</span> vm <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
            <span class="token literal-property property">el</span><span class="token operator">:</span> <span class="token string">'#app'</span><span class="token punctuation">,</span>
            <span class="token literal-property property">data</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                <span class="token literal-property property">n1</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
                <span class="token literal-property property">n2</span><span class="token operator">:</span> <span class="token number">0</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token literal-property property">methods</span><span class="token operator">:</span> <span class="token punctuation">{</span> 
                
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>body<span class="token operator">&gt;</span>
</code></pre></div><h3 id="_1-5-条件渲染指令"><a href="#_1-5-条件渲染指令" class="header-anchor">#</a> 1.5 条件渲染指令</h3> <p><code>条件渲染指令</code>用来辅助开发者<code>按需控制 DOM 的显示与隐藏</code>。条件渲染指令有如下两个，分别是：</p> <ul><li>v-if</li> <li>v-show</li></ul> <p>示例用法如下：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token operator">&lt;</span>body<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>div id<span class="token operator">=</span><span class="token string">&quot;app&quot;</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>p v<span class="token operator">-</span><span class="token keyword">if</span><span class="token operator">=</span><span class="token string">&quot;state === 200&quot;</span><span class="token operator">&gt;</span>请求成功  v<span class="token operator">-</span><span class="token keyword">if</span>控制<span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>p v<span class="token operator">-</span>show<span class="token operator">=</span><span class="token string">&quot;state ===200&quot;</span><span class="token operator">&gt;</span>请求成功  v<span class="token operator">-</span>show控制<span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>

    <span class="token operator">&lt;</span>script src<span class="token operator">=</span><span class="token string">&quot;https://cdn.jsdelivr.net/npm/vue@2/dist/vue.js&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>script type<span class="token operator">=</span><span class="token string">&quot;text/javascript&quot;</span><span class="token operator">&gt;</span>
        <span class="token keyword">const</span> vm <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
            <span class="token literal-property property">el</span><span class="token operator">:</span> <span class="token string">'#app'</span><span class="token punctuation">,</span>
            <span class="token literal-property property">data</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                <span class="token literal-property property">state</span><span class="token operator">:</span> <span class="token number">200</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>body<span class="token operator">&gt;</span>
</code></pre></div><br> <p><strong>v-if 和 v-show 的区别</strong></p> <p>实现原理不同：</p> <ul><li>v-if 指令会<code>动态地创建或移除 DOM 元素</code>，从而控制元素在页面上的显示与隐藏；</li> <li>v-show 指令会动态为元素<code>添加或移除 style=&quot;display: none;&quot; 样式</code>，从而控制元素的显示与隐藏；</li></ul> <br> <p>性能消耗不同：</p> <p><code>v-if</code> 有更高的<code>切换开销</code>，而 <code>v-show</code> 有更高的<code>初始渲染开销</code>。因此：</p> <ul><li>如果需要<code>非常频繁地切换</code>，则使用 v-show 较好</li> <li>如果在<code>运行时条件很少改变</code>，则使用 v-if 较好</li></ul> <br> <p><strong>v-else</strong></p> <p>v-if 可以单独使用，或配合 v-else 指令一起使用：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token operator">&lt;</span>body<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>div id<span class="token operator">=</span><span class="token string">&quot;app&quot;</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>div v<span class="token operator">-</span><span class="token keyword">if</span><span class="token operator">=</span><span class="token string">&quot;Math.random() &gt; 0.5&quot;</span><span class="token operator">&gt;</span>
            随机数大于 <span class="token number">0.5</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>div v<span class="token operator">-</span><span class="token keyword">else</span><span class="token operator">&gt;</span>
            随机数小于或等于 <span class="token number">0.5</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>

    <span class="token operator">&lt;</span>script src<span class="token operator">=</span><span class="token string">&quot;https://cdn.jsdelivr.net/npm/vue@2/dist/vue.js&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>script type<span class="token operator">=</span><span class="token string">&quot;text/javascript&quot;</span><span class="token operator">&gt;</span>
        <span class="token keyword">const</span> vm <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
            <span class="token literal-property property">el</span><span class="token operator">:</span> <span class="token string">'#app'</span><span class="token punctuation">,</span>
            <span class="token literal-property property">data</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>body<span class="token operator">&gt;</span>
</code></pre></div><p>注意：v-else 指令<code>必须配合</code> v-if 指令一起使用，否则它将不会被识别！</p> <br> <p><strong>v-else-if</strong></p> <p>v-else-if 指令，顾名思义，充当 v-if 的“else-if 块”，可以连续使用：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token operator">&lt;</span>body<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>div id<span class="token operator">=</span><span class="token string">&quot;app&quot;</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>div v<span class="token operator">-</span><span class="token keyword">if</span><span class="token operator">=</span><span class="token string">&quot;type === 'A'&quot;</span><span class="token operator">&gt;</span>优秀<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>div v<span class="token operator">-</span><span class="token keyword">else</span><span class="token operator">-</span><span class="token keyword">if</span><span class="token operator">=</span><span class="token string">&quot;type === 'B'&quot;</span><span class="token operator">&gt;</span>良好<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>div v<span class="token operator">-</span><span class="token keyword">else</span><span class="token operator">-</span><span class="token keyword">if</span><span class="token operator">=</span><span class="token string">&quot;type === 'C'&quot;</span><span class="token operator">&gt;</span>一般<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>div v<span class="token operator">-</span><span class="token keyword">else</span><span class="token operator">&gt;</span>差<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>

    <span class="token operator">&lt;</span>script src<span class="token operator">=</span><span class="token string">&quot;https://cdn.jsdelivr.net/npm/vue@2/dist/vue.js&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>script type<span class="token operator">=</span><span class="token string">&quot;text/javascript&quot;</span><span class="token operator">&gt;</span>
        <span class="token keyword">const</span> vm <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
            <span class="token literal-property property">el</span><span class="token operator">:</span> <span class="token string">'#app'</span><span class="token punctuation">,</span>
            <span class="token literal-property property">data</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">'B'</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>body<span class="token operator">&gt;</span>
</code></pre></div><p>注意：v-else-if 指令<code>必须配合</code> v-if 指令一起使用，否则它将不会被识别！</p> <h3 id="_1-6-列表渲染指令"><a href="#_1-6-列表渲染指令" class="header-anchor">#</a> 1.6  列表渲染指令</h3> <p>vue 提供了 <code>v-for</code> 列表渲染指令，用来辅助开发者<code>基于一个数组来循环渲染一个列表结构</code>。v-for 指令需要使
用 <code>item in items</code> 形式的特殊语法，其中：</p> <ul><li>items 是<code>待循环的数组</code></li> <li>item 是<code>被循环的每一项</code></li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token operator">&lt;</span>body<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>div id<span class="token operator">=</span><span class="token string">&quot;app&quot;</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>ul<span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>li v<span class="token operator">-</span><span class="token keyword">for</span><span class="token operator">=</span><span class="token string">&quot;item in list&quot;</span><span class="token operator">&gt;</span>姓名：<span class="token punctuation">{</span><span class="token punctuation">{</span>item<span class="token punctuation">.</span>name<span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>ul<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>

    <span class="token operator">&lt;</span>script src<span class="token operator">=</span><span class="token string">&quot;https://cdn.jsdelivr.net/npm/vue@2/dist/vue.js&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>script type<span class="token operator">=</span><span class="token string">&quot;text/javascript&quot;</span><span class="token operator">&gt;</span>
        <span class="token keyword">const</span> vm <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
            <span class="token literal-property property">el</span><span class="token operator">:</span> <span class="token string">'#app'</span><span class="token punctuation">,</span>
            <span class="token literal-property property">data</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                <span class="token literal-property property">list</span><span class="token operator">:</span> <span class="token punctuation">[</span>
                    <span class="token punctuation">{</span> <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'张三'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
                    <span class="token punctuation">{</span> <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'李四'</span> <span class="token punctuation">}</span>
                <span class="token punctuation">]</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>body<span class="token operator">&gt;</span>
</code></pre></div><br> <p><strong>v-for 中的索引</strong></p> <p>v-for 指令还支持一个<code>可选的</code>第二个参数，即<code>当前项的索引</code>。语法格式为 <code>(item, index) in items</code>，示例代码如下：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token operator">&lt;</span>body<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>div id<span class="token operator">=</span><span class="token string">&quot;app&quot;</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>ul<span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>li v<span class="token operator">-</span><span class="token keyword">for</span><span class="token operator">=</span><span class="token string">&quot;(item, index) in list&quot;</span><span class="token operator">&gt;</span>索引：<span class="token punctuation">{</span><span class="token punctuation">{</span>index<span class="token punctuation">}</span><span class="token punctuation">}</span>，姓名：<span class="token punctuation">{</span><span class="token punctuation">{</span>item<span class="token punctuation">.</span>name<span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>ul<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>

    <span class="token operator">&lt;</span>script src<span class="token operator">=</span><span class="token string">&quot;https://cdn.jsdelivr.net/npm/vue@2/dist/vue.js&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>script type<span class="token operator">=</span><span class="token string">&quot;text/javascript&quot;</span><span class="token operator">&gt;</span>
        <span class="token keyword">const</span> vm <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
            <span class="token literal-property property">el</span><span class="token operator">:</span> <span class="token string">'#app'</span><span class="token punctuation">,</span>
            <span class="token literal-property property">data</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                <span class="token literal-property property">list</span><span class="token operator">:</span> <span class="token punctuation">[</span>
                    <span class="token punctuation">{</span> <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'张三'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
                    <span class="token punctuation">{</span> <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'李四'</span> <span class="token punctuation">}</span>
                <span class="token punctuation">]</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>body<span class="token operator">&gt;</span>
</code></pre></div><p>注意：v-for 指令中的 <code>item 项</code>和 <code>index 索引</code>都是形参，可以根据需要进行<code>重命名</code>。例如 <code>(user, i) in userlist</code></p> <br> <p><strong>使用 key 维护列表的状态</strong></p> <p>当<code>列表的数据变化</code>时，默认情况下，vue 会<code>尽可能的复用</code>已存在的 DOM 元素，从而<code>提升渲染的性能</code>。但这种
默认的性能优化策略，会导致<code>有状态的列表无法被正确更新</code>。</p> <p>为了给 vue 一个提示，以便它能跟踪每个节点的身份，从而在保证<code>有状态的列表被正确更新</code>的前提下，<code>提升渲染的性能</code>。此时，需要为每项提供一个<code>唯一的 key 属性</code>：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token operator">&lt;</span>body<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>div id<span class="token operator">=</span><span class="token string">&quot;app&quot;</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>ul<span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>li v<span class="token operator">-</span><span class="token keyword">for</span><span class="token operator">=</span><span class="token string">&quot;(user, index) in userlist&quot;</span> <span class="token operator">:</span>key<span class="token operator">=</span><span class="token string">&quot;user.id&quot;</span><span class="token operator">&gt;</span>索引：<span class="token punctuation">{</span><span class="token punctuation">{</span>index<span class="token punctuation">}</span><span class="token punctuation">}</span>，姓名：<span class="token punctuation">{</span><span class="token punctuation">{</span>user<span class="token punctuation">.</span>name<span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>ul<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>

    <span class="token operator">&lt;</span>script src<span class="token operator">=</span><span class="token string">&quot;https://cdn.jsdelivr.net/npm/vue@2/dist/vue.js&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>script type<span class="token operator">=</span><span class="token string">&quot;text/javascript&quot;</span><span class="token operator">&gt;</span>
        <span class="token keyword">const</span> vm <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
            <span class="token literal-property property">el</span><span class="token operator">:</span> <span class="token string">'#app'</span><span class="token punctuation">,</span>
            <span class="token literal-property property">data</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                <span class="token literal-property property">userlist</span><span class="token operator">:</span> <span class="token punctuation">[</span>
                    <span class="token punctuation">{</span> <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'张三'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
                    <span class="token punctuation">{</span> <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'李四'</span> <span class="token punctuation">}</span>
                <span class="token punctuation">]</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>body<span class="token operator">&gt;</span>
</code></pre></div><br> <p><strong>key 的注意事项</strong></p> <ol><li>key 的值只能是<code>字符串</code>或<code>数字</code>类型</li> <li>key 的值<code>必须具有唯一性</code>（即：key 的值不能重复）</li> <li>建议把<code>数据项 id 属性的值</code>作为 key 的值（因为 id 属性的值具有唯一性）</li> <li>使用 <code>index 的值</code>当作 key 的值<code>没有任何意义</code>（因为 index 的值不具有唯一性）</li> <li>建议使用 v-for 指令时<code>一定要指定 key 的值</code>（既提升性能、又防止列表状态紊乱）</li></ol> <h2 id="过滤器"><a href="#过滤器" class="header-anchor">#</a> 过滤器</h2> <p><code>过滤器（Filters）</code>是 vue 为开发者提供的功能，常用于<code>文本的格式化</code>。过滤器可以用在两个地方：<code>插值表达式</code>
和 <code>v-bind 属性绑定</code>。</p> <p>过滤器应该被添加在 JavaScript 表达式的<code>尾部</code>，由“<code>管道符</code>”进行调用，示例代码如下：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> 在双花括号中通过 管道符 调用 capitalize 过滤器，对 message 的值进行格式化 <span class="token operator">--</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>p<span class="token operator">&gt;</span><span class="token punctuation">{</span><span class="token punctuation">{</span> message <span class="token operator">|</span> capitalize <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">&gt;</span> 

<span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> 在 v<span class="token operator">-</span>bind 中通过 管道符 调用 formatId 的过滤器，对 rawId 的值进行格式化 <span class="token operator">--</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>div v<span class="token operator">-</span>bind<span class="token operator">:</span>id<span class="token operator">=</span><span class="token string">&quot;rawId | formatId&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
</code></pre></div><h3 id="_2-1-定义过滤器"><a href="#_2-1-定义过滤器" class="header-anchor">#</a> 2.1  定义过滤器</h3> <p>在创建 vue 实例期间，可以在 <code>filters 节点</code>中定义过滤器，示例代码如下：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token operator">&lt;</span>body<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>div id<span class="token operator">=</span><span class="token string">&quot;app&quot;</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>p<span class="token operator">&gt;</span><span class="token punctuation">{</span><span class="token punctuation">{</span> message <span class="token operator">|</span> capitalize <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">&gt;</span> 
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>

    <span class="token operator">&lt;</span>script src<span class="token operator">=</span><span class="token string">&quot;https://cdn.jsdelivr.net/npm/vue@2/dist/vue.js&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>script type<span class="token operator">=</span><span class="token string">&quot;text/javascript&quot;</span><span class="token operator">&gt;</span>
        <span class="token keyword">const</span> vm <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
            <span class="token literal-property property">el</span><span class="token operator">:</span> <span class="token string">'#app'</span><span class="token punctuation">,</span>
            <span class="token literal-property property">data</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                <span class="token literal-property property">message</span><span class="token operator">:</span> <span class="token string">'hello vue.js'</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token literal-property property">filters</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                <span class="token function">capitalize</span><span class="token punctuation">(</span><span class="token parameter">str</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">// 把首字母转为大写的过滤器</span>
                    <span class="token keyword">return</span> str<span class="token punctuation">.</span><span class="token function">charAt</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toUpperCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> str<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>body<span class="token operator">&gt;</span>
</code></pre></div><h3 id="_2-2-私有过滤器和全局过滤器"><a href="#_2-2-私有过滤器和全局过滤器" class="header-anchor">#</a> 2.2  私有过滤器和全局过滤器</h3> <p>在 filters 节点下定义的过滤器，称为“<code>私有过滤器</code>”，因为它<code>只能在当前 vm 实例所控制的 el 区域内使用</code>。</p> <p>如果希望<code>在多个 vue 实例之间共享过滤器</code>，则可以按照如下的格式定义<code>全局过滤器</code>：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// 全局过滤器 - 独立于每个 vm 实例之外</span>
<span class="token comment">// Vue.filter() 方法接收两个参数：</span>
<span class="token comment">//   第1个参数，是全局过滤器的“名字”</span>
<span class="token comment">//   第2个参数，是全局过滤器的“处理函数”</span>
Vue<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token string">'capitalize'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">str</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
	<span class="token keyword">return</span> str<span class="token punctuation">.</span><span class="token function">charAt</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toUpperCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> str<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="_2-3-连续调用多个过滤器"><a href="#_2-3-连续调用多个过滤器" class="header-anchor">#</a> 2.3 连续调用多个过滤器</h3> <p>过滤器可以<code>串联地</code>进行调用，例如：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> 把 message 的值，交给 filterA 进行处理 <span class="token operator">--</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> 把 filterA 处理的结果，交给 filterB 进行处理 <span class="token operator">--</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> 最终把 filterB 处理的结果，作为最终的值渲染到页面上 <span class="token operator">--</span><span class="token operator">&gt;</span>
<span class="token punctuation">{</span><span class="token punctuation">{</span> message <span class="token operator">|</span> filterA <span class="token operator">|</span> filterB <span class="token punctuation">}</span><span class="token punctuation">}</span>
</code></pre></div><p>示例代码如下：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token operator">&lt;</span>body<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>div id<span class="token operator">=</span><span class="token string">&quot;app&quot;</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>p<span class="token operator">&gt;</span><span class="token punctuation">{</span><span class="token punctuation">{</span> text <span class="token operator">|</span> capitalize <span class="token operator">|</span> maxLength <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">&gt;</span> 
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>

    <span class="token operator">&lt;</span>script src<span class="token operator">=</span><span class="token string">&quot;https://cdn.jsdelivr.net/npm/vue@2/dist/vue.js&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>script type<span class="token operator">=</span><span class="token string">&quot;text/javascript&quot;</span><span class="token operator">&gt;</span>
        <span class="token comment">// 全局过滤器 - 首字母大写</span>
        Vue<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token string">'capitalize'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">str</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> str<span class="token punctuation">.</span><span class="token function">charAt</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toUpperCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> str<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// 全局过滤器 - 控制文本的最大长度</span>
        Vue<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token string">'maxLength'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">str</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>str<span class="token punctuation">.</span>length <span class="token operator">&lt;=</span> <span class="token number">10</span><span class="token punctuation">)</span> 
                <span class="token keyword">return</span> str<span class="token punctuation">;</span>
            <span class="token keyword">return</span> str<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">'...'</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">const</span> vm <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
            <span class="token literal-property property">el</span><span class="token operator">:</span> <span class="token string">'#app'</span><span class="token punctuation">,</span>
            <span class="token literal-property property">data</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                <span class="token literal-property property">text</span><span class="token operator">:</span> <span class="token string">'abc012345678910'</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>body<span class="token operator">&gt;</span>
</code></pre></div><h3 id="_2-4-过滤器传参"><a href="#_2-4-过滤器传参" class="header-anchor">#</a> 2.4 过滤器传参</h3> <p>过滤器的<code>本质</code>是 <code>JavaScript 函数</code>，因此可以接收参数，格式如下：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> arg1 和 arg2 是传递给 filterA 的参数 <span class="token operator">--</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>p<span class="token operator">&gt;</span><span class="token punctuation">{</span><span class="token punctuation">{</span> message <span class="token operator">|</span> <span class="token function">filterA</span><span class="token punctuation">(</span>arg1<span class="token punctuation">,</span> arg2<span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">&gt;</span>

<span class="token comment">// 过滤器处理函数的形参列表中</span>
<span class="token comment">//   第一个参数：永远都是“管道符”前面待处理的值</span>
<span class="token comment">//   第二个参数开始，才是调用过滤器时传递过来的 arg1 和 arg2 参数</span>
Vue<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token string">'filterA'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">msg<span class="token punctuation">,</span> arg1<span class="token punctuation">,</span> arg2</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">// 过滤器的代码逻辑...</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p>示例代码如下：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token operator">&lt;</span>body<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>div id<span class="token operator">=</span><span class="token string">&quot;app&quot;</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> 调用 maxLength 过滤器时传参 <span class="token operator">--</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>p<span class="token operator">&gt;</span><span class="token punctuation">{</span><span class="token punctuation">{</span> text <span class="token operator">|</span> capitalize <span class="token operator">|</span> <span class="token function">maxLength</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">&gt;</span> 
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>

    <span class="token operator">&lt;</span>script src<span class="token operator">=</span><span class="token string">&quot;https://cdn.jsdelivr.net/npm/vue@2/dist/vue.js&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>script type<span class="token operator">=</span><span class="token string">&quot;text/javascript&quot;</span><span class="token operator">&gt;</span>
        <span class="token comment">// 全局过滤器 - 首字母大写</span>
        Vue<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token string">'capitalize'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">str</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> str<span class="token punctuation">.</span><span class="token function">charAt</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toUpperCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> str<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// 全局过滤器 - 控制文本的最大长度</span>
        Vue<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token string">'maxLength'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">str<span class="token punctuation">,</span> len <span class="token operator">=</span> <span class="token number">10</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>str<span class="token punctuation">.</span>length <span class="token operator">&lt;=</span> len<span class="token punctuation">)</span> 
                <span class="token keyword">return</span> str<span class="token punctuation">;</span>
            <span class="token keyword">return</span> str<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> len<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">'...'</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">const</span> vm <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
            <span class="token literal-property property">el</span><span class="token operator">:</span> <span class="token string">'#app'</span><span class="token punctuation">,</span>
            <span class="token literal-property property">data</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                <span class="token literal-property property">text</span><span class="token operator">:</span> <span class="token string">'abc012345678910'</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>body<span class="token operator">&gt;</span>
</code></pre></div><h3 id="_2-5-过滤器的兼容性"><a href="#_2-5-过滤器的兼容性" class="header-anchor">#</a> 2.5 过滤器的兼容性</h3> <p>过滤器仅在 vue 2.x 和 1.x 中受支持，在 <code>vue 3.x</code> 的版本中 <code>剔除了过滤器</code> 相关的功能。</p> <br> <p>在企业级项目开发中：</p> <ul><li>如果使用的是 2.x 版本的 vue，则依然可以使用过滤器相关的功能</li> <li>如果项目已经升级到了 3.x 版本的 vue，官方建议使用<code>计算属性</code>或<code>方法</code>代替被剔除的过滤器功能</li></ul> <blockquote><p>具体的迁移指南，请参考 vue 3.x 的官方文档给出的说明：</p> <p><u>https://v3.cn.vuejs.org/guide/migration/introduction.html</u></p></blockquote> <h2 id="侦听器"><a href="#侦听器" class="header-anchor">#</a> 侦听器</h2> <h3 id="_1-什么是-watch-侦听器"><a href="#_1-什么是-watch-侦听器" class="header-anchor">#</a> 1.  什么是 watch 侦听器</h3> <p><code>watch 侦听器</code>允许开发者监视数据的变化，从而<code>针对数据的变化做特定的操作</code>。</p> <p>语法格式如下：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token operator">&lt;</span>body<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>div id<span class="token operator">=</span><span class="token string">&quot;app&quot;</span><span class="token operator">&gt;</span>
       <span class="token operator">&lt;</span>input type<span class="token operator">=</span><span class="token string">&quot;text&quot;</span> v<span class="token operator">-</span>model<span class="token operator">=</span><span class="token string">&quot;username&quot;</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>

    <span class="token operator">&lt;</span>script src<span class="token operator">=</span><span class="token string">&quot;https://cdn.jsdelivr.net/npm/vue@2/dist/vue.js&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>script type<span class="token operator">=</span><span class="token string">&quot;text/javascript&quot;</span><span class="token operator">&gt;</span>
        <span class="token keyword">const</span> vm <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
            <span class="token literal-property property">el</span><span class="token operator">:</span> <span class="token string">'#app'</span><span class="token punctuation">,</span>
            <span class="token literal-property property">data</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                <span class="token literal-property property">username</span><span class="token operator">:</span> <span class="token string">''</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token literal-property property">watch</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                <span class="token comment">// 监听 username 值变化</span>
                <span class="token comment">// newVal 是“变化后的新值”，oldVal 是“变化前的旧值”</span>
                <span class="token function">username</span><span class="token punctuation">(</span><span class="token parameter">newVal<span class="token punctuation">,</span> oldVal</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>newVal<span class="token punctuation">,</span> oldVal<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>body<span class="token operator">&gt;</span>
</code></pre></div><h3 id="_2-使用-watch-检测用户名是否可用"><a href="#_2-使用-watch-检测用户名是否可用" class="header-anchor">#</a> 2. 使用 watch 检测用户名是否可用</h3> <p>监听 username 值的变化，并使用 axios 发起 Ajax 请求，<code>检测当前输入的用户名是否可用</code>：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token operator">&lt;</span>body<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>div id<span class="token operator">=</span><span class="token string">&quot;app&quot;</span><span class="token operator">&gt;</span>
       <span class="token operator">&lt;</span>input type<span class="token operator">=</span><span class="token string">&quot;text&quot;</span> v<span class="token operator">-</span>model<span class="token operator">=</span><span class="token string">&quot;username&quot;</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>

    <span class="token operator">&lt;</span>script src<span class="token operator">=</span><span class="token string">&quot;https://cdn.jsdelivr.net/npm/vue@2/dist/vue.js&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>script src<span class="token operator">=</span><span class="token string">&quot;https://unpkg.com/axios/dist/axios.min.js&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>script type<span class="token operator">=</span><span class="token string">&quot;text/javascript&quot;</span><span class="token operator">&gt;</span>
        <span class="token keyword">const</span> vm <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
            <span class="token literal-property property">el</span><span class="token operator">:</span> <span class="token string">'#app'</span><span class="token punctuation">,</span>
            <span class="token literal-property property">data</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                <span class="token literal-property property">username</span><span class="token operator">:</span> <span class="token string">''</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token literal-property property">watch</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                <span class="token comment">// 监听 username 值的变化</span>
                <span class="token keyword">async</span> <span class="token function">username</span><span class="token punctuation">(</span><span class="token parameter">newVal</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>newVal<span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token keyword">if</span> <span class="token punctuation">(</span>newVal <span class="token operator">===</span> <span class="token string">''</span><span class="token punctuation">)</span> <span class="token keyword">return</span>
                    <span class="token comment">// 使用 axios 发起请求，判断用户名是否可用</span>
                    <span class="token keyword">const</span> <span class="token punctuation">{</span> <span class="token literal-property property">data</span><span class="token operator">:</span> res <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">await</span> axios<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'https://www.escook.cn/api/finduser/'</span> <span class="token operator">+</span> newVal<span class="token punctuation">)</span>
                    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
            
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>body<span class="token operator">&gt;</span>
</code></pre></div><h3 id="_3-immediate-选项"><a href="#_3-immediate-选项" class="header-anchor">#</a> 3.  immediate 选项</h3> <p>默认情况下，组件在初次加载完毕后不会调用 watch 侦听器。如果想让 watch 侦听器<code>立即被调用</code>，则需要使
用 <code>immediate</code> 选项。示例代码如下：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token operator">&lt;</span>body<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>div id<span class="token operator">=</span><span class="token string">&quot;app&quot;</span><span class="token operator">&gt;</span>
       <span class="token operator">&lt;</span>input type<span class="token operator">=</span><span class="token string">&quot;text&quot;</span> v<span class="token operator">-</span>model<span class="token operator">=</span><span class="token string">&quot;username&quot;</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>

    <span class="token operator">&lt;</span>script src<span class="token operator">=</span><span class="token string">&quot;https://cdn.jsdelivr.net/npm/vue@2/dist/vue.js&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>script src<span class="token operator">=</span><span class="token string">&quot;https://unpkg.com/axios/dist/axios.min.js&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>script type<span class="token operator">=</span><span class="token string">&quot;text/javascript&quot;</span><span class="token operator">&gt;</span>
        <span class="token keyword">const</span> vm <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
            <span class="token literal-property property">el</span><span class="token operator">:</span> <span class="token string">'#app'</span><span class="token punctuation">,</span>
            <span class="token literal-property property">data</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                <span class="token literal-property property">username</span><span class="token operator">:</span> <span class="token string">'12'</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token literal-property property">watch</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                <span class="token literal-property property">username</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                    <span class="token comment">// handler 是固定写法，表示当 username 的值变化时，自动调用 handler 处理函数</span>
                    <span class="token function-variable function">handler</span><span class="token operator">:</span> <span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">newVal</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                        <span class="token keyword">if</span> <span class="token punctuation">(</span>newVal <span class="token operator">===</span> <span class="token string">''</span><span class="token punctuation">)</span> 
                            <span class="token keyword">return</span><span class="token punctuation">;</span>
                        <span class="token keyword">const</span> <span class="token punctuation">{</span> <span class="token literal-property property">data</span><span class="token operator">:</span> res <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">await</span> axios<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'https://www.escook.cn/api/finduser/'</span> <span class="token operator">+</span> newVal<span class="token punctuation">)</span><span class="token punctuation">;</span>
                        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span>
                    <span class="token punctuation">}</span><span class="token punctuation">,</span>
                    <span class="token comment">// 表示页面初次渲染好之后，就立即触发当前的 watch 侦听器</span>
                    <span class="token literal-property property">immediate</span><span class="token operator">:</span> <span class="token boolean">true</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>body<span class="token operator">&gt;</span>
</code></pre></div><h3 id="_4-deep-选项"><a href="#_4-deep-选项" class="header-anchor">#</a> 4. deep 选项</h3> <p>如果 <code>watch 侦听的是一个对象</code>，如果<code>对象中的属性值发生了变化</code>，则<code>无法被监听到</code>。此时需要使用 <code>deep 选 项</code>，代码示例如下：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token operator">&lt;</span>body<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>div id<span class="token operator">=</span><span class="token string">&quot;app&quot;</span><span class="token operator">&gt;</span>
       <span class="token operator">&lt;</span>input type<span class="token operator">=</span><span class="token string">&quot;text&quot;</span> v<span class="token operator">-</span>model<span class="token operator">=</span><span class="token string">&quot;info.username&quot;</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>

    <span class="token operator">&lt;</span>script src<span class="token operator">=</span><span class="token string">&quot;https://cdn.jsdelivr.net/npm/vue@2/dist/vue.js&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>script type<span class="token operator">=</span><span class="token string">&quot;text/javascript&quot;</span><span class="token operator">&gt;</span>
        <span class="token keyword">const</span> vm <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
            <span class="token literal-property property">el</span><span class="token operator">:</span> <span class="token string">'#app'</span><span class="token punctuation">,</span>
            <span class="token literal-property property">data</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                <span class="token literal-property property">info</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                    <span class="token literal-property property">username</span><span class="token operator">:</span> <span class="token string">''</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token literal-property property">watch</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                <span class="token literal-property property">info</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                    <span class="token function-variable function">handler</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">newVal</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>newVal<span class="token punctuation">.</span>username<span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token punctuation">}</span><span class="token punctuation">,</span>
                    <span class="token literal-property property">deep</span><span class="token operator">:</span> <span class="token boolean">true</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>body<span class="token operator">&gt;</span>
</code></pre></div><h3 id="_5-监听对象单个属性的变化"><a href="#_5-监听对象单个属性的变化" class="header-anchor">#</a> 5. 监听对象单个属性的变化</h3> <p>如果<code>只想监听对象中单个属性的变化</code>，则可以按照如下的方式定义 watch 侦听器：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token operator">&lt;</span>body<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>div id<span class="token operator">=</span><span class="token string">&quot;app&quot;</span><span class="token operator">&gt;</span>
       <span class="token operator">&lt;</span>input type<span class="token operator">=</span><span class="token string">&quot;text&quot;</span> v<span class="token operator">-</span>model<span class="token operator">=</span><span class="token string">&quot;info.username&quot;</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>

    <span class="token operator">&lt;</span>script src<span class="token operator">=</span><span class="token string">&quot;https://cdn.jsdelivr.net/npm/vue@2/dist/vue.js&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>script type<span class="token operator">=</span><span class="token string">&quot;text/javascript&quot;</span><span class="token operator">&gt;</span>
        <span class="token keyword">const</span> vm <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
            <span class="token literal-property property">el</span><span class="token operator">:</span> <span class="token string">'#app'</span><span class="token punctuation">,</span>
            <span class="token literal-property property">data</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                <span class="token literal-property property">info</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                    <span class="token literal-property property">username</span><span class="token operator">:</span> <span class="token string">''</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token literal-property property">watch</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                <span class="token string-property property">'info.username'</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                    <span class="token function">handler</span><span class="token punctuation">(</span><span class="token parameter">newVal</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>newVal<span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token punctuation">}</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>body<span class="token operator">&gt;</span>
</code></pre></div><h2 id="计算属性"><a href="#计算属性" class="header-anchor">#</a> 计算属性</h2> <h3 id="_1-什么是计算属性"><a href="#_1-什么是计算属性" class="header-anchor">#</a> 1. 什么是计算属性</h3> <p>计算属性指的是<code>通过一系列运算</code>之后，最终得到一个<code>属性值</code>。</p> <p><code>这个动态计算出来的属性值</code>可以被 模板结构 或 methods 方法使用。示例代码如下：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token operator">&lt;</span>body<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>div id<span class="token operator">=</span><span class="token string">&quot;app&quot;</span><span class="token operator">&gt;</span>
       <span class="token operator">&lt;</span>p<span class="token operator">&gt;</span><span class="token punctuation">{</span><span class="token punctuation">{</span>rgb<span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>

    <span class="token operator">&lt;</span>script src<span class="token operator">=</span><span class="token string">&quot;https://cdn.jsdelivr.net/npm/vue@2/dist/vue.js&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>script type<span class="token operator">=</span><span class="token string">&quot;text/javascript&quot;</span><span class="token operator">&gt;</span>
        <span class="token keyword">const</span> vm <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
            <span class="token literal-property property">el</span><span class="token operator">:</span> <span class="token string">'#app'</span><span class="token punctuation">,</span>
            <span class="token literal-property property">data</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                <span class="token literal-property property">r</span><span class="token operator">:</span> <span class="token number">100</span><span class="token punctuation">,</span>
                <span class="token literal-property property">g</span><span class="token operator">:</span> <span class="token number">200</span><span class="token punctuation">,</span>
                <span class="token literal-property property">b</span><span class="token operator">:</span> <span class="token number">22</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token literal-property property">computed</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                <span class="token function">rgb</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    <span class="token keyword">return</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">rgb(</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>r<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">, </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>g<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">, </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>b<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">)</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>body<span class="token operator">&gt;</span>
</code></pre></div><h3 id="_2-计算属性的特点"><a href="#_2-计算属性的特点" class="header-anchor">#</a> 2. 计算属性的特点</h3> <ol><li>虽然计算属性在<code>声明的时候</code>被定义为<code>方法</code>，但是计算属性的<code>本质是一个属性</code></li> <li>计算属性会<code>缓存计算的结果</code>，只有计算属性<code>依赖的数据变化时</code>，才会重新进行运算</li></ol> <h2 id="vue-cli"><a href="#vue-cli" class="header-anchor">#</a> vue-cli</h2> <h3 id="_1-什么是单页面应用程序"><a href="#_1-什么是单页面应用程序" class="header-anchor">#</a> 1.  什么是单页面应用程序</h3> <p><code>单页面应用程序</code>（英文名：<code>S</code>ingle <code>P</code>age <code>A</code>pplication）简称 SPA，顾名思义，指的是<code>一个 Web 网站中只有唯一的一个 HTML 页面</code>，所有的功能与交互都在这唯一的一个页面内完成。</p> <p>例如下面这个项目：</p> <img height="120px" src="/assets/img/00021.b849814c.png" alt="结果"> <h3 id="_2-什么是-vue-cli"><a href="#_2-什么是-vue-cli" class="header-anchor">#</a> 2. 什么是 vue-cli</h3> <p><code>vue-cli 是 Vue.js 开发的标准工具</code>。它简化了程序员基于 webpack 创建工程化的 Vue 项目的过程。</p> <br> <p>引用自 vue-cli 官网上的一句话：</p> <p>程序员可以<code>专注在撰写应用上</code>，而不必<code>花好几天去纠结</code> webpack 配置的问题。</p> <blockquote><p>中文官网：https://cli.vuejs.org/zh/</p></blockquote> <h3 id="_3-安装和使用"><a href="#_3-安装和使用" class="header-anchor">#</a> 3. 安装和使用</h3> <p>vue-cli 是 npm 上的一个<code>全局包</code>，使用 <code>npm install</code> 命令，即可方便的把它安装到自己的电脑上：</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token function">npm</span> <span class="token function">install</span> -g @vue/cli
</code></pre></div><p>基于 vue-cli 快速生成工程化的 Vue 项目：</p> <div class="language-shell extra-class"><pre class="language-shell"><code>vue create 项目的名称
</code></pre></div><h3 id="_4-vue-项目的运行流程"><a href="#_4-vue-项目的运行流程" class="header-anchor">#</a> 4. vue 项目的运行流程</h3> <p>在工程化的项目中，vue 要做的事情很单纯：通过 <code>main.js</code> 把 <code>App.vue</code> 渲染到 <code>index.html</code> 的指定区域中。</p> <p>其中：</p> <ol><li><code>App.vue</code> 用来编写待渲染的<code>模板结构</code></li> <li><code>index.html</code> 中需要预留一个 <code>el 区域</code></li> <li><code>main.js</code> 把 App.vue 渲染到了 index.html 所预留的区域中</li></ol> <h2 id="vue组件"><a href="#vue组件" class="header-anchor">#</a> vue组件</h2> <h3 id="_1-什么是组件化开发"><a href="#_1-什么是组件化开发" class="header-anchor">#</a> 1. 什么是组件化开发</h3> <p><code>组件化开发</code>指的是：根据<code>封装</code>的思想，<code>把页面上可重用的 UI 结构封装为组件</code>，从而方便项目的开发和维护。</p> <h3 id="_2-vue-中的组件化开发"><a href="#_2-vue-中的组件化开发" class="header-anchor">#</a> 2. vue 中的组件化开发</h3> <p>vue 是一个<code>支持组件化开发</code>的前端框架。</p> <p>vue 中规定：<code>组件的后缀名</code>是 <code>.vue</code>。之前接触到的 App.vue 文件本质上就是一个 vue 的组件。</p> <h3 id="_3-vue-组件的三个组成部分"><a href="#_3-vue-组件的三个组成部分" class="header-anchor">#</a> 3. vue 组件的三个组成部分</h3> <p>每个 .vue 组件都由 3 部分构成，分别是：</p> <ol><li><code>template</code> -&gt; 组件的<code>模板结构</code></li> <li><code>script</code> -&gt; 组件的 <code>JavaScript 行为</code></li> <li><code>style</code> -&gt; 组件的<code>样式</code></li></ol> <p>其中，<code>每个组件中必须包含 template 模板结构</code>，而 <code>script 行为</code>和 <code>style 样式</code>是<code>可选的</code>组成部分。</p> <h4 id="_3-1-template"><a href="#_3-1-template" class="header-anchor">#</a> 3.1 template</h4> <p>vue 规定：每个组件对应的<code>模板结构</code>，需要定义到 <code>&lt;template&gt;</code> 节点中。</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
	<span class="token comment">&lt;!-- 当前组件的 DOM 结构，需要定义到 template 标签的内部 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>注意：</p> <ul><li>template 是 vue 提供的<code>容器标签</code>，只起到<code>包裹性质的作用</code>，它不会被渲染为真正的 DOM 元素</li> <li>template 中只能包含唯一的根节点</li></ul> <h4 id="_3-2-script"><a href="#_3-2-script" class="header-anchor">#</a> 3.2 script</h4> <p>vue 规定：开发者可以在 <code>&lt;script&gt;</code>节点中<code>封装组件的 JavaScript 业务逻辑</code>。</p> <p>&lt;script&gt; 节点的基本结构如下：</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
    <span class="token comment">// 今后，组件相关的 data 数据、methods 方法等，都需要定义到 export default 所导出的对象中。</span>
    <span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><br> <p><strong>.vue 组件中的 data 必须是函数</strong></p> <p>vue 规定：.vue 组件中的 data <code>必须是一个函数</code>，<code>不能</code>直接<code>指向一个数据对象</code>。
因此在组件中定义 data 数据节点时，下面的方式是<code>错误的</code>：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token literal-property property">data</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token comment">//组件中，不能直接让 data 指向一个数据对象（会报错）</span>
    <span class="token literal-property property">count</span><span class="token operator">:</span> <span class="token number">0</span>
<span class="token punctuation">}</span>
</code></pre></div><blockquote><p>会导致<code>多个组件实例</code>共用<code>同一份数据</code>的问题，请参考官方给出的示例：</p> <p><u>https://cn.vuejs.org/v2/guide/components.html#data</u></p></blockquote> <h4 id="_3-3-style"><a href="#_3-3-style" class="header-anchor">#</a> 3.3 style</h4> <p>vue 规定：组件内的 <code>&lt;style&gt;</code> 节点是可选的，开发者可以在 &lt;style&gt; 节点中<code>编写样式美化当前组件的 UI 结构</code>。</p> <p>&lt;style&gt; 节点的基本结构如下：</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
    <span class="token selector">h1</span> <span class="token punctuation">{</span>
        <span class="token property">font-weight</span><span class="token punctuation">:</span> normal<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><br> <p><strong>让 style 中支持 less 语法</strong></p> <p>在 &lt;style&gt; 标签上添加 <code>lang=&quot;less&quot;</code> 属性，即可使用 less 语法编写组件的样式：</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>less<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
    <span class="token selector">h1</span> <span class="token punctuation">{</span>
        <span class="token property">font-weight</span><span class="token punctuation">:</span> normal<span class="token punctuation">;</span>
        <span class="token selector">span</span> <span class="token punctuation">{</span>
            <span class="token property">color</span><span class="token punctuation">:</span> red<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h3 id="_4-组件之间的父子关系"><a href="#_4-组件之间的父子关系" class="header-anchor">#</a> 4. 组件之间的父子关系</h3> <br> <img height="280px" src="/assets/img/00022.850db7b6.png" alt="结果"> <br> <h4 id="_4-1-使用组件的三个步骤"><a href="#_4-1-使用组件的三个步骤" class="header-anchor">#</a> 4.1 使用组件的三个步骤</h4> <br> <img height="280px" src="/assets/img/00023.8348c824.png" alt="结果"> <h4 id="_4-2-通过-components-注册的是私有子组件"><a href="#_4-2-通过-components-注册的是私有子组件" class="header-anchor">#</a> 4.2 通过 components 注册的是私有子组件</h4> <p>例如：</p> <p>在<code>组件 A</code> 的 components 节点下，注册了<code>组件 F</code>。</p> <p>则组件 F 只能用在组件 A 中；不能被用在<code>组件 C</code> 中。</p> <br> <p><strong>请大家思考两个问题：</strong></p> <ol><li>为什么 F 不能用在组件 C 中？</li> <li>怎样才能在组件 C 中使用 F？</li></ol> <h4 id="_4-3-注册全局组件"><a href="#_4-3-注册全局组件" class="header-anchor">#</a> 4.3 注册全局组件</h4> <p>在 vue 项目的 <code>main.js</code> 入口文件中，通过 <code>Vue.component()</code> 方法，可以注册全局组件。示例代码如下：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// 导入需要全局注册的组件</span>
<span class="token keyword">import</span> Count <span class="token keyword">from</span> <span class="token string">'@/component/Count.vue'</span>

<span class="token comment">// 参数1：字符串格式，表示组件的“注册名称”</span>
<span class="token comment">// 参数2：需要被全局注册的那个组件</span>
Vue<span class="token punctuation">.</span><span class="token function">component</span><span class="token punctuation">(</span><span class="token string">'MyCount'</span><span class="token punctuation">,</span> Count<span class="token punctuation">)</span>
</code></pre></div><h3 id="_5-组件的-props"><a href="#_5-组件的-props" class="header-anchor">#</a> 5. 组件的 props</h3> <p>props 是组件的<code>自定义属性</code>，在<code>封装通用组件</code>的时候，合理地使用 props 可以极大的<code>提高组件的复用性</code>！
它的语法格式如下：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
    <span class="token comment">// 组件的自定义属性</span>
    <span class="token literal-property property">props</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'自定义属性A'</span><span class="token punctuation">,</span> <span class="token string">'自定义属性B'</span><span class="token punctuation">,</span> <span class="token string">'其它自定义属性...'</span><span class="token punctuation">]</span>
    
    <span class="token comment">// 组件的私有数据</span>
    <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    	<span class="token keyword">return</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h4 id="_5-1-props-是只读的"><a href="#_5-1-props-是只读的" class="header-anchor">#</a> 5.1  props 是只读的</h4> <p>vue 规定：组件中封装的自定义属性是<code>只读的</code>，程序员<code>不能直接修改</code> props 的值。否则会直接报错：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'HelloWorld'</span><span class="token punctuation">,</span>
  <span class="token literal-property property">props</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">msg</span><span class="token operator">:</span> String
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">methods</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token function">update</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// 不能直接修改 props 值</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>msg <span class="token operator">=</span> <span class="token string">'123'</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre></div><img height="200px" src="/assets/img/00024.907ebcca.png" alt="结果"> <br> <p>要想修改 props 的值，可以<code>把 props 的值转存到 data 中</code>，因为 data 中的数据都是可读可写的！</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'HelloWorld'</span><span class="token punctuation">,</span>
  <span class="token literal-property property">props</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">msg</span><span class="token operator">:</span> String
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">newMsg</span><span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>msg <span class="token comment">//把 this.msg 的值转存到 newMsg</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">methods</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token function">update</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>newMsg <span class="token operator">=</span> <span class="token string">'123'</span> 
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre></div><h4 id="_5-2-props-的-default-默认值"><a href="#_5-2-props-的-default-默认值" class="header-anchor">#</a> 5.2 props 的 default 默认值</h4> <p>在声明自定义属性时，可以通过 <code>default</code> 来<code>定义属性的默认值</code>。示例代码如下：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'HelloWorld'</span><span class="token punctuation">,</span>
  <span class="token literal-property property">props</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">msg</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token comment">//用 default 属性定义 属性的默认值</span>
      <span class="token keyword">default</span><span class="token operator">:</span> <span class="token string">'张三'</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">newMsg</span><span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>msg
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">methods</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token function">update</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>newMsg <span class="token operator">=</span> <span class="token string">'123'</span> 
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre></div><h4 id="_5-3-props-的-type-值类型"><a href="#_5-3-props-的-type-值类型" class="header-anchor">#</a> 5.3 props 的 type 值类型</h4> <p>在声明自定义属性时，可以通过 <code>type</code> 来<code>定义属性的值类型</code>。示例代码如下：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'HelloWorld'</span><span class="token punctuation">,</span>
  <span class="token literal-property property">props</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">msg</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token comment">//用 default 属性定义 属性的默认值</span>
      <span class="token keyword">default</span><span class="token operator">:</span> <span class="token string">'张三'</span><span class="token punctuation">,</span>
      <span class="token comment">//用 type 属性定义属性的值类型，如果传递过来的值不符合此类型，则会在终端报错</span>
      <span class="token literal-property property">type</span><span class="token operator">:</span> String
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">newMsg</span><span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>msg
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">methods</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token function">update</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>newMsg <span class="token operator">=</span> <span class="token string">'123'</span> 
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre></div><h4 id="_5-4-props-的-required-必填项"><a href="#_5-4-props-的-required-必填项" class="header-anchor">#</a> 5.4 props 的 required 必填项</h4> <p>在声明自定义属性时，可以通过 <code>required</code> 选项，将属性设置为<code>必填项</code>，强制用户必须传递属性的值。示例代
码如下：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'HelloWorld'</span><span class="token punctuation">,</span>
  <span class="token literal-property property">props</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">msg</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token comment">//用 default 属性定义 属性的默认值</span>
      <span class="token keyword">default</span><span class="token operator">:</span> <span class="token string">'张三'</span><span class="token punctuation">,</span>
      <span class="token comment">//用 type 属性定义属性的值类型，如果传递过来的值不符合此类型，则会在终端报错</span>
      <span class="token literal-property property">type</span><span class="token operator">:</span> String<span class="token punctuation">,</span>
      <span class="token comment">//必填项校验</span>
      <span class="token literal-property property">required</span><span class="token operator">:</span> <span class="token boolean">true</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">newMsg</span><span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>msg
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">methods</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token function">update</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>newMsg <span class="token operator">=</span> <span class="token string">'123'</span> 
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="_6-组件之间的样式冲突问题"><a href="#_6-组件之间的样式冲突问题" class="header-anchor">#</a> 6. 组件之间的样式冲突问题</h3> <p>默认情况下，<code>写在 .vue 组件中的样式会全局生效</code>，因此很容易造成<code>多个组件之间的样式冲突问题</code>。</p> <br> <p>导致组件之间样式冲突的根本原因是：</p> <ul><li>单页面应用程序中，所有组件的 DOM 结构，都是基于<code>唯一的 index.html 页面</code>进行呈现的</li> <li>每个组件中的样式，都会<code>影响整个 index.html 页面</code>中的 DOM 元素</li></ul> <h4 id="_6-1-思考-如何解决组件样式冲突的问题"><a href="#_6-1-思考-如何解决组件样式冲突的问题" class="header-anchor">#</a> 6.1 思考：如何解决组件样式冲突的问题</h4> <p>为每个组件<code>分配唯一的自定义属性</code>，在编写组件样式时，通过<code>属性选择器</code>来控制<code>样式的作用域</code>，示例代码如下：</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>container<span class="token punctuation">&quot;</span></span> <span class="token attr-name">data-v-001</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
<span class="token comment">/* 通过中括号“属性选择器”，来防止组件之间的“样式冲突问题”，因为每个组件分配的自定义属性是“唯一的” */</span>
<span class="token selector">.container[data-v-001]</span> <span class="token punctuation">{</span>
  <span class="token property">border</span><span class="token punctuation">:</span> 1px solid red<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h4 id="_6-2-style-节点的-scoped-属性"><a href="#_6-2-style-节点的-scoped-属性" class="header-anchor">#</a> 6.2  style 节点的 scoped 属性</h4> <p>为了提高开发效率和开发体验，vue 为 <code>style 节点</code>提供了 <code>scoped</code> 属性，从而防止组件之间的样式冲突问题：</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>container<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span> <span class="token attr-name">scoped</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
<span class="token comment">/* style 节点的 scoped 属性，用来自动为每个组件分配唯一的“自定义属性”，
    并自动为当前组件的 DOM 标签和 style 样式应用这个自定义属性，防止组件的样式冲突问题 */</span>
<span class="token selector">.container</span> <span class="token punctuation">{</span>
  <span class="token property">border</span><span class="token punctuation">:</span> 1px solid red<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h4 id="_6-3-deep-样式穿透"><a href="#_6-3-deep-样式穿透" class="header-anchor">#</a> 6.3 /deep/ 样式穿透</h4> <p>如果给当前组件的 style 节点添加了 scoped 属性，则<code>当前组件的样式对其子组件是不生效的</code>。如果想让某些样
式对子组件生效，可以使用 <code>/deep/ 深度选择器</code>。</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span> <span class="token attr-name">scoped</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
<span class="token selector">.title</span> <span class="token punctuation">{</span>
  <span class="token property">border</span><span class="token punctuation">:</span> 1px solid red<span class="token punctuation">;</span> <span class="token comment">/* 不加 /deep/ 时，生成的选择器格式为 .title[data-v-469af010] */</span>
<span class="token punctuation">}</span>
    
<span class="token selector">/deep/ .title</span> <span class="token punctuation">{</span>
  <span class="token property">border</span><span class="token punctuation">:</span> 1px solid red<span class="token punctuation">;</span> <span class="token comment">/* 加上 /deep/ 时，生成的选择器格式为 [data-v-469af010] .title */</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h2 id="组件的生命周期"><a href="#组件的生命周期" class="header-anchor">#</a> 组件的生命周期</h2> <h3 id="_1-生命周期-生命周期函数"><a href="#_1-生命周期-生命周期函数" class="header-anchor">#</a> 1.  生命周期 &amp; 生命周期函数</h3> <p><code>生命周期</code>（Life Cycle）是指一个组件从<code>创建</code> -&gt; <code>运行</code> -&gt; <code>销毁</code>的整个阶段，<code>强调的是一个时间段</code>。</p> <p><code>生命周期函数</code>：是由 vue 框架提供的<code>内置函数</code>，会伴随着组件的生命周期，<code>自动按次序执行</code>。</p> <br> <p>注意：<code>生命周期</code>强调的是<code>时间段</code>，<code>生命周期函数</code>强调的是<code>时间点</code>。</p> <h3 id="_2-组件生命周期函数的分类"><a href="#_2-组件生命周期函数的分类" class="header-anchor">#</a> 2. 组件生命周期函数的分类</h3> <br> <img height="280px" src="/assets/img/00025.8e12d32b.png" alt="结果"> <h3 id="_3-生命周期图示"><a href="#_3-生命周期图示" class="header-anchor">#</a> 3. 生命周期图示</h3> <p>可以参考 vue 官方文档给出的“生命周期图示”，进一步理解组件生命周期执行的过程：</p> <p><u>https://cn.vuejs.org/v2/guide/instance.html#生命周期图示</u></p> <h2 id="组件之间的数据共享"><a href="#组件之间的数据共享" class="header-anchor">#</a> 组件之间的数据共享</h2> <h3 id="_1-组件之间的关系"><a href="#_1-组件之间的关系" class="header-anchor">#</a> 1. 组件之间的关系</h3> <p>在项目开发中，组件之间的<code>最常见的关系</code>分为如下两种：</p> <ol><li>父子关系</li> <li>兄弟关系</li></ol> <img height="120px" src="/assets/img/00026.299905e6.png" alt="结果"> <h3 id="_2-父子组件之间的数据共享"><a href="#_2-父子组件之间的数据共享" class="header-anchor">#</a> 2. 父子组件之间的数据共享</h3> <p>父子组件之间的数据共享又分为：</p> <ol><li><code>父 -&gt; 子</code>共享数据</li> <li><code>子 -&gt; 父</code>共享数据</li></ol> <h4 id="_2-1-父组件向子组件共享数据"><a href="#_2-1-父组件向子组件共享数据" class="header-anchor">#</a> 2.1 父组件向子组件共享数据</h4> <p>父组件向子组件共享数据需要使用<code>自定义属性 props</code>。示例代码如下：</p> <img height="260px" src="/assets/img/00027.95f8e8f6.png" alt="结果"> <h4 id="_2-2-子组件向父组件共享数据"><a href="#_2-2-子组件向父组件共享数据" class="header-anchor">#</a> 2.2 子组件向父组件共享数据</h4> <p>子组件向父组件共享数据使用<code>自定义事件</code>。示例代码如下：</p> <img height="300px" src="/assets/img/00028.b19c582e.png" alt="结果"> <h3 id="_3-兄弟组件之间的数据共享"><a href="#_3-兄弟组件之间的数据共享" class="header-anchor">#</a> 3. 兄弟组件之间的数据共享</h3> <p>在 <code>vue2.x</code> 中，兄弟组件之间数据共享的方案是 <code>EventBus</code>。</p> <img height="300px" src="/assets/img/00030.86d45f5e.png" alt="结果"> <p><br><br></p> <p><strong>EventBus 的使用步骤</strong></p> <ol><li>创建 <code>eventBus.js</code> 模块，并向外共享一个 <code>Vue 的实例对象</code></li> <li>在数据<code>发送方</code>，调用 <code>bus.$emit('事件名称', 要发送的数据)</code> 方法<code>触发自定义事件</code></li> <li>在数据<code>接收方</code>，调用 <code>bus.$on('事件名称', 事件处理函数)</code> 方法<code>注册一个自定义事件</code></li></ol> <h2 id="ref-引用"><a href="#ref-引用" class="header-anchor">#</a> ref 引用</h2> <h3 id="_1-什么是-ref-引用"><a href="#_1-什么是-ref-引用" class="header-anchor">#</a> 1. 什么是 ref 引用</h3> <p>ref 用来辅助开发者在<code>不依赖于 jQuery 的情况下</code>，获取 DOM 元素或组件的引用。</p> <p>每个 vue 的组件实例上，都包含一个 <code>$refs 对象</code>，里面存储着对应的 DOM 元素或组件的引用。默认情况下，
<code>组件的 $refs 指向一个空对象</code>。</p> <img height="320px" src="/assets/img/00031.028b1a06.png" alt="结果"> <h3 id="_2-使用-ref-引用-dom-元素"><a href="#_2-使用-ref-引用-dom-元素" class="header-anchor">#</a> 2. 使用 ref 引用 DOM 元素</h3> <p>如果想要使用 ref <code>引用页面上的 DOM 元素</code>，则可以按照如下的方式进行操作：</p> <img height="320px" src="/assets/img/00032.87022e95.png" alt="结果"> <h3 id="_3-使用-ref-引用组件实例"><a href="#_3-使用-ref-引用组件实例" class="header-anchor">#</a> 3. 使用 ref 引用组件实例</h3> <p>如果想要使用 ref <code>引用页面上的组件实例</code>，则可以按照如下的方式进行操作：</p> <img height="320px" src="/assets/img/00033.995bd894.png" alt="结果"> <h3 id="_4-控制文本框和按钮的按需切换"><a href="#_4-控制文本框和按钮的按需切换" class="header-anchor">#</a> 4. 控制文本框和按钮的按需切换</h3> <p>通过布尔值 <code>inputVisible</code> 来控制组件中的文本框与按钮的按需切换。示例代码如下：</p> <img height="360px" src="/assets/img/00034.e673c08f.png" alt="结果"> <h3 id="_5-让文本框自动获得焦点"><a href="#_5-让文本框自动获得焦点" class="header-anchor">#</a> 5. 让文本框自动获得焦点</h3> <p>当文本框展示出来之后，如果希望它立即获得焦点，则可以为其添加 ref 引用，并调用原生 DOM 对象的
<code>.focus()</code> 方法即可。示例代码如下：</p> <img height="320px" src="/assets/img/00035.584cecd5.png" alt="结果"> <h3 id="_6-this-nexttick-cb-方法"><a href="#_6-this-nexttick-cb-方法" class="header-anchor">#</a> 6.  this.$nextTick(cb) 方法</h3> <p>组件的 <code>$nextTick(cb)</code>方法，会把 cb 回调<code>推迟到下一个 DOM 更新周期之后执行</code>。通俗的理解是：等组件的
DOM 更新完成之后，再执行 cb 回调函数。从而能保证 cb 回调函数可以操作到最新的 DOM 元素。</p> <img height="320px" src="/assets/img/00036.07e81a4c.png" alt="结果"> <h2 id="动态组件"><a href="#动态组件" class="header-anchor">#</a> 动态组件</h2> <h3 id="_1-什么是动态组件"><a href="#_1-什么是动态组件" class="header-anchor">#</a> 1.  什么是动态组件</h3> <p>动态组件指的是<code>动态切换组件的显示与隐藏</code>。</p> <h3 id="_2-如何实现动态组件渲染"><a href="#_2-如何实现动态组件渲染" class="header-anchor">#</a> 2.  如何实现动态组件渲染</h3> <p>vue 提供了一个内置的 <code>&lt;component&gt;</code> 组件，<code>专门用来实现动态组件的渲染</code>。示例代码如下：</p> <img height="320px" src="/assets/img/00037.9495b0c1.png" alt="结果"> <h3 id="_3-使用-keep-alive-保持状态"><a href="#_3-使用-keep-alive-保持状态" class="header-anchor">#</a> 3. 使用 keep-alive 保持状态</h3> <p>默认情况下，切换动态组件时<code>无法保持组件的状态</code>。此时可以使用 vue 内置的 <code>&lt;keep-alive&gt;</code> 组件保持动态组件的状态。示例代码如下：</p> <img height="160px" src="/assets/img/00038.ce3ca9b3.png" alt="结果"> <h3 id="_4-keep-alive-对应的生命周期函数"><a href="#_4-keep-alive-对应的生命周期函数" class="header-anchor">#</a> 4. keep-alive 对应的生命周期函数</h3> <p>当组件<code>被缓存</code>时，会自动触发组件的 <code>deactivated</code> 生命周期函数。</p> <p>当组件<code>被激活</code>时，会自动触发组件的 <code>activated</code> 生命周期函数。</p> <img height="240px" src="/assets/img/00039.3bebeb94.png" alt="结果"> <h3 id="_5-keep-alive-的-include-属性"><a href="#_5-keep-alive-的-include-属性" class="header-anchor">#</a> 5.  keep-alive 的 include 属性</h3> <p>include 属性用来指定：只有<code>名称匹配的组件</code>会被缓存。多个组件名之间使用<code>英文的逗号</code>分隔：</p> <img height="140px" src="/assets/img/00040.3fd8b3bc.png" alt="结果"> <h2 id="插槽"><a href="#插槽" class="header-anchor">#</a> 插槽</h2> <h3 id="_1-什么是插槽"><a href="#_1-什么是插槽" class="header-anchor">#</a> 1. 什么是插槽</h3> <p><code>插槽</code>（<code>Slot</code>）是 vue 为<code>组件的封装者</code>提供的能力。允许开发者在封装组件时，把<code>不确定的、希望由用户指定的部分</code>定义为插槽。</p> <img height="260px" src="/assets/img/00041.8ecab0bb.png" alt="结果"> <p>可以把插槽认为是组件封装期间，为用户预留的 <code>内容的占位符</code>。</p> <h3 id="_2-体验插槽的基础用法"><a href="#_2-体验插槽的基础用法" class="header-anchor">#</a> 2. 体验插槽的基础用法</h3> <p>在封装组件时，可以通过 <code>&lt;slot&gt;</code> 元素<code>定义插槽</code>，从而<code>为用户预留内容占位符</code>。示例代码如下：</p> <img height="360px" src="/assets/img/00042.8be312af.png" alt="结果"> <h4 id="_2-1-没有预留插槽的内容会被丢弃"><a href="#_2-1-没有预留插槽的内容会被丢弃" class="header-anchor">#</a> 2.1 没有预留插槽的内容会被丢弃</h4> <p>如果在封装组件时<code>没有预留任何 &lt;slot&gt; 插槽</code>，则用户提供的任何<code>自定义内容</code>都会被<code>丢弃</code>。示例代码如下：</p> <img height="360px" src="/assets/img/00043.ffae808f.png" alt="结果"> <h4 id="_2-2-后备内容"><a href="#_2-2-后备内容" class="header-anchor">#</a> 2.2 后备内容</h4> <p>封装组件时，可以为预留的 &lt;slot&gt; 插槽提供 <code>后备内容</code>（默认内容）。如果组件的使用者没有为插槽提供任何内容，则后备内容会生效。示例代码如下：</p> <img height="180px" src="/assets/img/00044.b8b1e979.png" alt="结果"> <h3 id="_3-具名插槽"><a href="#_3-具名插槽" class="header-anchor">#</a> 3. 具名插槽</h3> <p>如果在封装组件时<code>需要预留多个插槽节点</code>，则需要为每个 &lt;slot&gt; 插槽指定<code>具体的 name 名称</code>。这种<code>带有具体名称</code>的插槽叫做 “具名插槽” 。示例代码如下：</p> <img height="400px" src="/assets/img/00045.511263d5.png" alt="结果"> <p>注意：没有指定 name 名称的插槽，会有隐含的名称叫做 “<code>default</code>”。</p> <h4 id="_3-1-为具名插槽提供内容"><a href="#_3-1-为具名插槽提供内容" class="header-anchor">#</a> 3.1 为具名插槽提供内容</h4> <p>在向具名插槽提供内容的时候，我们可以在一个 <code>&lt;template&gt;</code> 元素上使用 <code>v-slot</code> 指令，并以 v-slot 的参数的
形式提供其名称。示例代码如下：</p> <img height="400px" src="/assets/img/00046.62e9cb24.png" alt="结果"> <h4 id="_3-2-具名插槽的简写形式"><a href="#_3-2-具名插槽的简写形式" class="header-anchor">#</a> 3.2 具名插槽的简写形式</h4> <p>跟 v-on 和 v-bind 一样，v-slot 也有缩写，即把参数之前的所有内容 (<code>v-slot:</code>) 替换为字符 <code>#</code>。例如 v-slot:header 可以被重写为 #header：</p> <img height="400px" src="/assets/img/00047.a7aa6d0e.png" alt="结果"> <h3 id="_4-作用域插槽"><a href="#_4-作用域插槽" class="header-anchor">#</a> 4. 作用域插槽</h3> <p>在封装组件的过程中，可以为预留的  &lt;slot&gt;  插槽绑定 props 数据，这种<code>带有 props 数据的 &lt;slot&gt;</code> 叫做“<code>作用域插槽</code>”。示例代码如下：</p> <img height="180px" src="/assets/img/00048.492da8d8.png" alt="结果"> <h4 id="_4-1-使用作用域插槽"><a href="#_4-1-使用作用域插槽" class="header-anchor">#</a> 4.1 使用作用域插槽</h4> <p>可以使用 <code>v-slot:</code> 的形式，接收作用域插槽对外提供的数据。示例代码如下：</p> <img height="280px" src="/assets/img/00049.c3d8248d.png" alt="结果"> <h4 id="_4-2-解构插槽-prop"><a href="#_4-2-解构插槽-prop" class="header-anchor">#</a> 4.2 解构插槽 Prop</h4> <p>作用域插槽对外提供的数据对象，可以使用<code>解构赋值</code>简化数据的接收过程。示例代码如下：</p> <img height="320px" src="/assets/img/00050.29ee07fb.png" alt="结果"> <h2 id="自定义指令"><a href="#自定义指令" class="header-anchor">#</a> 自定义指令</h2> <h3 id="_1-什么是自定义指令"><a href="#_1-什么是自定义指令" class="header-anchor">#</a> 1. 什么是自定义指令</h3> <p>vue 官方提供了 v-text、v-for、v-model、v-if 等常用的指令。除此之外 vue 还允许开发者自定义指令。</p> <h3 id="_2-自定义指令的分类"><a href="#_2-自定义指令的分类" class="header-anchor">#</a> 2. 自定义指令的分类</h3> <p>vue 中的自定义指令分为两类，分别是：</p> <ul><li><code>私有</code>自定义指令</li> <li><code>全局</code>自定义指令</li></ul> <h3 id="_3-私有自定义指令"><a href="#_3-私有自定义指令" class="header-anchor">#</a> 3. 私有自定义指令</h3> <p>在每个 vue 组件中，可以在 <code>directives</code> 节点下声明<code>私有自定义指令</code>。示例代码如下：</p> <img height="280px" src="/assets/img/00051.2c10ca3f.png" alt="结果"> <h3 id="_4-使用自定义指令"><a href="#_4-使用自定义指令" class="header-anchor">#</a> 4. 使用自定义指令</h3> <p>在使用自定义指令时，需要加上 <code>v-</code> 前缀。示例代码如下：</p> <img height="140px" src="/assets/img/00052.d3f804ef.png" alt="结果"> <h3 id="_5-为自定义指令动态绑定参数值"><a href="#_5-为自定义指令动态绑定参数值" class="header-anchor">#</a> 5. 为自定义指令动态绑定参数值</h3> <p>在 template 结构中<code>使用自定义指令</code>时，可以通过等号（<code>=</code>）的方式，为当前指令<code>动态绑定参数值</code>：</p> <img height="240px" src="/assets/img/00053.c66228b2.png" alt="结果"> <h3 id="_6-通过-binding-获取指令的参数值"><a href="#_6-通过-binding-获取指令的参数值" class="header-anchor">#</a> 6.  通过 binding 获取指令的参数值</h3> <p>在声明自定义指令时，可以通过形参中的<code>第二个参数</code>，来接收指令的参数值：</p> <img height="240px" src="/assets/img/00054.27803684.png" alt="结果"> <h3 id="_7-update-函数"><a href="#_7-update-函数" class="header-anchor">#</a> 7. update 函数</h3> <p>bind 函数<code>只调用 1 次</code>：当指令第一次绑定到元素时调用，<code>当 DOM 更新时 bind 函数不会被触发</code>。 <code>update</code> 函
数会在<code>每次 DOM 更新时被调用</code>。示例代码如下：</p> <img height="300px" src="/assets/img/00055.f3d589fd.png" alt="结果"> <h3 id="_8-函数简写"><a href="#_8-函数简写" class="header-anchor">#</a> 8. 函数简写</h3> <p>如果 <code>insert</code> 和<code>update</code> 函数中的<code>逻辑完全相同</code>，则<code>对象格式</code>的自定义指令可以简写成<code>函数格式</code>：</p> <img height="200px" src="/assets/img/00056.43af2059.png" alt="结果"> <h3 id="_9-全局自定义指令"><a href="#_9-全局自定义指令" class="header-anchor">#</a> 9. 全局自定义指令</h3> <p>全局共享的自定义指令需要通过“<code>Vue.directive()</code>”进行声明，示例代码如下：</p> <img height="180px" src="/assets/img/00057.2932396d.png" alt="结果"> <h2 id="路由原理"><a href="#路由原理" class="header-anchor">#</a> 路由原理</h2> <h3 id="_1-什么是路由"><a href="#_1-什么是路由" class="header-anchor">#</a> 1. 什么是路由</h3> <p>路由（英文：router）就是<code>对应关系</code>。</p> <h3 id="_2-spa-与前端路由"><a href="#_2-spa-与前端路由" class="header-anchor">#</a> 2. SPA 与前端路由</h3> <p>SPA 指的是一个 web 网站只有唯一的一个 HTML 页面，<code>所有组件的展示与切换</code>都在这唯一的一个页面内完成。
此时，<code>不同组件之间的切换</code>需要通过<code>前端路由</code>来实现。</p> <p>结论：在 SPA 项目中，<code>不同功能之间的切换</code>，要<code>依赖于前端路由</code>来完成！</p> <h3 id="_3-什么是前端路由"><a href="#_3-什么是前端路由" class="header-anchor">#</a> 3. 什么是前端路由</h3> <p>通俗易懂的概念：<code>Hash 地址</code>与<code>组件</code>之间的<code>对应关系</code>。</p> <h3 id="_4-前端路由的工作方式"><a href="#_4-前端路由的工作方式" class="header-anchor">#</a> 4. 前端路由的工作方式</h3> <ol><li>用户<code>点击了</code>页面上的<code>路由链接</code></li> <li>导致了 <code>URL 地址栏</code>中的 <code>Hash 值</code>发生了变化</li> <li><code>前端路由监听了到 Hash 地址的变化</code></li> <li>前端路由把当前 <code>Hash 地址对应的组件</code>渲染都浏览器中</li></ol> <img height="280px" src="/assets/img/00058.b5112313.png" alt="结果"> <p>结论：前端路由，指的是 <code>Hash 地址</code>与<code>组件</code>之间的<code>对应关系</code>！</p> <h3 id="_5-实现简易的前端路由"><a href="#_5-实现简易的前端路由" class="header-anchor">#</a> 5. 实现简易的前端路由</h3> <p>步骤1：通过 <code>&lt;component&gt;</code> 标签，结合 <code>comName</code> 动态渲染组件。示例代码如下：</p> <img height="300px" src="/assets/img/00059.4b72b99b.png" alt="结果"> <br> <p>步骤2：在 App.vue 组件中，为 <code>&lt;a&gt; 链接</code> 添加对应的<code>hash 值</code>：</p> <img height="140px" src="/assets/img/00060.a1784160.png" alt="结果"> <br> <p>步骤3：在 <code>created</code> 生命周期函数中，监听浏览器地址栏中 <code>hash 地址的变化</code>，动态切换要展示的组件的名称：</p> <img height="440px" src="/assets/img/00061.383424bb.png" alt="结果"> <h2 id="vue-router"><a href="#vue-router" class="header-anchor">#</a> vue-router</h2> <h3 id="_1-什么是-vue-router"><a href="#_1-什么是-vue-router" class="header-anchor">#</a> 1. 什么是 vue-router</h3> <p><code>vue-router</code> 是 vue.js 官方给出的<code>路由解决方案</code>。它只能结合 vue 项目进行使用，能够轻松的管理 SPA 项目
中组件的切换。</p> <blockquote><p>vue-router 的官方文档地址：<u>https://router.vuejs.org/zh/</u></p></blockquote> <h3 id="_2-vue-router-安装和配置的步骤"><a href="#_2-vue-router-安装和配置的步骤" class="header-anchor">#</a> 2. vue-router 安装和配置的步骤</h3> <ol><li>安装 vue-router 包</li> <li><code>创建路由模块</code></li> <li>导入并挂载路由模块</li> <li>声明<code>路由链接</code>和<code>占位符</code></li></ol> <h4 id="_2-1-在项目中安装-vue-router"><a href="#_2-1-在项目中安装-vue-router" class="header-anchor">#</a> 2.1 在项目中安装 vue-router</h4> <p>在 vue2 的项目中，安装 vue-router 的命令如下：</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token function">npm</span> i vue-router@3.5.2 -S
</code></pre></div><h4 id="_2-2-创建路由模块"><a href="#_2-2-创建路由模块" class="header-anchor">#</a> 2.2 创建路由模块</h4> <p>在 <code>src</code> 源代码目录下，新建 <code>router/index.js</code> 路由模块，并初始化如下的代码：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// 1. 导入 Vue 和 VueRouter</span>
<span class="token keyword">import</span> Vue <span class="token keyword">from</span> <span class="token string">'vue'</span>
<span class="token keyword">import</span> VueRouter <span class="token keyword">from</span> <span class="token string">'vue-router'</span>

<span class="token comment">// 2. 调用 Vue.use() 函数，把 VueRouter 安装为 Vue 的插件</span>
Vue<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>VueRouter<span class="token punctuation">)</span>

<span class="token comment">// 3. 创建路由的实例对象</span>
<span class="token keyword">const</span> router <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">VueRouter</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">// 4. 向外共享路由的实例对象</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> router
</code></pre></div><h4 id="_2-3-导入并挂载路由模块"><a href="#_2-3-导入并挂载路由模块" class="header-anchor">#</a> 2.3 导入并挂载路由模块</h4> <p>在 src/<code>main.js</code> 入口文件中，导入并挂载路由模块。示例代码如下：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">import</span> Vue <span class="token keyword">from</span> <span class="token string">'vue'</span>
<span class="token keyword">import</span> App <span class="token keyword">from</span> <span class="token string">'./App.vue'</span>

<span class="token comment">// 1. 导入路由模块</span>
<span class="token keyword">import</span> router <span class="token keyword">from</span> <span class="token string">'@/router'</span>

Vue<span class="token punctuation">.</span>config<span class="token punctuation">.</span>productionTip <span class="token operator">=</span> <span class="token boolean">false</span>

<span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token function-variable function">render</span><span class="token operator">:</span> <span class="token parameter">h</span> <span class="token operator">=&gt;</span> <span class="token function">h</span><span class="token punctuation">(</span>App<span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token comment">// 2. 挂载路由模块</span>
  <span class="token literal-property property">router</span><span class="token operator">:</span> router
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">$mount</span><span class="token punctuation">(</span><span class="token string">'#app'</span><span class="token punctuation">)</span>
</code></pre></div><h4 id="_2-4-声明路由链接和占位符"><a href="#_2-4-声明路由链接和占位符" class="header-anchor">#</a> 2.4 声明路由链接和占位符</h4> <p>在 src/App.vue 组件中，使用 vue-router 提供的 <code>&lt;router-link&gt;</code> 和 <code>&lt;router-view&gt;</code> 声明路由链接和占位符：</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>app<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span>App组件<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>

    <span class="token comment">&lt;!-- 1. 定义路由链接 --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>router-link</span> <span class="token attr-name">to</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/home<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>首页<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>router-link</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>router-link</span> <span class="token attr-name">to</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/movie<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>电影<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>router-link</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>router-link</span> <span class="token attr-name">to</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/about<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>关于<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>router-link</span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>hr</span><span class="token punctuation">&gt;</span></span>

    <span class="token comment">&lt;!-- 2. 定义路由的占位符 --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>router-view</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>router-view</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h4 id="_2-5-声明路由的匹配规则"><a href="#_2-5-声明路由的匹配规则" class="header-anchor">#</a> 2.5  声明路由的匹配规则</h4> <p>在 src/router/index.js 路由模块中，通过 <code>routes 数组</code>声明路由的匹配规则。示例代码如下：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// 1. 导入 Vue 和 VueRouter</span>
<span class="token keyword">import</span> Vue <span class="token keyword">from</span> <span class="token string">'vue'</span>
<span class="token keyword">import</span> VueRouter <span class="token keyword">from</span> <span class="token string">'vue-router'</span>

<span class="token keyword">import</span> Home <span class="token keyword">from</span> <span class="token string">'@/components/Home'</span>
<span class="token keyword">import</span> Movie <span class="token keyword">from</span> <span class="token string">'@/components/Movie'</span>
<span class="token keyword">import</span> About <span class="token keyword">from</span> <span class="token string">'@/components/About'</span>

<span class="token comment">// 2. 调用 Vue.use() 函数，把 VueRouter 安装为 Vue 的插件</span>
Vue<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>VueRouter<span class="token punctuation">)</span>

<span class="token comment">// 3. 创建路由的实例对象</span>
<span class="token keyword">const</span> router <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">VueRouter</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token literal-property property">routes</span><span class="token operator">:</span> <span class="token punctuation">[</span> <span class="token comment">// 在 routes 数组中，声明路由的匹配规则</span>
        <span class="token comment">// path 表示匹配的 hash 地址；component 表示要展示的路由组件</span>
        <span class="token punctuation">{</span> <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">'/home'</span><span class="token punctuation">,</span> <span class="token literal-property property">component</span><span class="token operator">:</span> Home <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span> <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">'/movie'</span><span class="token punctuation">,</span> <span class="token literal-property property">component</span><span class="token operator">:</span> Movie <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span> <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">'/about'</span><span class="token punctuation">,</span> <span class="token literal-property property">component</span><span class="token operator">:</span> About <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token comment">// 4. 向外共享路由的实例对象</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> router
</code></pre></div><h3 id="_3-vue-router-的常见用法"><a href="#_3-vue-router-的常见用法" class="header-anchor">#</a> 3. vue-router 的常见用法</h3> <h4 id="_3-1-路由重定向"><a href="#_3-1-路由重定向" class="header-anchor">#</a> 3.1 路由重定向</h4> <p><code>路由重定向</code>指的是：用户在访问<code>地址 A</code> 的时候，<code>强制用户跳转</code>到地址 C ，从而展示特定的组件页面。</p> <p>通过路由规则的 <code>redirect</code> 属性，指定一个新的路由地址，可以很方便地设置路由的重定向：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> router <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">VueRouter</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token comment">// 在 routes 数组中，声明路由的匹配规则</span>
    <span class="token literal-property property">routes</span><span class="token operator">:</span> <span class="token punctuation">[</span> 
        <span class="token comment">// 当用户访问 / 的时候，通过 redirect 属性跳转到 /home 对应的路由规则</span>
        <span class="token punctuation">{</span> <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">'/'</span><span class="token punctuation">,</span> <span class="token literal-property property">redirect</span><span class="token operator">:</span> <span class="token string">'/home'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span> <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">'/home'</span><span class="token punctuation">,</span> <span class="token literal-property property">component</span><span class="token operator">:</span> Home <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span> <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">'/movie'</span><span class="token punctuation">,</span> <span class="token literal-property property">component</span><span class="token operator">:</span> Movie <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span> <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">'/about'</span><span class="token punctuation">,</span> <span class="token literal-property property">component</span><span class="token operator">:</span> About <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><h4 id="_3-2-嵌套路由"><a href="#_3-2-嵌套路由" class="header-anchor">#</a> 3.2 嵌套路由</h4> <p>通过路由实现<code>组件的嵌套展示</code>，叫做嵌套路由。</p> <img height="400px" src="/assets/img/00062.f52db237.png" alt="结果"> <h4 id="_3-3-声明子路由链接和子路由占位符"><a href="#_3-3-声明子路由链接和子路由占位符" class="header-anchor">#</a> 3.3 声明子路由链接和子路由占位符</h4> <p>在 <code>About.vue</code> 组件中，声明 tab1 和 tab2 的<code>子路由链接</code>以及<code>子路由占位符</code>。示例代码如下：</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>container<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h3</span><span class="token punctuation">&gt;</span></span>About 组件<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h3</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!-- 1. 在关于页面中，声明两个子路由链接 --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>router-link</span> <span class="token attr-name">to</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/about/tab1<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>tab1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>router-link</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>router-link</span> <span class="token attr-name">to</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/about/tab2<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>tab2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>router-link</span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>hr</span><span class="token punctuation">&gt;</span></span>

    <span class="token comment">&lt;!-- 2. 在关于页面中，声明子路由的占位符 --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>router-view</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>router-view</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h4 id="_3-4-通过-children-属性声明子路由规则"><a href="#_3-4-通过-children-属性声明子路由规则" class="header-anchor">#</a> 3.4 通过 children 属性声明子路由规则</h4> <p>在 src/router/index.js 路由模块中，导入需要的组件，并使用 <code>children 属性</code>声明子路由规则：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> router <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">VueRouter</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token literal-property property">routes</span><span class="token operator">:</span> <span class="token punctuation">[</span> 
        <span class="token punctuation">{</span> <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">'/'</span><span class="token punctuation">,</span> <span class="token literal-property property">redirect</span><span class="token operator">:</span> <span class="token string">'/home'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span> <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">'/home'</span><span class="token punctuation">,</span> <span class="token literal-property property">component</span><span class="token operator">:</span> Home <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span> <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">'/movie'</span><span class="token punctuation">,</span> <span class="token literal-property property">component</span><span class="token operator">:</span> Movie <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span> <span class="token comment">// about页面路由规则（父级路由规则）</span>
            <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">'/about'</span><span class="token punctuation">,</span> 
            <span class="token literal-property property">component</span><span class="token operator">:</span> About<span class="token punctuation">,</span>
            <span class="token literal-property property">children</span><span class="token operator">:</span> <span class="token punctuation">[</span> <span class="token comment">// 1. 通过 children 属性，嵌套声明子级路由规则</span>
                <span class="token punctuation">{</span> <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">'tab1'</span><span class="token punctuation">,</span> <span class="token literal-property property">component</span><span class="token operator">:</span> Tab1 <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token comment">// 2. 访问 /about/tab1 时，展示 Tab1 组件</span>
                <span class="token punctuation">{</span> <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">'tab2'</span><span class="token punctuation">,</span> <span class="token literal-property property">component</span><span class="token operator">:</span> Tab2 <span class="token punctuation">}</span> <span class="token comment">// 2. 访问 /about/tab2 时，展示 Tab2 组件</span>
            <span class="token punctuation">]</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="_4-动态路由匹配"><a href="#_4-动态路由匹配" class="header-anchor">#</a> 4. 动态路由匹配</h3> <p>思考：有如下 3 个路由链接：</p> <img height="140px" src="/assets/img/00063.5875305c.png" alt="结果"> <p>定义如下 3 个路由规则，是否可行???</p> <img height="140px" src="/assets/img/00064.b0ab9cc9.png" alt="结果"> <br> <p>缺点：路由规则的<code>复用性差</code>。</p> <h4 id="_4-1-动态路由的概念"><a href="#_4-1-动态路由的概念" class="header-anchor">#</a> 4.1 动态路由的概念</h4> <p>动态路由指的是：把 Hash 地址中<code>可变的部分</code>定义为<code>参数项</code>，从而<code>提高路由规则的复用性</code>。</p> <p>在 vue-router 中使用<code>英文的冒号</code>（<code>:</code>）来定义路由的参数项。示例代码如下：</p> <img height="240px" src="/assets/img/00065.a96c413c.png" alt="结果"> <h4 id="_4-2-route-params-参数对象"><a href="#_4-2-route-params-参数对象" class="header-anchor">#</a> 4.2  $route.params 参数对象</h4> <p>在<code>动态路由</code>渲染出来的组件中，可以使用 <code>this.$route.params</code> 对象访问到<code>动态匹配的参数值</code>。</p> <img height="340px" src="/assets/img/00066.8de111d3.png" alt="结果"> <h4 id="_4-3-使用-props-接收路由参数"><a href="#_4-3-使用-props-接收路由参数" class="header-anchor">#</a> 4.3 使用 props 接收路由参数</h4> <p><code>为了简化路由参数的获取形式</code>，vue-router 允许在<code>路由规则</code>中<code>开启 props 传参</code>。示例代码如下：</p> <img height="360px" src="/assets/img/00067.f6bae2fd.png" alt="结果"> <h3 id="_5-声明式导航-编程式导航"><a href="#_5-声明式导航-编程式导航" class="header-anchor">#</a> 5.  声明式导航 &amp; 编程式导航</h3> <p>在浏览器中，<code>点击链接</code>实现导航的方式，叫做<code>声明式导航</code>。例如：</p> <ul><li>普通网页中点击 <code>&lt;a&gt;链接</code> 、vue 项目中点击 <code>&lt;router-link&gt;</code>  都属于声明式导航</li></ul> <br> <p>在浏览器中，<code>调用 API 方法</code>实现导航的方式，叫做<code>编程式导航</code>。例如：</p> <ul><li>普通网页中调用 <code>location.href</code> 跳转到新页面的方式，属于编程式导航</li></ul> <h4 id="_5-1-vue-router-中的编程式导航-api"><a href="#_5-1-vue-router-中的编程式导航-api" class="header-anchor">#</a> 5.1 vue-router 中的编程式导航 API</h4> <p>vue-router 提供了许多编程式导航的 API，其中最常用的导航 API 分别是：</p> <ol><li>this.$router.push('hash 地址')
<ul><li>跳转到指定 hash 地址，并<code>增加</code>一条历史记录</li></ul></li> <li>this.$router.replace('hash 地址')
<ul><li>跳转到指定的 hash 地址，并<code>替换掉当前的</code>历史记录</li></ul></li> <li>this.$router.go(数值 n)
<ul><li>实现导航历史前进、后退</li></ul></li></ol> <h4 id="_5-2-router-push"><a href="#_5-2-router-push" class="header-anchor">#</a> 5.2  $router.push</h4> <p>调用 <code>this.$router.push()</code> 方法，可以跳转到指定的 hash 地址，从而展示对应的组件页面。示例代码如下：</p> <img height="360px" src="/assets/img/00068.8439d833.png" alt="结果"> <h4 id="_5-3-router-replace"><a href="#_5-3-router-replace" class="header-anchor">#</a> 5.3  $router.replace</h4> <p>调用 <code>this.$router.replace()</code> 方法，可以跳转到指定的 hash 地址，从而展示对应的组件页面。</p> <br> <p>push 和 replace 的区别：</p> <ul><li>push 会<code>增加一条历史记录</code></li> <li>replace 不会增加历史记录，而是<code>替换掉当前的历史记录</code></li></ul> <h4 id="_5-4-router-go"><a href="#_5-4-router-go" class="header-anchor">#</a> 5.4  $router.go</h4> <p>在实际开发中，一般只会前进和后退一层页面。因此 vue-router 提供了如下两个便捷方法：</p> <ol><li>$router.back()
<ul><li>在历史记录中，<code>后退</code>到上一个页面</li></ul></li> <li>$router.forward()
<ul><li>在历史记录中，<code>前进</code>到下一个页面</li></ul></li></ol> <h3 id="_6-导航守卫"><a href="#_6-导航守卫" class="header-anchor">#</a> 6. 导航守卫</h3> <p><code>导航守卫</code>可以<code>控制路由的访问权限</code>。示意图如下：</p> <img height="360px" src="/assets/img/00069.b0446bad.png" alt="结果"> <h4 id="_6-1-全局前置守卫"><a href="#_6-1-全局前置守卫" class="header-anchor">#</a> 6.1 全局前置守卫</h4> <p>每次发生路由的<code>导航跳转</code>时，都会触发<code>全局前置守卫</code>。因此，在全局前置守卫中，程序员可以对每个路由进行
访问权限的控制：</p> <img height="220px" src="/assets/img/00070.1b759179.png" alt="结果"> <h4 id="_6-2-守卫方法的-3-个形参"><a href="#_6-2-守卫方法的-3-个形参" class="header-anchor">#</a> 6.2 守卫方法的 3 个形参</h4> <p><code>全局前置守卫</code>的回调函数中接收 3 个形参，格式为：</p> <img height="260px" src="/assets/img/00071.6fc473b0.png" alt="结果"> <h4 id="_6-3-next-函数的-3-种调用方式"><a href="#_6-3-next-函数的-3-种调用方式" class="header-anchor">#</a> 6.3 next 函数的 3 种调用方式</h4> <p>参考示意图，分析 next 函数的 3 种调用方式最终导致的结果：</p> <img height="220px" src="/assets/img/00072.fe8c822a.png" alt="结果"> <ol><li>当前用户<code>拥有</code>后台主页的访问权限，直接放行：next()</li> <li>当前用户<code>没有</code>后台主页的访问权限，<code>强制其跳转到登录页面</code>：next('/login')</li> <li>当前用户<code>没有</code>后台主页的访问权限，<code>不允许跳转到后台主页</code>：next(false)</li></ol> <h4 id="_6-4-控制后台主页的访问权限"><a href="#_6-4-控制后台主页的访问权限" class="header-anchor">#</a> 6.4 控制后台主页的访问权限</h4> <br> <img height="360px" src="/assets/img/00073.a8a581fe.png" alt="结果"> <h3 id="_7-参数传递"><a href="#_7-参数传递" class="header-anchor">#</a> 7. 参数传递</h3> <h4 id="_7-1-声明式导航-通过router-link标签中的to传参"><a href="#_7-1-声明式导航-通过router-link标签中的to传参" class="header-anchor">#</a> 7.1 声明式导航 - 通过router-link标签中的to传参</h4> <ol><li>在src/components/Home.vue里面导航中添加如下代码：</li></ol> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>router-link</span> <span class="token attr-name">:to</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{name: <span class="token punctuation">'</span>one<span class="token punctuation">'</span>, params:{username:<span class="token punctuation">'</span>test123<span class="token punctuation">'</span>}}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>子页面1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>router-link</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><ol start="2"><li>在src/router/indes.js中添加如下代码，重点是name：</li></ol> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token punctuation">{</span>
    <span class="token literal-property property">path</span><span class="token operator">:</span><span class="token string">'one'</span><span class="token punctuation">,</span> <span class="token comment">// 子页面1</span>
    <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'one'</span><span class="token punctuation">,</span> <span class="token comment">// 路由名称-命名路由</span>
    <span class="token literal-property property">component</span><span class="token operator">:</span>One
<span class="token punctuation">}</span>
</code></pre></div><ol start="3"><li>在src/components/One.vue里面接受参数，代码如下：</li></ol> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">&gt;</span></span>{{this.$route.params.username}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h4 id="_7-2-声明式导航-url中传递参数"><a href="#_7-2-声明式导航-url中传递参数" class="header-anchor">#</a> 7.2 声明式导航 - url中传递参数</h4> <ol><li>在路由中以冒号传递，在src/router/index.js中加入如下代码</li></ol> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token punctuation">{</span>
    <span class="token literal-property property">path</span><span class="token operator">:</span><span class="token string">'/home/two/:id/:name'</span><span class="token punctuation">,</span> <span class="token comment">// 子页面2</span>
    <span class="token literal-property property">component</span><span class="token operator">:</span>Two
<span class="token punctuation">}</span>
</code></pre></div><ol start="2"><li>接受参数，在src/components/Two.vuez中加入如下代码：</li></ol> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>ID：{{ $route.params.id}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>名称：{{ $route.params.name}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><ol start="3"><li>路由跳转，在src/components/Home.vue中加入如下代码：</li></ol> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>router-link</span> <span class="token attr-name">to</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/home/two/1/张三<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>子页面2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>router-link</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><br> <p>如果路由参数需要有特定的规则，就需要加入<code>正则表达式</code>了，示例如下：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token punctuation">{</span>
    <span class="token literal-property property">path</span><span class="token operator">:</span><span class="token string">'/home/two/:id(\\d+)/:name'</span><span class="token punctuation">,</span> <span class="token comment">// 子页面2</span>
    <span class="token literal-property property">component</span><span class="token operator">:</span>Two
<span class="token punctuation">}</span>
</code></pre></div><h4 id="_7-3-编程式导航-params传递参数"><a href="#_7-3-编程式导航-params传递参数" class="header-anchor">#</a> 7.3 编程式导航 - params传递参数</h4> <ol><li>在src/router/index.js页面加入如下代码：</li></ol> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token punctuation">{</span>
    <span class="token literal-property property">path</span><span class="token operator">:</span><span class="token string">'/home/three'</span><span class="token punctuation">,</span> <span class="token comment">// 子页面3</span>
    <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'three'</span><span class="token punctuation">,</span>
    <span class="token literal-property property">component</span><span class="token operator">:</span>Three
<span class="token punctuation">}</span>
</code></pre></div><ol start="2"><li>在src/components/Three.vue页面加入如下代码：</li></ol> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>ID：{{ $route.params.id}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>名称：{{ $route.params.name}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><ol start="3"><li>在src/components/Home.vue中加入如下代码：</li></ol> <div class="language-html extra-class"><pre class="language-html"><code>// template
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>toThreePage<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>页面3-params传参<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>

// script
methods: {
    toThreePage() {
        this.$router.push({name: 'three', params: {id: 1, name: 'zhangsan'}})
    }
}
</code></pre></div><p><strong>说明：</strong></p> <ul><li>动态路由使用params传递参数，在this.$router.push() 方法中path不能和params一起使用，否则params将无效。需要用name来指定页面。</li> <li>以上方式参数不会显示到浏览器的地址栏中，如果刷新一次页面，就获取不到参数了，改进方式将第一部中的代码改成如下：</li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token punctuation">{</span>
    <span class="token literal-property property">path</span><span class="token operator">:</span><span class="token string">'/home/three/:id/:name'</span><span class="token punctuation">,</span> <span class="token comment">// 子页面3</span>
    <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'three'</span><span class="token punctuation">,</span>
    <span class="token literal-property property">component</span><span class="token operator">:</span>Three
<span class="token punctuation">}</span>
</code></pre></div><h4 id="_7-4-编程式导航-query传递参数"><a href="#_7-4-编程式导航-query传递参数" class="header-anchor">#</a> 7.4 编程式导航 - query传递参数</h4> <ol><li>在src/router/index.js页面加入如下代码：</li></ol> <div class="language-html extra-class"><pre class="language-html"><code>{
    path:'/home/three', // 子页面3
    name: 'three',
    component:Three
}
</code></pre></div><ol start="2"><li>在src/components/Three.vue页面加入如下代码：</li></ol> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>ID：{{ $route.query.id}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>名称：{{ $route.query.name}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><ol start="3"><li>在src/components/Home.vue中加入如下代码：</li></ol> <div class="language-html extra-class"><pre class="language-html"><code>// template
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>toThreePage<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>页面3-params传参<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>

// script
methods: {
    toThreePage() {
        this.$router.push({path: '/home/three', query: {id: 1, name: 'zhangsan'}})
    }
}
</code></pre></div><p>注意：动态路由使用query传递参数，会显示到浏览器地址栏中，以上链接为<u>/home/three?id=1&amp;name=zhangsan</u></p> <h3 id="_8-mode与404"><a href="#_8-mode与404" class="header-anchor">#</a> 8. mode与404</h3> <h4 id="_8-1-mode模式"><a href="#_8-1-mode模式" class="header-anchor">#</a> 8.1 mode模式</h4> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">new</span> <span class="token class-name">Router</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token literal-property property">mode</span><span class="token operator">:</span> <span class="token string">'history'</span><span class="token punctuation">,</span> <span class="token comment">//mode模式</span>
    <span class="token literal-property property">routes</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token operator">...</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p><strong>mode取值说明：</strong></p> <ol><li>histroy：URL就像正常的 url，示例：<u>http://localhost:8080/home</u></li> <li>hash：默认值，会多一个“#”，示例：<u>http://localhost:8080/#/home</u></li></ol> <h4 id="_8-2-404页面设置"><a href="#_8-2-404页面设置" class="header-anchor">#</a> 8.2 404页面设置</h4> <p>如果访问的路由不存在，或者用户输入错误时，会有一个404友好的提示页面，配置如下：</p> <ol><li>在/src/router/index.js中加入如下代码：</li></ol> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// 404</span>
<span class="token punctuation">{</span>
    <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">'*'</span><span class="token punctuation">,</span>
    <span class="token function-variable function">component</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">'@/components/404'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><ol start="2"><li>在src/components/404.vue中编写如下代码：</li></ol> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>hello<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span>404 not found<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
    <span class="token function">data</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token punctuation">{</span>

        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span> <span class="token attr-name">scoped</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h3 id="_9-路由懒加载"><a href="#_9-路由懒加载" class="header-anchor">#</a> 9. 路由懒加载</h3> <h4 id="_9-1-路由正常模式"><a href="#_9-1-路由正常模式" class="header-anchor">#</a> 9.1 路由正常模式</h4> <div class="language- extra-class"><pre class="language-text"><code>// 1、先引入页面组件
import Home from '@/components/Home'

// 2、使用组件
{
    path: '/home',
    component: Home
}
</code></pre></div><h4 id="_9-2-懒加载模式"><a href="#_9-2-懒加载模式" class="header-anchor">#</a> 9.2 懒加载模式</h4> <p>大项目中，为了提高初始化页面的效率，路由一般使用懒加载模式，一共三种实现方式。</p> <ol><li>第一种写法：</li></ol> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token function-variable function">component</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">resolve</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'@/components/One'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> resolve<span class="token punctuation">)</span>
</code></pre></div><ol start="2"><li>第二种写法：</li></ol> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token function-variable function">component</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">'@/components/Two'</span><span class="token punctuation">)</span>
</code></pre></div><ol start="3"><li>第三种写法：</li></ol> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token function-variable function">components</span><span class="token operator">:</span> <span class="token parameter">r</span> <span class="token operator">=&gt;</span> require<span class="token punctuation">.</span><span class="token function">ensure</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">r</span><span class="token punctuation">(</span><span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'@/components/Three'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">'group-home'</span><span class="token punctuation">)</span>
</code></pre></div><br> <p><strong>注意：</strong></p> <ul><li>一般常用第二种简写</li> <li>第三种中，’group-home’是把组件按组分块打包, 可以将多个组件放入这个组中，在打包的时候Webpack会将相同 chunk 下的所有异步模块打包到一个异步块里面。</li></ul> <h2 id="vuex"><a href="#vuex" class="header-anchor">#</a> Vuex</h2> <p>vuex是一个专为 Vue.js 应用程序开发的<code>状态管理模式</code>。它采用集中式存储管理应用的所有组件的状态，并以相应的规则保证状态以一种可预测的方式发生变化。</p> <img height="360px" src="/assets/img/00074.f57905a6.png" alt="结果"> <p><strong>示意图说明：</strong></p> <ul><li>State：驱动应用的<code>数据源</code>（单向数据流）</li> <li>View：以声明方式将 state 映射到<code>视图</code>（静态显示出来的数据源）</li> <li>Actions：处理用户在view上面操作而导致的状态变化（数据源变化追踪）</li></ul> <h3 id="_1-解决的问题"><a href="#_1-解决的问题" class="header-anchor">#</a> 1. 解决的问题</h3> <ol><li>多个视图组件，包括父子组件，兄弟组件之间的状态共享</li> <li>不同视图组件的行为需要变更同一个状态</li></ol> <h3 id="_2-使用场景"><a href="#_2-使用场景" class="header-anchor">#</a> 2. 使用场景</h3> <p>中大型单页应用，需要考虑如何更好地在组件外部管理状态，简单应用不建议使用</p> <h3 id="_3-vuex与全局变量的区别"><a href="#_3-vuex与全局变量的区别" class="header-anchor">#</a> 3. vuex与全局变量的区别</h3> <ul><li><code>响应式</code>：vuex的状态存储是响应式的，当Vue组件从store中读取状态的时候，若store中的状态发生变化，那么相应的组件也会得到高效更新</li> <li><code>不能直接改变store</code>：不能直接改变store的变化，改变store中状态的唯一途径是<code>commit mutation</code>，方便于跟踪每一个状态的变化</li></ul> <h3 id="_4-核心流程"><a href="#_4-核心流程" class="header-anchor">#</a> 4. 核心流程</h3> <img height="460px" src="/assets/img/00075.34b76ef4.png" alt="结果"> <p><strong>示意图说明：</strong></p> <ol><li><p><code>Vue Components</code></p> <p>Vue组件。HTML页面上，负责接收用户操作等交互行为，执行dispatch方法触发对应action进行回应</p></li> <li><p><code>Dispatch</code></p> <p>操作行为触发方法，是唯一能执行action的方法</p></li> <li><p><code>Actions</code></p> <p>操作行为处理模块。负责处理Vue Components接收到的所有交互行为。包含同步/异步操作，支持多个同名方法，按照注册的顺序依次触发。向后台API请求的操作就在这个模块中进行，包括触发其他action以及提交mutation的操作。该模块提供了Promise的封装，以支持action的链式触发</p></li> <li><p><code>Commit</code></p> <p>状态改变提交操作方法。对mutation进行提交，是唯一能执行mutation的方法</p></li> <li><p><code>Mutations</code></p> <p>状态改变操作方法。是Vuex修改state的唯一推荐方法，其他修改方式在严格模式下将会报错。该方法只能进行同步操作，且方法名只能全局唯一。操作之中会有一些hook暴露出来，以进行state的监控等</p></li> <li><p><code>State</code></p> <p>页面状态管理容器对象。集中存储Vue components中data对象的零散数据，全局唯一，以进行统一的状态管理。页面显示所需的数据从该对象中进行读取，利用Vue的细粒度数据响应机制来进行高效的状态更新</p></li> <li><p><code>Getters</code></p> <p>state对象读取方法。图中没有单独列出该模块，应该被包含在了render中，Vue Components通过该方法读取全局state对象</p></li></ol> <br> <br> <p><strong>总结说明：</strong></p> <p>Vue组件接收交互行为，调用dispatch方法触发action相关处理，若页面状态需要改变，则调用commit方法提交mutation修改state，通过getters获取到state新值，重新渲染Vue Components，界面随之更新</p> <h3 id="_5-入门示例"><a href="#_5-入门示例" class="header-anchor">#</a> 5. 入门示例</h3> <h4 id="_5-1-安装"><a href="#_5-1-安装" class="header-anchor">#</a> 5.1 安装</h4> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token function">npm</span> <span class="token function">install</span> vuex --save
</code></pre></div><h4 id="_5-2-简单示例"><a href="#_5-2-简单示例" class="header-anchor">#</a> 5.2 简单示例</h4> <ol><li>src/vuex/store.js中写入以下代码：</li></ol> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// 引入vue</span>
<span class="token keyword">import</span> Vue <span class="token keyword">from</span> <span class="token string">'vue'</span>
<span class="token comment">// 引入vuex</span>
<span class="token keyword">import</span> Vuex <span class="token keyword">from</span> <span class="token string">'vuex'</span>

<span class="token comment">// 使用vuex</span>
Vue<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>Vuex<span class="token punctuation">)</span>

<span class="token comment">// 1、state：创建初始化状态</span>
<span class="token keyword">const</span> state <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token comment">// 放置初始状态</span>
    <span class="token literal-property property">count</span><span class="token operator">:</span> <span class="token number">1</span>
<span class="token punctuation">}</span>

<span class="token comment">// 2、mutations：创建改变状态的方法</span>
<span class="token keyword">const</span> mutations <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token comment">// 状态变更函数-一般大写</span>
    <span class="token constant">ADD</span> <span class="token punctuation">(</span><span class="token parameter">state<span class="token punctuation">,</span> n</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        state<span class="token punctuation">.</span>count <span class="token operator">+=</span> n<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// 3、getters：提供外部获取state</span>
<span class="token keyword">const</span> getters <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token function-variable function">count</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">state</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> state<span class="token punctuation">.</span>count<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// 4、actions：创建驱动方法改变mutations</span>
<span class="token keyword">const</span> actions <span class="token operator">=</span><span class="token punctuation">{</span>
    <span class="token comment">// 触发mutations中相应的方法-一般小写</span>
    <span class="token function">add</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span>commit<span class="token punctuation">}</span><span class="token punctuation">,</span> data</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">commit</span><span class="token punctuation">(</span><span class="token string">'ADD'</span><span class="token punctuation">,</span> data<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// 5、全部注入Store中</span>
<span class="token keyword">const</span> store <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vuex<span class="token punctuation">.</span>Store</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    state<span class="token punctuation">,</span>
    mutations<span class="token punctuation">,</span>
    getters<span class="token punctuation">,</span>
    actions
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 6、输出store</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> store<span class="token punctuation">;</span>
</code></pre></div><p><strong>代码说明：</strong></p> <ul><li>state - mutations - getters - actions - store，以上写法基本固定</li> <li>小型项目用上面的简单管理状态即可</li></ul> <ol start="2"><li>src/main.js代码中</li></ol> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">import</span> Vue <span class="token keyword">from</span> <span class="token string">'vue'</span>
<span class="token keyword">import</span> App <span class="token keyword">from</span> <span class="token string">'./App'</span>
<span class="token keyword">import</span> router <span class="token keyword">from</span> <span class="token string">'./router'</span>
<span class="token comment">// 引入store</span>
<span class="token keyword">import</span> store <span class="token keyword">from</span> <span class="token string">'./vuex/store'</span>

Vue<span class="token punctuation">.</span>config<span class="token punctuation">.</span>productionTip <span class="token operator">=</span> <span class="token boolean">false</span>

<span class="token comment">/* eslint-disable no-new */</span>
<span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">el</span><span class="token operator">:</span> <span class="token string">'#app'</span><span class="token punctuation">,</span>
  router<span class="token punctuation">,</span>
  store<span class="token punctuation">,</span> <span class="token comment">// 全局注入</span>
  <span class="token literal-property property">components</span><span class="token operator">:</span> <span class="token punctuation">{</span> App <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">template</span><span class="token operator">:</span> <span class="token string">'&lt;App/&gt;'</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><ol start="3"><li>src/compontent/Count.vue页面组件中代码如下：</li></ol> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>hello<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span>{{ msg }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">&gt;</span></span>{{count}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>clickAdd<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>新增<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
    <span class="token function">data</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token punctuation">{</span>
            <span class="token literal-property property">msg</span><span class="token operator">:</span> <span class="token string">'Vuex test!'</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token literal-property property">computed</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token comment">// 获取state值</span>
        <span class="token function">count</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>$store<span class="token punctuation">.</span>state<span class="token punctuation">.</span>count<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token literal-property property">methods</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token function">clickAdd</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment">//分发action中的add方法</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>$store<span class="token punctuation">.</span><span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token string">'add'</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span> <span class="token attr-name">scoped</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">

</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h3 id="_6-state-状态对象的获取方法"><a href="#_6-state-状态对象的获取方法" class="header-anchor">#</a> 6. state-状态对象的获取方法</h3> <h4 id="_6-1-在组件的template中直接使用"><a href="#_6-1-在组件的template中直接使用" class="header-anchor">#</a> 6.1 在组件的template中直接使用</h4> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">&gt;</span></span>{{ $store.state.count }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h4 id="_6-2-在计算属性computed中直接赋值"><a href="#_6-2-在计算属性computed中直接赋值" class="header-anchor">#</a> 6.2 在计算属性computed中直接赋值</h4> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// 方式1：直接获取</span>
<span class="token literal-property property">computed</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token function">count</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// this指的是main.js中的vue实例对象</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>$store<span class="token punctuation">.</span>state<span class="token punctuation">.</span>count<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h4 id="_6-3-通过mapstate的对象来赋值"><a href="#_6-3-通过mapstate的对象来赋值" class="header-anchor">#</a> 6.3 通过mapState的对象来赋值</h4> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// 方式2：利用mapState</span>
<span class="token literal-property property">computed</span><span class="token operator">:</span> <span class="token function">mapState</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token comment">// es5写法</span>
    <span class="token function-variable function">count</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">state</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
         <span class="token keyword">return</span> state<span class="token punctuation">.</span>count<span class="token punctuation">;</span>
     <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token comment">// es6写法</span>
    <span class="token function-variable function">count</span><span class="token operator">:</span> <span class="token parameter">state</span> <span class="token operator">=&gt;</span> state<span class="token punctuation">.</span>count
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><h4 id="_6-4-通过mapstate的数组来赋值"><a href="#_6-4-通过mapstate的数组来赋值" class="header-anchor">#</a> 6.4 通过mapState的数组来赋值</h4> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// 方式3：数组获取</span>
<span class="token literal-property property">computed</span><span class="token operator">:</span> <span class="token function">mapState</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'count'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre></div><h4 id="_6-5-通过mapstate的json来赋值"><a href="#_6-5-通过mapstate的json来赋值" class="header-anchor">#</a> 6.5 通过mapState的JSON来赋值</h4> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// 方式4：JSON获取</span>
<span class="token literal-property property">computed</span><span class="token operator">:</span> <span class="token function">mapState</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token literal-property property">count</span><span class="token operator">:</span> <span class="token string">'count'</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><blockquote><p><strong>注意：</strong> 一般 6.4 和 6.5 两种方式比较常用</p></blockquote> <h3 id="_7-mutations、getters、actions异步"><a href="#_7-mutations、getters、actions异步" class="header-anchor">#</a> 7. mutations、getters、actions异步</h3> <h4 id="_7-1-mutations-修改状态"><a href="#_7-1-mutations-修改状态" class="header-anchor">#</a> 7.1 mutations（修改状态）</h4> <ol><li>template中直接使用$store.commit( )触发</li></ol> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// template</span>
<span class="token operator">&lt;</span>button @click<span class="token operator">=</span><span class="token string">&quot;$store.commit('ADD')&quot;</span><span class="token operator">&gt;</span><span class="token operator">+</span><span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>

<span class="token comment">// src/vuex/store.js</span>
<span class="token keyword">const</span> mutations <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token comment">// 状态变更函数</span>
    <span class="token constant">ADD</span> <span class="token punctuation">(</span><span class="token parameter">state</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        state<span class="token punctuation">.</span>count<span class="token operator">++</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><ol start="2"><li>利用mapMutations引入触发</li></ol> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>hello<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span>{{ msg }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">&gt;</span></span>{{count}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">&gt;</span></span>
        <span class="token comment">&lt;!-- 3、、直接调用相应的方法 --&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ADD<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>+<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token comment">// 1、引入mapMutations</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span>mapState<span class="token punctuation">,</span> mapMutations<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vuex'</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
    <span class="token function">data</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token punctuation">{</span>
            <span class="token literal-property property">msg</span><span class="token operator">:</span> <span class="token string">'Vuex test!'</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token comment">// 通过mapState的JSON来赋值</span>
    <span class="token literal-property property">computed</span><span class="token operator">:</span> <span class="token function">mapState</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        <span class="token literal-property property">count</span><span class="token operator">:</span> <span class="token string">'count'</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token comment">// 2、methods中加入mapMutations</span>
    <span class="token literal-property property">methods</span><span class="token operator">:</span> <span class="token function">mapMutations</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
        <span class="token string">'ADD'</span>
    <span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span> <span class="token attr-name">scoped</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">

</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h4 id="_7-2-getters-获取state和过滤"><a href="#_7-2-getters-获取state和过滤" class="header-anchor">#</a> 7.2 getters（获取state和过滤）</h4> <ol><li>基本用法</li></ol> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// src/vuex/store.js</span>
<span class="token keyword">const</span> getters <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token function-variable function">count</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">state</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token comment">// 返回加上100</span>
        <span class="token keyword">return</span> state<span class="token punctuation">.</span>count <span class="token operator">+</span> <span class="token number">100</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><ol start="2"><li>常规获取值</li></ol> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token literal-property property">computed</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token comment">// 获取getters</span>
    <span class="token function">count</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>$store<span class="token punctuation">.</span>getters<span class="token punctuation">.</span>count<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><ol start="3"><li>mapGetters获取值</li></ol> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// 1、引入mapMutations</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span>mapState<span class="token punctuation">,</span> mapMutations<span class="token punctuation">,</span> mapGetters<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vuex'</span>

<span class="token comment">// 2、使用</span>
<span class="token literal-property property">computed</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token comment">// 获取getters</span>
    <span class="token operator">...</span><span class="token function">mapGetters</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">&quot;count&quot;</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><h4 id="_7-3-actions-异步修改状态"><a href="#_7-3-actions-异步修改状态" class="header-anchor">#</a> 7.3 actions（异步修改状态）</h4> <p>actions 和 mutations 功能基本一样</p> <p>不同点是，<code>actions</code> 是异步的改变state状态，而 <code>mutations</code> 是同步改变状态</p> <p>不过实际项目中一般都是通过 actions 改变 mutations 中的值</p> <ol><li>store.js中增加异步代码</li></ol> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// src/vuex/store.js</span>
<span class="token keyword">const</span> actions <span class="token operator">=</span><span class="token punctuation">{</span>
    <span class="token comment">// 触发mutations中相应的方法</span>
    <span class="token function">add</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span>commit<span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// 增加异步</span>
        <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
            <span class="token function">commit</span><span class="token punctuation">(</span><span class="token string">'ADD'</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token number">3000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'我比reduce提前执行'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><ol start="2"><li>常规使用</li></ol> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// template</span>
<span class="token operator">&lt;</span>button @click<span class="token operator">=</span><span class="token string">&quot;add&quot;</span><span class="token operator">&gt;</span><span class="token operator">+</span><span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>

<span class="token comment">// script</span>
<span class="token literal-property property">methods</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token function">add</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">//分发action</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>$store<span class="token punctuation">.</span><span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token string">'add'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><ol start="3"><li>mapActions的使用</li></ol> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// template</span>
<span class="token operator">&lt;</span>button @click<span class="token operator">=</span><span class="token string">&quot;add&quot;</span><span class="token operator">&gt;</span><span class="token operator">+</span><span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>

<span class="token comment">// script</span>
<span class="token comment">// 引入mapActions</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span>mapState<span class="token punctuation">,</span> mapActions<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vuex'</span>

<span class="token comment">// 使用mapActions</span>
<span class="token literal-property property">methods</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token operator">...</span><span class="token function">mapActions</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'add'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="_8-传递参数"><a href="#_8-传递参数" class="header-anchor">#</a> 8. 传递参数</h3> <p>在vuex的方法调用用传递参数，只需要在<code>mutations</code>和<code>actions</code>相应的地方加上参数，然后调用的时候传入即可。</p> <ol><li>src/vuex/store.js中</li></ol> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// actions中传递参数</span>
<span class="token keyword">const</span> mutations <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token constant">ADD</span> <span class="token punctuation">(</span><span class="token parameter">state<span class="token punctuation">,</span> n</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        state<span class="token punctuation">.</span>count <span class="token operator">+=</span> n<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// actions中传递参数</span>
<span class="token keyword">const</span> actions <span class="token operator">=</span><span class="token punctuation">{</span>
    <span class="token comment">// 触发mutations中相应的方法</span>
    <span class="token function">add</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span>commit<span class="token punctuation">}</span><span class="token punctuation">,</span> n</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// 增加异步</span>
        <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
            <span class="token function">commit</span><span class="token punctuation">(</span><span class="token string">'ADD'</span><span class="token punctuation">,</span> n<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token number">3000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'我比reduce提前执行'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><ol start="2"><li>页面组件常规调用传递</li></ol> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// template</span>
<span class="token operator">&lt;</span>button @click<span class="token operator">=</span><span class="token string">&quot;add&quot;</span><span class="token operator">&gt;</span><span class="token operator">+</span><span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>

<span class="token comment">// script</span>
<span class="token literal-property property">methods</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token function">add</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// 分发action</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>$store<span class="token punctuation">.</span><span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token string">'add'</span><span class="token punctuation">,</span> <span class="token number">99</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
     <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><ol start="3"><li>页面组件使用mapActions调用传递</li></ol> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// template</span>
<span class="token operator">&lt;</span>button @click<span class="token operator">=</span><span class="token string">&quot;add(99)&quot;</span><span class="token operator">&gt;</span><span class="token operator">+</span><span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>

<span class="token comment">// script</span>
<span class="token literal-property property">methods</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token operator">...</span><span class="token function">mapActions</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'add'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="_9-模块组"><a href="#_9-模块组" class="header-anchor">#</a> 9. 模块组</h3> <p>当应用非常复杂，状态非常多的时候，需要将store 分割成模块（module）。每个模块拥有自己的 state、mutation、action、getter、甚至是嵌套子模块，从上至下进行同样方式的分割。</p> <h4 id="_9-1-大致结构"><a href="#_9-1-大致结构" class="header-anchor">#</a> 9.1 大致结构</h4> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// 模块A</span>
<span class="token keyword">const</span> moduleA <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">state</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token operator">...</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">mutations</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token operator">...</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">actions</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token operator">...</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">getters</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token operator">...</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// 模块B</span>
<span class="token keyword">const</span> moduleB <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">state</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token operator">...</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">mutations</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token operator">...</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">actions</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token operator">...</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// 组装</span>
<span class="token keyword">const</span> store <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vuex<span class="token punctuation">.</span>Store</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">modules</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">a</span><span class="token operator">:</span> moduleA<span class="token punctuation">,</span>
    <span class="token literal-property property">b</span><span class="token operator">:</span> moduleB
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token comment">// 取值</span>
store<span class="token punctuation">.</span>state<span class="token punctuation">.</span>a <span class="token comment">// -&gt; moduleA 的状态</span>
store<span class="token punctuation">.</span>state<span class="token punctuation">.</span>b <span class="token comment">// -&gt; moduleB 的状态</span>
</code></pre></div><h4 id="_9-2-详细示例"><a href="#_9-2-详细示例" class="header-anchor">#</a> 9.2 详细示例</h4> <p>实际开发中建议把module分开编写。</p> <ol><li>src/vuex/module1.js</li></ol> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// 模块1</span>
<span class="token keyword">const</span> module1 <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token comment">// 初始化状态</span>
    <span class="token literal-property property">state</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">module1</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'模块1'</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token comment">// 编写动作</span>
    <span class="token literal-property property">mutations</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token constant">CHANGE1</span> <span class="token punctuation">(</span><span class="token parameter">state<span class="token punctuation">,</span> data</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            state<span class="token punctuation">.</span>module1 <span class="token operator">=</span> data<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token comment">// 取值</span>
    <span class="token literal-property property">getters</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token function-variable function">module1</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">state</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token keyword">return</span> state<span class="token punctuation">.</span>module1<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token comment">// 创建驱动，可异步</span>
    <span class="token literal-property property">actions</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token function">change1</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span>commit<span class="token punctuation">}</span><span class="token punctuation">,</span> data</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token function">commit</span><span class="token punctuation">(</span><span class="token string">'CHANGE1'</span><span class="token punctuation">,</span> data<span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> module1<span class="token punctuation">;</span>
</code></pre></div><ol start="2"><li>src/vuex/module2.js</li></ol> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// 模块1</span>
<span class="token keyword">const</span> module2 <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token comment">// 初始化状态</span>
    <span class="token literal-property property">state</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">module2</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'模块2'</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token comment">// 编写动作</span>
    <span class="token literal-property property">mutations</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token constant">CHANGE2</span> <span class="token punctuation">(</span><span class="token parameter">state<span class="token punctuation">,</span> data</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            state<span class="token punctuation">.</span>module2 <span class="token operator">=</span> data<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token comment">// 取值</span>
    <span class="token literal-property property">getters</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token function-variable function">module2</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">state</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token keyword">return</span> state<span class="token punctuation">.</span>module2<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token comment">// 创建驱动，可异步</span>
    <span class="token literal-property property">actions</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token function">change2</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span>commit<span class="token punctuation">}</span><span class="token punctuation">,</span> data</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token function">commit</span><span class="token punctuation">(</span><span class="token string">'CHANGE2'</span><span class="token punctuation">,</span> data<span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> module2<span class="token punctuation">;</span>
</code></pre></div><ol start="3"><li>src/vuex/store.js</li></ol> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// 引入vue</span>
<span class="token keyword">import</span> Vue <span class="token keyword">from</span> <span class="token string">'vue'</span>
<span class="token comment">// 引入vuex</span>
<span class="token keyword">import</span> Vuex <span class="token keyword">from</span> <span class="token string">'vuex'</span>
<span class="token comment">// 引入module1</span>
<span class="token keyword">import</span> module1 <span class="token keyword">from</span> <span class="token string">'@/vuex/module1'</span>
<span class="token comment">// 引入module2</span>
<span class="token keyword">import</span> module2 <span class="token keyword">from</span> <span class="token string">'@/vuex/module2'</span>

<span class="token comment">// 使用vuex</span>
Vue<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>Vuex<span class="token punctuation">)</span>

<span class="token comment">// 模块注入</span>
<span class="token keyword">const</span> store <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vuex<span class="token punctuation">.</span>Store</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token literal-property property">modules</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">a</span><span class="token operator">:</span> module1<span class="token punctuation">,</span>
        <span class="token literal-property property">b</span><span class="token operator">:</span> module2
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token comment">// 输出store</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> store<span class="token punctuation">;</span>
</code></pre></div><ol start="4"><li>组件中使用，src/compontent/one.vue</li></ol> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>app<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token comment">&lt;!-- module1 --&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">&gt;</span></span>{{ module1.name }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>change1({<span class="token punctuation">'</span>name<span class="token punctuation">'</span>: <span class="token punctuation">'</span>change1<span class="token punctuation">'</span>})<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>module1改变<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>

        <span class="token comment">&lt;!-- module2 --&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">&gt;</span></span>{{ module2.name }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>change2({<span class="token punctuation">'</span>name<span class="token punctuation">'</span>: <span class="token punctuation">'</span>change2<span class="token punctuation">'</span>})<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>module2改变<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token comment">// 引入快捷方法</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span>mapState<span class="token punctuation">,</span> mapGetters<span class="token punctuation">,</span> mapActions<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vuex'</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'app'</span><span class="token punctuation">,</span>
    <span class="token function">data</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token punctuation">{</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token literal-property property">computed</span><span class="token operator">:</span><span class="token punctuation">{</span>
        <span class="token comment">// mapState取值</span>
        <span class="token comment">// ...mapState({</span>
        <span class="token comment">//     module1: state =&gt; state.a.module1.name,</span>
        <span class="token comment">//     module2: state =&gt; state.b.module2.name</span>
        <span class="token comment">// })</span>

        <span class="token comment">// mapGetter取值</span>
        <span class="token operator">...</span><span class="token function">mapGetters</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'module1'</span><span class="token punctuation">,</span> <span class="token string">'module2'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token literal-property property">methods</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token comment">// mapAction取方法</span>
        <span class="token operator">...</span><span class="token function">mapActions</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
            <span class="token string">'change1'</span><span class="token punctuation">,</span>
            <span class="token string">'change2'</span>
        <span class="token punctuation">]</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">

</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p><strong>注意：</strong></p> <p>module中命名要唯一，不然获取值和改变值的时候会冲突，目前亲测mapGetters只能获取对象。</p> <h2 id="axios"><a href="#axios" class="header-anchor">#</a> axios</h2> <h3 id="_1-简介"><a href="#_1-简介" class="header-anchor">#</a> 1. 简介</h3> <p>Axios 是一个基于 promise 的 HTTP 库，可以用在浏览器和 node.js 中。简单来说就是前端最火最简单的一个http请求解决方案。</p> <blockquote><p>https://www.kancloud.cn/yunye/axios/234845</p></blockquote> <h3 id="_2-安装"><a href="#_2-安装" class="header-anchor">#</a> 2. 安装</h3> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token function">npm</span> <span class="token function">install</span> vuex --save
</code></pre></div><h3 id="_3-功能"><a href="#_3-功能" class="header-anchor">#</a> 3. 功能</h3> <ul><li>从浏览器中创建 XMLHttpRequests</li> <li>从 node.js 创建 http 请求</li> <li>支持 Promise API</li> <li>拦截请求和响应</li> <li>转换请求数据和响应数据</li> <li>取消请求</li> <li>自动转换 JSON 数据</li> <li>客户端支持防御 XSRF</li></ul> <h3 id="_4-代码封装"><a href="#_4-代码封装" class="header-anchor">#</a> 4. 代码封装</h3> <p>下面给出一份封装好的配置文件，更加详细的直接去官方文档查询即可。</p> <ol><li>工具类封装</li></ol> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// 引入axios</span>
<span class="token keyword">import</span> axios <span class="token keyword">from</span> <span class="token string">'axios'</span><span class="token punctuation">;</span>

<span class="token comment">// 创建axios实例</span>
<span class="token keyword">const</span> httpService <span class="token operator">=</span> axios<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token comment">// url前缀-'https://some-domain.com/api/'</span>
    <span class="token literal-property property">baseURL</span><span class="token operator">:</span> process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">BASE_API</span><span class="token punctuation">,</span> <span class="token comment">// 需自定义</span>
    <span class="token comment">// 请求超时时间</span>
    <span class="token literal-property property">timeout</span><span class="token operator">:</span> <span class="token number">3000</span> <span class="token comment">// 需自定义</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// request拦截器</span>
httpService<span class="token punctuation">.</span>interceptors<span class="token punctuation">.</span>request<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>
    <span class="token parameter">config</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token comment">// 根据条件加入token-安全携带</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">// 需自定义</span>
            <span class="token comment">// 让每个请求携带token</span>
            config<span class="token punctuation">.</span>headers<span class="token punctuation">[</span><span class="token string">'User-Token'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">''</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> config<span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> 
    <span class="token parameter">error</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token comment">// 请求错误处理</span>
        Promise<span class="token punctuation">.</span><span class="token function">reject</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">)</span>

<span class="token comment">// respone拦截器</span>
httpService<span class="token punctuation">.</span>interceptors<span class="token punctuation">.</span>response<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>
    <span class="token parameter">response</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token comment">// 统一处理状态</span>
        <span class="token keyword">const</span> res <span class="token operator">=</span> response<span class="token punctuation">.</span>data<span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>res<span class="token punctuation">.</span>statuscode <span class="token operator">!=</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">// 需自定义</span>
            <span class="token comment">// 返回异常</span>
            <span class="token keyword">return</span> Promise<span class="token punctuation">.</span><span class="token function">reject</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
                <span class="token literal-property property">status</span><span class="token operator">:</span> res<span class="token punctuation">.</span>statuscode<span class="token punctuation">,</span>
                <span class="token literal-property property">message</span><span class="token operator">:</span> res<span class="token punctuation">.</span>message
            <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> response<span class="token punctuation">.</span>data<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token comment">// 处理处理</span>
    <span class="token parameter">error</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
         <span class="token keyword">if</span> <span class="token punctuation">(</span>error <span class="token operator">&amp;&amp;</span> error<span class="token punctuation">.</span>response<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">switch</span> <span class="token punctuation">(</span>error<span class="token punctuation">.</span>response<span class="token punctuation">.</span>status<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">case</span> <span class="token number">400</span><span class="token operator">:</span>
                    error<span class="token punctuation">.</span>message <span class="token operator">=</span> <span class="token string">'错误请求'</span><span class="token punctuation">;</span>
                    <span class="token keyword">break</span><span class="token punctuation">;</span>
                <span class="token keyword">case</span> <span class="token number">401</span><span class="token operator">:</span>
                    error<span class="token punctuation">.</span>message <span class="token operator">=</span> <span class="token string">'未授权，请重新登录'</span><span class="token punctuation">;</span>
                    <span class="token keyword">break</span><span class="token punctuation">;</span>
                <span class="token keyword">case</span> <span class="token number">403</span><span class="token operator">:</span>
                    error<span class="token punctuation">.</span>message <span class="token operator">=</span> <span class="token string">'拒绝访问'</span><span class="token punctuation">;</span>
                    <span class="token keyword">break</span><span class="token punctuation">;</span>
                <span class="token keyword">case</span> <span class="token number">404</span><span class="token operator">:</span>
                    error<span class="token punctuation">.</span>message <span class="token operator">=</span> <span class="token string">'请求错误,未找到该资源'</span><span class="token punctuation">;</span>
                    <span class="token keyword">break</span><span class="token punctuation">;</span>
                <span class="token keyword">case</span> <span class="token number">405</span><span class="token operator">:</span>
                    error<span class="token punctuation">.</span>message <span class="token operator">=</span> <span class="token string">'请求方法未允许'</span><span class="token punctuation">;</span>
                    <span class="token keyword">break</span><span class="token punctuation">;</span>
                <span class="token keyword">case</span> <span class="token number">408</span><span class="token operator">:</span>
                    error<span class="token punctuation">.</span>message <span class="token operator">=</span> <span class="token string">'请求超时'</span><span class="token punctuation">;</span>
                    <span class="token keyword">break</span><span class="token punctuation">;</span>
                <span class="token keyword">case</span> <span class="token number">500</span><span class="token operator">:</span>
                    error<span class="token punctuation">.</span>message <span class="token operator">=</span> <span class="token string">'服务器端出错'</span><span class="token punctuation">;</span>
                    <span class="token keyword">break</span><span class="token punctuation">;</span>
                <span class="token keyword">case</span> <span class="token number">501</span><span class="token operator">:</span>
                    error<span class="token punctuation">.</span>message <span class="token operator">=</span> <span class="token string">'网络未实现'</span><span class="token punctuation">;</span>
                    <span class="token keyword">break</span><span class="token punctuation">;</span>
                <span class="token keyword">case</span> <span class="token number">502</span><span class="token operator">:</span>
                    error<span class="token punctuation">.</span>message <span class="token operator">=</span> <span class="token string">'网络错误'</span><span class="token punctuation">;</span>
                    <span class="token keyword">break</span><span class="token punctuation">;</span>
                <span class="token keyword">case</span> <span class="token number">503</span><span class="token operator">:</span>
                    error<span class="token punctuation">.</span>message <span class="token operator">=</span> <span class="token string">'服务不可用'</span><span class="token punctuation">;</span>
                    <span class="token keyword">break</span><span class="token punctuation">;</span>
                <span class="token keyword">case</span> <span class="token number">504</span><span class="token operator">:</span>
                    error<span class="token punctuation">.</span>message <span class="token operator">=</span> <span class="token string">'网络超时'</span><span class="token punctuation">;</span>
                    <span class="token keyword">break</span><span class="token punctuation">;</span>
                <span class="token keyword">case</span> <span class="token number">505</span><span class="token operator">:</span>
                    error<span class="token punctuation">.</span>message <span class="token operator">=</span> <span class="token string">'http版本不支持该请求'</span><span class="token punctuation">;</span>
                    <span class="token keyword">break</span><span class="token punctuation">;</span>
                <span class="token keyword">default</span><span class="token operator">:</span>
                    error<span class="token punctuation">.</span>message <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">未知错误</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>error<span class="token punctuation">.</span>response<span class="token punctuation">.</span>status<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
            error<span class="token punctuation">.</span>message <span class="token operator">=</span> <span class="token string">&quot;连接到服务器失败&quot;</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> Promise<span class="token punctuation">.</span><span class="token function">reject</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">)</span>

<span class="token comment">/*网络请求部分*/</span>

<span class="token comment">/*
 *  get请求
 *  url:请求地址
 *  params:参数
 * */</span>
<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">get</span><span class="token punctuation">(</span><span class="token parameter">url<span class="token punctuation">,</span> params <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token function">httpService</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
            <span class="token literal-property property">url</span><span class="token operator">:</span> url<span class="token punctuation">,</span>
            <span class="token literal-property property">method</span><span class="token operator">:</span> <span class="token string">'get'</span><span class="token punctuation">,</span>
            <span class="token literal-property property">params</span><span class="token operator">:</span> params
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">response</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            <span class="token function">resolve</span><span class="token punctuation">(</span>response<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token parameter">error</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            <span class="token function">reject</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">/*
 *  post请求
 *  url:请求地址
 *  params:参数
 * */</span>
<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">post</span><span class="token punctuation">(</span><span class="token parameter">url<span class="token punctuation">,</span> params <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token function">httpService</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
            <span class="token literal-property property">url</span><span class="token operator">:</span> url<span class="token punctuation">,</span>
            <span class="token literal-property property">method</span><span class="token operator">:</span> <span class="token string">'post'</span><span class="token punctuation">,</span>
            <span class="token literal-property property">data</span><span class="token operator">:</span> params
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">response</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            <span class="token function">resolve</span><span class="token punctuation">(</span>response<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token parameter">error</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            <span class="token function">reject</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">/*
 *  文件上传
 *  url:请求地址
 *  params:参数
 * */</span>
<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">fileUpload</span><span class="token punctuation">(</span><span class="token parameter">url<span class="token punctuation">,</span> params <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token function">httpService</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
            <span class="token literal-property property">url</span><span class="token operator">:</span> url<span class="token punctuation">,</span>
            <span class="token literal-property property">method</span><span class="token operator">:</span> <span class="token string">'post'</span><span class="token punctuation">,</span>
            <span class="token literal-property property">data</span><span class="token operator">:</span> params<span class="token punctuation">,</span>
            <span class="token literal-property property">headers</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token string-property property">'Content-Type'</span><span class="token operator">:</span> <span class="token string">'multipart/form-data'</span> <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">response</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            <span class="token function">resolve</span><span class="token punctuation">(</span>response<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token parameter">error</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            <span class="token function">reject</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
    get<span class="token punctuation">,</span>
    post<span class="token punctuation">,</span>
    fileUpload
<span class="token punctuation">}</span>
</code></pre></div><ol start="2"><li>使用</li></ol> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// 引入工具类-目录自定义</span>
<span class="token keyword">import</span> fetch <span class="token keyword">from</span> <span class="token string">'@/util/fetch'</span>

<span class="token comment">// 使用</span>
<span class="token keyword">const</span> <span class="token constant">TMPURL</span> <span class="token operator">=</span> <span class="token string">''</span><span class="token punctuation">;</span> <span class="token comment">// url地址</span>
<span class="token keyword">const</span> params <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span> <span class="token comment">// 参数</span>
fetch<span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span><span class="token constant">TMPURL</span> <span class="token operator">+</span> <span class="token string">'/login/login'</span><span class="token punctuation">,</span> params<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></div> <footer class="page-edit"><!----> <!----></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.be8b1db7.js" defer></script><script src="/assets/js/4.274858e4.js" defer></script><script src="/assets/js/3.8d45b1af.js" defer></script>
  </body>
</html>
