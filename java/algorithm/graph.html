<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>图 | 技术知识体系</title>
    <meta name="generator" content="VuePress 1.9.7">
    <link rel="icon" href="/favicon.ico">
    <meta name="description" content="技术知识体系">
    
    <link rel="preload" href="/assets/css/0.styles.53686c4c.css" as="style"><link rel="preload" href="/assets/js/app.02a3c3f9.js" as="script"><link rel="preload" href="/assets/js/4.4116396b.js" as="script"><link rel="preload" href="/assets/js/5.2da7a405.js" as="script"><link rel="prefetch" href="/assets/js/10.e4e323fd.js"><link rel="prefetch" href="/assets/js/11.75c07bbd.js"><link rel="prefetch" href="/assets/js/12.a6f3ba6b.js"><link rel="prefetch" href="/assets/js/13.3c7256e1.js"><link rel="prefetch" href="/assets/js/14.c9223ee6.js"><link rel="prefetch" href="/assets/js/15.951e3dca.js"><link rel="prefetch" href="/assets/js/16.e643b03f.js"><link rel="prefetch" href="/assets/js/17.3883353b.js"><link rel="prefetch" href="/assets/js/18.0dd8064a.js"><link rel="prefetch" href="/assets/js/19.d236af86.js"><link rel="prefetch" href="/assets/js/2.eb83f895.js"><link rel="prefetch" href="/assets/js/20.b9971409.js"><link rel="prefetch" href="/assets/js/21.3d8fe344.js"><link rel="prefetch" href="/assets/js/22.853e99d2.js"><link rel="prefetch" href="/assets/js/23.62f45bb0.js"><link rel="prefetch" href="/assets/js/24.bb751c2d.js"><link rel="prefetch" href="/assets/js/25.30c20e3f.js"><link rel="prefetch" href="/assets/js/26.85787a03.js"><link rel="prefetch" href="/assets/js/27.79f77e07.js"><link rel="prefetch" href="/assets/js/28.031b05a7.js"><link rel="prefetch" href="/assets/js/29.08eba26e.js"><link rel="prefetch" href="/assets/js/3.42c88c61.js"><link rel="prefetch" href="/assets/js/30.1869ff3d.js"><link rel="prefetch" href="/assets/js/31.b0b702c9.js"><link rel="prefetch" href="/assets/js/32.f0f90d58.js"><link rel="prefetch" href="/assets/js/33.81182837.js"><link rel="prefetch" href="/assets/js/34.0759a1c7.js"><link rel="prefetch" href="/assets/js/35.2dc3ab98.js"><link rel="prefetch" href="/assets/js/36.7bf230d0.js"><link rel="prefetch" href="/assets/js/37.b8b0a113.js"><link rel="prefetch" href="/assets/js/38.5b280d1a.js"><link rel="prefetch" href="/assets/js/39.99d648f4.js"><link rel="prefetch" href="/assets/js/40.8915900a.js"><link rel="prefetch" href="/assets/js/41.f303348c.js"><link rel="prefetch" href="/assets/js/42.a81831a4.js"><link rel="prefetch" href="/assets/js/43.5511af2d.js"><link rel="prefetch" href="/assets/js/44.c0fc8b62.js"><link rel="prefetch" href="/assets/js/45.9313c6be.js"><link rel="prefetch" href="/assets/js/46.dfdcfbc3.js"><link rel="prefetch" href="/assets/js/47.14391f85.js"><link rel="prefetch" href="/assets/js/6.7cb2dde6.js"><link rel="prefetch" href="/assets/js/7.2cbd68af.js"><link rel="prefetch" href="/assets/js/8.0bfc9489.js"><link rel="prefetch" href="/assets/js/9.a569b6c9.js">
    <link rel="stylesheet" href="/assets/css/0.styles.53686c4c.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">技术知识体系</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">
  首页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Java" class="dropdown-title"><span class="title">Java</span> <span class="arrow down"></span></button> <button type="button" aria-label="Java" class="mobile-dropdown-title"><span class="title">Java</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/java/javase/" class="nav-link">
  JavaSE
</a></li><li class="dropdown-item"><!----> <a href="/java/javaee/" class="nav-link">
  JavaEE
</a></li><li class="dropdown-item"><!----> <a href="/java/juc/" class="nav-link">
  并发编程
</a></li><li class="dropdown-item"><!----> <a href="/java/io/" class="nav-link">
  BIO/NIO/AIO
</a></li><li class="dropdown-item"><!----> <a href="/java/algorithm/" class="nav-link router-link-active">
  数据结构和算法
</a></li><li class="dropdown-item"><!----> <a href="/java/design_pattern/" class="nav-link">
  设计模式
</a></li><li class="dropdown-item"><!----> <a href="/java/jvm/" class="nav-link">
  JVM
</a></li><li class="dropdown-item"><!----> <a href="/java/jdk8/" class="nav-link">
  JDK8新特性
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="框架" class="dropdown-title"><span class="title">框架</span> <span class="arrow down"></span></button> <button type="button" aria-label="框架" class="mobile-dropdown-title"><span class="title">框架</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/framework/springmvc/" class="nav-link">
  SpringMVC
</a></li><li class="dropdown-item"><!----> <a href="/framework/spring/" class="nav-link">
  Spring
</a></li><li class="dropdown-item"><!----> <a href="/framework/mybatis/" class="nav-link">
  Mybatis
</a></li><li class="dropdown-item"><!----> <a href="/framework/springboot/" class="nav-link">
  SpringBoot
</a></li><li class="dropdown-item"><!----> <a href="/framework/springcloud/" class="nav-link">
  SpringCloud
</a></li><li class="dropdown-item"><!----> <a href="/framework/activiti7/" class="nav-link">
  Activiti7
</a></li><li class="dropdown-item"><!----> <a href="/middle/netty/" class="nav-link">
  Netty
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="中间件" class="dropdown-title"><span class="title">中间件</span> <span class="arrow down"></span></button> <button type="button" aria-label="中间件" class="mobile-dropdown-title"><span class="title">中间件</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/middle/nginx/" class="nav-link">
  Nginx
</a></li><li class="dropdown-item"><!----> <a href="/middle/rabbitmq/" class="nav-link">
  RabbitMQ
</a></li><li class="dropdown-item"><!----> <a href="/middle/elasticsearch/" class="nav-link">
  Elasticsearch
</a></li><li class="dropdown-item"><!----> <a href="/middle/zookeeper/" class="nav-link">
  Zookeeper
</a></li><li class="dropdown-item"><!----> <a href="/middle/emqx/" class="nav-link">
  EMQX
</a></li><li class="dropdown-item"><!----> <a href="/middle/tomcat/" class="nav-link">
  Tomcat
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="数据库" class="dropdown-title"><span class="title">数据库</span> <span class="arrow down"></span></button> <button type="button" aria-label="数据库" class="mobile-dropdown-title"><span class="title">数据库</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          关系型
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/db/mysql/" class="nav-link">
  MySQL
</a></li><li class="dropdown-subitem"><a href="/db/oracle/" class="nav-link">
  Oracle
</a></li><li class="dropdown-subitem"><a href="/db/sqlserver/" class="nav-link">
  SQL Server
</a></li></ul></li><li class="dropdown-item"><h4>
          非关系型
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/db/redis/" class="nav-link">
  Redis
</a></li><li class="dropdown-subitem"><a href="/db/mongodb/" class="nav-link">
  MongoDB
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端" class="dropdown-title"><span class="title">前端</span> <span class="arrow down"></span></button> <button type="button" aria-label="前端" class="mobile-dropdown-title"><span class="title">前端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/frontend/html/" class="nav-link">
  HTML
</a></li><li class="dropdown-item"><!----> <a href="/frontend/css/" class="nav-link">
  CSS
</a></li><li class="dropdown-item"><!----> <a href="/frontend/js/" class="nav-link">
  JavaScript
</a></li><li class="dropdown-item"><!----> <a href="/frontend/es6/" class="nav-link">
  ES6
</a></li><li class="dropdown-item"><!----> <a href="/frontend/engineering/" class="nav-link">
  前端工程化
</a></li><li class="dropdown-item"><!----> <a href="/frontend/vue/" class="nav-link">
  VUE
</a></li><li class="dropdown-item"><!----> <a href="/frontend/react/" class="nav-link">
  React
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="运维|工具" class="dropdown-title"><span class="title">运维|工具</span> <span class="arrow down"></span></button> <button type="button" aria-label="运维|工具" class="mobile-dropdown-title"><span class="title">运维|工具</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/devops/linux/" class="nav-link">
  Linux
</a></li><li class="dropdown-item"><!----> <a href="/devops/git/" class="nav-link">
  Git
</a></li><li class="dropdown-item"><!----> <a href="/devops/docker/" class="nav-link">
  Docker
</a></li><li class="dropdown-item"><!----> <a href="/devops/k8s/" class="nav-link">
  K8S
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="大数据" class="dropdown-title"><span class="title">大数据</span> <span class="arrow down"></span></button> <button type="button" aria-label="大数据" class="mobile-dropdown-title"><span class="title">大数据</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/bigdata/hadoop/" class="nav-link">
  Hadoop
</a></li><li class="dropdown-item"><!----> <a href="/bigdata/hive/" class="nav-link">
  Hive
</a></li><li class="dropdown-item"><!----> <a href="/bigdata/oozie/" class="nav-link">
  Oozie
</a></li><li class="dropdown-item"><!----> <a href="/bigdata/hbase/" class="nav-link">
  Hbase
</a></li><li class="dropdown-item"><!----> <a href="/bigdata/kafka/" class="nav-link">
  Kafka
</a></li><li class="dropdown-item"><!----> <a href="/bigdata/flume/" class="nav-link">
  Flume
</a></li><li class="dropdown-item"><!----> <a href="/bigdata/spark/" class="nav-link">
  Spark
</a></li><li class="dropdown-item"><!----> <a href="/bigdata/flink/" class="nav-link">
  Flink
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="安卓" class="dropdown-title"><span class="title">安卓</span> <span class="arrow down"></span></button> <button type="button" aria-label="安卓" class="mobile-dropdown-title"><span class="title">安卓</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/android/linux/" class="nav-link">
  布局
</a></li><li class="dropdown-item"><!----> <a href="/android/docker/" class="nav-link">
  四大组件
</a></li><li class="dropdown-item"><!----> <a href="/android/docker/" class="nav-link">
  碎片
</a></li><li class="dropdown-item"><!----> <a href="/android/animation/" class="nav-link">
  动画
</a></li><li class="dropdown-item"><!----> <a href="/android/k8s/" class="nav-link">
  数据存储
</a></li><li class="dropdown-item"><!----> <a href="/android/animation/" class="nav-link">
  常用控件
</a></li><li class="dropdown-item"><!----> <a href="/android/animation/" class="nav-link">
  自定义控件
</a></li><li class="dropdown-item"><!----> <a href="/android/animation/" class="nav-link">
  绘图API
</a></li><li class="dropdown-item"><!----> <a href="/android/animation/" class="nav-link">
  drawable
</a></li><li class="dropdown-item"><!----> <a href="/android/animation/" class="nav-link">
  网络请求
</a></li><li class="dropdown-item"><!----> <a href="/android/animation/" class="nav-link">
  多媒体
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="嵌入式" class="dropdown-title"><span class="title">嵌入式</span> <span class="arrow down"></span></button> <button type="button" aria-label="嵌入式" class="mobile-dropdown-title"><span class="title">嵌入式</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/iot/digital/" class="nav-link">
  C/C++
</a></li><li class="dropdown-item"><!----> <a href="/iot/51/" class="nav-link">
  51单片机
</a></li></ul></div></div><div class="nav-item"><a href="/pmp/" class="nav-link">
  项目管理
</a></div><div class="nav-item"><a href="/blog/" class="nav-link">
  个人博客
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">
  首页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Java" class="dropdown-title"><span class="title">Java</span> <span class="arrow down"></span></button> <button type="button" aria-label="Java" class="mobile-dropdown-title"><span class="title">Java</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/java/javase/" class="nav-link">
  JavaSE
</a></li><li class="dropdown-item"><!----> <a href="/java/javaee/" class="nav-link">
  JavaEE
</a></li><li class="dropdown-item"><!----> <a href="/java/juc/" class="nav-link">
  并发编程
</a></li><li class="dropdown-item"><!----> <a href="/java/io/" class="nav-link">
  BIO/NIO/AIO
</a></li><li class="dropdown-item"><!----> <a href="/java/algorithm/" class="nav-link router-link-active">
  数据结构和算法
</a></li><li class="dropdown-item"><!----> <a href="/java/design_pattern/" class="nav-link">
  设计模式
</a></li><li class="dropdown-item"><!----> <a href="/java/jvm/" class="nav-link">
  JVM
</a></li><li class="dropdown-item"><!----> <a href="/java/jdk8/" class="nav-link">
  JDK8新特性
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="框架" class="dropdown-title"><span class="title">框架</span> <span class="arrow down"></span></button> <button type="button" aria-label="框架" class="mobile-dropdown-title"><span class="title">框架</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/framework/springmvc/" class="nav-link">
  SpringMVC
</a></li><li class="dropdown-item"><!----> <a href="/framework/spring/" class="nav-link">
  Spring
</a></li><li class="dropdown-item"><!----> <a href="/framework/mybatis/" class="nav-link">
  Mybatis
</a></li><li class="dropdown-item"><!----> <a href="/framework/springboot/" class="nav-link">
  SpringBoot
</a></li><li class="dropdown-item"><!----> <a href="/framework/springcloud/" class="nav-link">
  SpringCloud
</a></li><li class="dropdown-item"><!----> <a href="/framework/activiti7/" class="nav-link">
  Activiti7
</a></li><li class="dropdown-item"><!----> <a href="/middle/netty/" class="nav-link">
  Netty
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="中间件" class="dropdown-title"><span class="title">中间件</span> <span class="arrow down"></span></button> <button type="button" aria-label="中间件" class="mobile-dropdown-title"><span class="title">中间件</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/middle/nginx/" class="nav-link">
  Nginx
</a></li><li class="dropdown-item"><!----> <a href="/middle/rabbitmq/" class="nav-link">
  RabbitMQ
</a></li><li class="dropdown-item"><!----> <a href="/middle/elasticsearch/" class="nav-link">
  Elasticsearch
</a></li><li class="dropdown-item"><!----> <a href="/middle/zookeeper/" class="nav-link">
  Zookeeper
</a></li><li class="dropdown-item"><!----> <a href="/middle/emqx/" class="nav-link">
  EMQX
</a></li><li class="dropdown-item"><!----> <a href="/middle/tomcat/" class="nav-link">
  Tomcat
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="数据库" class="dropdown-title"><span class="title">数据库</span> <span class="arrow down"></span></button> <button type="button" aria-label="数据库" class="mobile-dropdown-title"><span class="title">数据库</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          关系型
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/db/mysql/" class="nav-link">
  MySQL
</a></li><li class="dropdown-subitem"><a href="/db/oracle/" class="nav-link">
  Oracle
</a></li><li class="dropdown-subitem"><a href="/db/sqlserver/" class="nav-link">
  SQL Server
</a></li></ul></li><li class="dropdown-item"><h4>
          非关系型
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/db/redis/" class="nav-link">
  Redis
</a></li><li class="dropdown-subitem"><a href="/db/mongodb/" class="nav-link">
  MongoDB
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端" class="dropdown-title"><span class="title">前端</span> <span class="arrow down"></span></button> <button type="button" aria-label="前端" class="mobile-dropdown-title"><span class="title">前端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/frontend/html/" class="nav-link">
  HTML
</a></li><li class="dropdown-item"><!----> <a href="/frontend/css/" class="nav-link">
  CSS
</a></li><li class="dropdown-item"><!----> <a href="/frontend/js/" class="nav-link">
  JavaScript
</a></li><li class="dropdown-item"><!----> <a href="/frontend/es6/" class="nav-link">
  ES6
</a></li><li class="dropdown-item"><!----> <a href="/frontend/engineering/" class="nav-link">
  前端工程化
</a></li><li class="dropdown-item"><!----> <a href="/frontend/vue/" class="nav-link">
  VUE
</a></li><li class="dropdown-item"><!----> <a href="/frontend/react/" class="nav-link">
  React
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="运维|工具" class="dropdown-title"><span class="title">运维|工具</span> <span class="arrow down"></span></button> <button type="button" aria-label="运维|工具" class="mobile-dropdown-title"><span class="title">运维|工具</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/devops/linux/" class="nav-link">
  Linux
</a></li><li class="dropdown-item"><!----> <a href="/devops/git/" class="nav-link">
  Git
</a></li><li class="dropdown-item"><!----> <a href="/devops/docker/" class="nav-link">
  Docker
</a></li><li class="dropdown-item"><!----> <a href="/devops/k8s/" class="nav-link">
  K8S
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="大数据" class="dropdown-title"><span class="title">大数据</span> <span class="arrow down"></span></button> <button type="button" aria-label="大数据" class="mobile-dropdown-title"><span class="title">大数据</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/bigdata/hadoop/" class="nav-link">
  Hadoop
</a></li><li class="dropdown-item"><!----> <a href="/bigdata/hive/" class="nav-link">
  Hive
</a></li><li class="dropdown-item"><!----> <a href="/bigdata/oozie/" class="nav-link">
  Oozie
</a></li><li class="dropdown-item"><!----> <a href="/bigdata/hbase/" class="nav-link">
  Hbase
</a></li><li class="dropdown-item"><!----> <a href="/bigdata/kafka/" class="nav-link">
  Kafka
</a></li><li class="dropdown-item"><!----> <a href="/bigdata/flume/" class="nav-link">
  Flume
</a></li><li class="dropdown-item"><!----> <a href="/bigdata/spark/" class="nav-link">
  Spark
</a></li><li class="dropdown-item"><!----> <a href="/bigdata/flink/" class="nav-link">
  Flink
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="安卓" class="dropdown-title"><span class="title">安卓</span> <span class="arrow down"></span></button> <button type="button" aria-label="安卓" class="mobile-dropdown-title"><span class="title">安卓</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/android/linux/" class="nav-link">
  布局
</a></li><li class="dropdown-item"><!----> <a href="/android/docker/" class="nav-link">
  四大组件
</a></li><li class="dropdown-item"><!----> <a href="/android/docker/" class="nav-link">
  碎片
</a></li><li class="dropdown-item"><!----> <a href="/android/animation/" class="nav-link">
  动画
</a></li><li class="dropdown-item"><!----> <a href="/android/k8s/" class="nav-link">
  数据存储
</a></li><li class="dropdown-item"><!----> <a href="/android/animation/" class="nav-link">
  常用控件
</a></li><li class="dropdown-item"><!----> <a href="/android/animation/" class="nav-link">
  自定义控件
</a></li><li class="dropdown-item"><!----> <a href="/android/animation/" class="nav-link">
  绘图API
</a></li><li class="dropdown-item"><!----> <a href="/android/animation/" class="nav-link">
  drawable
</a></li><li class="dropdown-item"><!----> <a href="/android/animation/" class="nav-link">
  网络请求
</a></li><li class="dropdown-item"><!----> <a href="/android/animation/" class="nav-link">
  多媒体
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="嵌入式" class="dropdown-title"><span class="title">嵌入式</span> <span class="arrow down"></span></button> <button type="button" aria-label="嵌入式" class="mobile-dropdown-title"><span class="title">嵌入式</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/iot/digital/" class="nav-link">
  C/C++
</a></li><li class="dropdown-item"><!----> <a href="/iot/51/" class="nav-link">
  51单片机
</a></li></ul></div></div><div class="nav-item"><a href="/pmp/" class="nav-link">
  项目管理
</a></div><div class="nav-item"><a href="/blog/" class="nav-link">
  个人博客
</a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>数据结构和算法</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/java/algorithm/summary.html" class="sidebar-link">概述</a></li><li><a href="/java/algorithm/analyse.html" class="sidebar-link">算法分析</a></li><li><a href="/java/algorithm/sort.html" class="sidebar-link">排序</a></li><li><a href="/java/algorithm/list.html" class="sidebar-link">线性表</a></li><li><a href="/java/algorithm/stack.html" class="sidebar-link">栈</a></li><li><a href="/java/algorithm/queue.html" class="sidebar-link">队列</a></li><li><a href="/java/algorithm/symbolTable.html" class="sidebar-link">符号表</a></li><li><a href="/java/algorithm/tree.html" class="sidebar-link">树</a></li><li><a href="/java/algorithm/treeAdvanced.html" class="sidebar-link">平衡树</a></li><li><a href="/java/algorithm/heap.html" class="sidebar-link">堆</a></li><li><a href="/java/algorithm/priorityQueue.html" class="sidebar-link">优先队列</a></li><li><a href="/java/algorithm/UF.html" class="sidebar-link">并查集</a></li><li><a href="/java/algorithm/graph.html" aria-current="page" class="active sidebar-link">图</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/java/algorithm/graph.html#_1-图的实际应用" class="sidebar-link">1.  图的实际应用</a></li><li class="sidebar-sub-header"><a href="/java/algorithm/graph.html#_2-图的定义及分类" class="sidebar-link">2. 图的定义及分类</a></li><li class="sidebar-sub-header"><a href="/java/algorithm/graph.html#_3-无向图" class="sidebar-link">3. 无向图</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/java/algorithm/graph.html#_3-1-图的相关术语" class="sidebar-link">3.1 图的相关术语</a></li><li class="sidebar-sub-header"><a href="/java/algorithm/graph.html#_3-2-图的存储结构" class="sidebar-link">3.2 图的存储结构</a></li><li class="sidebar-sub-header"><a href="/java/algorithm/graph.html#_3-3-图的实现" class="sidebar-link">3.3 图的实现</a></li><li class="sidebar-sub-header"><a href="/java/algorithm/graph.html#_3-4-图的搜索" class="sidebar-link">3.4 图的搜索</a></li><li class="sidebar-sub-header"><a href="/java/algorithm/graph.html#_3-5-案例-畅通工程续1" class="sidebar-link">3.5 案例-畅通工程续1</a></li><li class="sidebar-sub-header"><a href="/java/algorithm/graph.html#_3-6-路径查找" class="sidebar-link">3.6 路径查找</a></li></ul></li><li class="sidebar-sub-header"><a href="/java/algorithm/graph.html#_4-有向图" class="sidebar-link">4. 有向图</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/java/algorithm/graph.html#_4-1-定义及相关术语" class="sidebar-link">4.1 定义及相关术语</a></li><li class="sidebar-sub-header"><a href="/java/algorithm/graph.html#_4-2-有向图实现" class="sidebar-link">4.2  有向图实现</a></li><li class="sidebar-sub-header"><a href="/java/algorithm/graph.html#_4-3-拓扑排序" class="sidebar-link">4.3 拓扑排序</a></li></ul></li><li class="sidebar-sub-header"><a href="/java/algorithm/graph.html#_5-加权无向图" class="sidebar-link">5. 加权无向图</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/java/algorithm/graph.html#_5-1-加权无向图边的表示" class="sidebar-link">5.1 加权无向图边的表示</a></li><li class="sidebar-sub-header"><a href="/java/algorithm/graph.html#_5-2-加权无向图的实现" class="sidebar-link">5.2  加权无向图的实现</a></li></ul></li><li class="sidebar-sub-header"><a href="/java/algorithm/graph.html#_6-最小生成树" class="sidebar-link">6. 最小生成树</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/java/algorithm/graph.html#_6-1-定义及相关约定" class="sidebar-link">6.1 定义及相关约定</a></li><li class="sidebar-sub-header"><a href="/java/algorithm/graph.html#_6-2-最小生成树原理" class="sidebar-link">6.2 最小生成树原理</a></li><li class="sidebar-sub-header"><a href="/java/algorithm/graph.html#_6-3-贪心算法" class="sidebar-link">6.3 贪心算法</a></li><li class="sidebar-sub-header"><a href="/java/algorithm/graph.html#_6-4-prim算法" class="sidebar-link">6.4 Prim算法</a></li><li class="sidebar-sub-header"><a href="/java/algorithm/graph.html#_6-5-kruskal算法" class="sidebar-link">6.5  kruskal算法</a></li></ul></li><li class="sidebar-sub-header"><a href="/java/algorithm/graph.html#_7-加权有向图" class="sidebar-link">7. 加权有向图</a></li><li class="sidebar-sub-header"><a href="/java/algorithm/graph.html#_8-最短路径" class="sidebar-link">8. 最短路径</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/java/algorithm/graph.html#_8-1-定义及性质" class="sidebar-link">8.1 定义及性质</a></li><li class="sidebar-sub-header"><a href="/java/algorithm/graph.html#_8-2-松弛技术" class="sidebar-link">8.2 松弛技术</a></li><li class="sidebar-sub-header"><a href="/java/algorithm/graph.html#_8-3-dijstra算法实现" class="sidebar-link">8.3 Dijstra算法实现</a></li></ul></li></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="图"><a href="#图" class="header-anchor">#</a> 图</h1> <h2 id="_1-图的实际应用"><a href="#_1-图的实际应用" class="header-anchor">#</a> 1.  图的实际应用</h2> <p>在现实生活中，有许多应用场景会包含很多点以及点点之间的连接，而这些应用场景我们都可以用即将要学习的图这种数据结构去解决。</p> <br> <p><strong>地图</strong></p> <p>我们生活中经常使用的地图，基本上是由城市以及连接城市的道路组成，如果我们把城市看做是一个一个的点，把道路看做是一条一条的连接，那么地图就是我们将要学习的图这种数据结构。</p> <img height="400px" src="/assets/img/00198.6986c67a.jpg"> <br> <br> <br> <p><strong>电路图</strong></p> <p>下面是一个我们生活中经常见到的集成电路板，它其实就是由一个一个触点组成，并把触点与触点之间通过线进行连接，这也是我们即将要学习的图这种数据结构的应用场景。</p> <img height="300px" src="/assets/img/00199.d21e2d1a.jpg"> <h2 id="_2-图的定义及分类"><a href="#_2-图的定义及分类" class="header-anchor">#</a> 2. 图的定义及分类</h2> <p><strong>定义</strong></p> <p>图是由一组顶点和一组能够将两个顶点相连的边组成的</p> <img height="200px" src="/assets/img/00200.f731e8be.jpg"> <br> <br> <br> <p><strong>特殊的图</strong></p> <ol><li>自环：即一条连接一个顶点和其自身的边</li> <li>平行边：连接同一对顶点的两条边</li></ol> <img height="140px" src="data:image/jpeg;base64,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"> <br> <br> <br> <p><strong>图的分类</strong></p> <p>按照连接两个顶点的边的不同，可以把图分为以下两种：</p> <ul><li><strong>无向图：</strong> 边仅仅连接两个顶点，没有其他含义</li> <li><strong>有向图：</strong> 边不仅连接两个顶点，并且具有方向</li></ul> <h2 id="_3-无向图"><a href="#_3-无向图" class="header-anchor">#</a> 3. 无向图</h2> <h3 id="_3-1-图的相关术语"><a href="#_3-1-图的相关术语" class="header-anchor">#</a> 3.1 图的相关术语</h3> <p><strong>相邻顶点</strong></p> <p>当两个顶点通过一条边相连时，我们称这两个顶点是相邻的，并且称这条边依附于这两个顶点</p> <p><strong>度</strong></p> <p>某个顶点的度就是依附于该顶点的边的个数</p> <p><strong>子图</strong></p> <p>是一幅图的所有边的子集（包含这些边依附的顶点）组成的图</p> <p><strong>路径</strong></p> <p>是由边顺序连接的一系列的顶点组成</p> <p><strong>环</strong></p> <p>是一条至少含有一条边且终点和起点相同的路径</p> <img height="140px" src="data:image/jpeg;base64,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"> <p><strong>连通图</strong></p> <p>如果图中任意一个顶点都存在一条路径到达另外一个顶点，那么这幅图就称之为连通图</p> <p><strong>连通子图</strong></p> <p>一个非连通图由若干连通的部分组成，每一个连通的部分都可以称为该图的连通子图</p> <img height="200px" src="/assets/img/00203.aa2978b0.jpg"> <br> <h3 id="_3-2-图的存储结构"><a href="#_3-2-图的存储结构" class="header-anchor">#</a> 3.2 图的存储结构</h3> <p>要表示一幅图，只需要表示清楚以下两部分内容即可：</p> <ol><li>图中所有的顶点</li> <li>所有连接顶点的边</li></ol> <p>常见的图的存储结构有两种：<code>邻接矩阵</code> 和 <code>邻接表</code></p> <h4 id="_3-2-1-邻接矩阵"><a href="#_3-2-1-邻接矩阵" class="header-anchor">#</a> 3.2.1 邻接矩阵</h4> <ol><li>使用一个 V*V 的二维数组 int[V][V] adj，把索引的值看做是顶点</li> <li>如果顶点 v 和顶点 w 相连，我们只需要将 adj[v][w] 和 adj[w][v] 的值设置为1，否则设置为 0 即可</li></ol> <img height="400px" src="/assets/img/00204.fec80a4d.jpg"> <p>很明显，邻接矩阵这种存储方式的空间复杂度是 V^2 的，如果我们处理的问题规模比较大的话，内存空间极有可能不够用。</p> <h4 id="_3-2-2-邻接表"><a href="#_3-2-2-邻接表" class="header-anchor">#</a> 3.2.2 邻接表</h4> <ol><li>使用一个大小为 V 的数组 Queue[V] adj，把索引看做是顶点</li> <li>每个索引处 adj[v] 存储了一个队列，该队列中存储的是所有与该顶点相邻的其他顶点</li></ol> <img height="400px" src="/assets/img/00205.79b77613.jpg"> <p>很明显，邻接表的空间并不是是线性级别的，所以后面我们一直采用邻接表这种存储形式来表示图。</p> <h3 id="_3-3-图的实现"><a href="#_3-3-图的实现" class="header-anchor">#</a> 3.3 图的实现</h3> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Graph</span> <span class="token punctuation">{</span>

    <span class="token comment">//顶点个数</span>
    <span class="token keyword">private</span> <span class="token keyword">int</span> vertex<span class="token punctuation">;</span>
    <span class="token comment">//边的个数</span>
    <span class="token keyword">private</span> <span class="token keyword">int</span> edge<span class="token punctuation">;</span>

    <span class="token keyword">private</span> <span class="token class-name">Queue</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">[</span><span class="token punctuation">]</span> adj<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token class-name">Graph</span><span class="token punctuation">(</span><span class="token keyword">int</span> vertex<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">//初始化顶点数量</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>vertex <span class="token operator">=</span> vertex<span class="token punctuation">;</span>
        <span class="token comment">//初始化边的数量</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>edge <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
		<span class="token comment">//初始化邻接表</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>adj <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Queue</span><span class="token punctuation">[</span>vertex<span class="token punctuation">]</span><span class="token punctuation">;</span>

        <span class="token comment">//初始化邻接表中的空队列</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> adj<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            adj<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Queue</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token comment">//获取顶点数目</span>
    <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">getVertex</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> vertex<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">//获取边的数目</span>
    <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">getEdge</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> edge<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">//向图中添加一条边 v-w</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">addEdge</span><span class="token punctuation">(</span><span class="token keyword">int</span> v<span class="token punctuation">,</span> <span class="token keyword">int</span> w<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        adj<span class="token punctuation">[</span>v<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">enqueue</span><span class="token punctuation">(</span>w<span class="token punctuation">)</span><span class="token punctuation">;</span>
        adj<span class="token punctuation">[</span>w<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">enqueue</span><span class="token punctuation">(</span>v<span class="token punctuation">)</span><span class="token punctuation">;</span>
        edge<span class="token operator">++</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">//获取和顶点vertex相邻的所有顶点</span>
    <span class="token keyword">public</span> <span class="token class-name">Queue</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span> <span class="token function">adj</span><span class="token punctuation">(</span><span class="token keyword">int</span> vertex<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> adj<span class="token punctuation">[</span>vertex<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="_3-4-图的搜索"><a href="#_3-4-图的搜索" class="header-anchor">#</a> 3.4 图的搜索</h3> <p>在很多情况下，我们需要遍历图，得到图的一些性质，例如，找出图中与指定的顶点相连的所有顶点，或者判定某个顶点与指定顶点是否相通，是非常常见的需求。</p> <p>有关图的搜索，最经典的算法有 <code>深度优先搜索</code> 和 <code>广度优先搜索</code>，接下来我们分别讲解这两种搜索算法。</p> <h4 id="_3-4-1-深度优先搜索"><a href="#_3-4-1-深度优先搜索" class="header-anchor">#</a> 3.4.1 深度优先搜索</h4> <p>所谓的深度优先搜索，指的是在搜索时，如果遇到一个结点既有子结点，又有兄弟结点，那么先找子结点，然后找兄弟结点。</p> <img height="450px" src="/assets/img/00206.aad4c4bf.jpg"> <p>很明显，在由于边是没有方向的，所以，如果 4 和 5 顶点相连，那么 4 会出现在 5 的相邻链表中，5 也会出现在 4 的相邻链表中，那么为了不对顶点进行重复搜索，应该要有相应的标记来表示当前顶点有没有搜索过，可以使用一个布尔类型的数组 boolean[V] marked，索引代表顶点，值代表当前顶点是否已经搜索，如果已经搜索，标记为true，如果没有搜索，标记为false</p> <br> <p><strong>代码</strong></p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token comment">//深度优先</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">DepthFirstSearch</span> <span class="token punctuation">{</span>

    <span class="token comment">//索引代表顶点，值表示当前顶点是否已经被搜索</span>
    <span class="token keyword">private</span> <span class="token keyword">boolean</span><span class="token punctuation">[</span><span class="token punctuation">]</span> marked<span class="token punctuation">;</span>
    <span class="token comment">//记录有多少个顶点与s顶点相通</span>
    <span class="token keyword">private</span> <span class="token keyword">int</span> count<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token class-name">DepthFirstSearch</span><span class="token punctuation">(</span><span class="token class-name">Graph</span> graph<span class="token punctuation">,</span> <span class="token keyword">int</span> s<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">//创建一个和图的顶点数一样大小的布尔数组</span>
        marked <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">boolean</span><span class="token punctuation">[</span>graph<span class="token punctuation">.</span><span class="token function">getVertex</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token comment">//搜索graph图中与顶点s相同的所有顶点</span>
        <span class="token function">dfs</span><span class="token punctuation">(</span>graph<span class="token punctuation">,</span> s<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">getCount</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> count<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    
    <span class="token keyword">private</span> <span class="token keyword">void</span> <span class="token function">dfs</span><span class="token punctuation">(</span><span class="token class-name">Graph</span> graph<span class="token punctuation">,</span> <span class="token keyword">int</span> v<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">//把当前顶点标记为已搜索</span>
        marked<span class="token punctuation">[</span>v<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>

        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>v<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">//遍历v顶点的邻接表，得到每一个顶点w</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">Integer</span> w <span class="token operator">:</span> graph<span class="token punctuation">.</span><span class="token function">adj</span><span class="token punctuation">(</span>v<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment">//如果当前顶点w没有被搜索过，则递归搜索与w顶点相通的其他顶点</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>marked<span class="token punctuation">[</span>w<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token function">dfs</span><span class="token punctuation">(</span>graph<span class="token punctuation">,</span> w<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
        <span class="token comment">///相通的顶点数量+1</span>
        count<span class="token operator">++</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">Graph</span> graph <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Graph</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        graph<span class="token punctuation">.</span><span class="token function">addEdge</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        graph<span class="token punctuation">.</span><span class="token function">addEdge</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        graph<span class="token punctuation">.</span><span class="token function">addEdge</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        graph<span class="token punctuation">.</span><span class="token function">addEdge</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        graph<span class="token punctuation">.</span><span class="token function">addEdge</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        graph<span class="token punctuation">.</span><span class="token function">addEdge</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        graph<span class="token punctuation">.</span><span class="token function">addEdge</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        graph<span class="token punctuation">.</span><span class="token function">addEdge</span><span class="token punctuation">(</span><span class="token number">9</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">DepthFirstSearch</span> depthFirstSearch <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">DepthFirstSearch</span><span class="token punctuation">(</span>graph<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h4 id="_3-4-2-广度优先搜索"><a href="#_3-4-2-广度优先搜索" class="header-anchor">#</a> 3.4.2 广度优先搜索</h4> <p>所谓的深度优先搜索，指的是在搜索时，如果遇到一个结点既有子结点，又有兄弟结点，那么先找兄弟结点，然后找子结点。</p> <img height="450px" src="/assets/img/00207.55c78f9b.jpg"> <br> <p><strong>代码</strong></p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token comment">//广度优先</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">BreadthFirstSearch</span> <span class="token punctuation">{</span>

    <span class="token comment">//索引代表顶点，值表示当前顶点是否已经被搜索</span>
    <span class="token keyword">private</span> <span class="token keyword">boolean</span><span class="token punctuation">[</span><span class="token punctuation">]</span> marked<span class="token punctuation">;</span>
    
    <span class="token comment">//记录有多少个顶点与s顶点相通</span>
    <span class="token keyword">private</span> <span class="token keyword">int</span> count<span class="token punctuation">;</span>

    <span class="token comment">//用来存储待搜索邻接表的点</span>
    <span class="token keyword">private</span> <span class="token class-name">Queue</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span> waitSearch<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token class-name">BreadthFirstSearch</span><span class="token punctuation">(</span><span class="token class-name">Graph</span> graph<span class="token punctuation">,</span> <span class="token keyword">int</span> s<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">//创建一个和图的顶点数一样大小的布尔数组</span>
        marked <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">boolean</span><span class="token punctuation">[</span>graph<span class="token punctuation">.</span><span class="token function">getVertex</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token comment">//初始化待搜索顶点的队列</span>
        waitSearch <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Queue</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">bfs</span><span class="token punctuation">(</span>graph<span class="token punctuation">,</span> s<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">getCount</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> count<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">private</span> <span class="token keyword">void</span> <span class="token function">bfs</span><span class="token punctuation">(</span><span class="token class-name">Graph</span> graph<span class="token punctuation">,</span> <span class="token keyword">int</span> v<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">//把当前顶点v标记为已搜索</span>
        marked<span class="token punctuation">[</span>v<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
        
        <span class="token comment">//把当前顶点v放入到队列中，等待搜索它的邻接表</span>
        waitSearch<span class="token punctuation">.</span><span class="token function">enqueue</span><span class="token punctuation">(</span>v<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">//使用while循环从队列中拿出待搜索的顶点wait，进行搜索邻接表</span>
        <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token operator">!</span>waitSearch<span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token class-name">Integer</span> wait <span class="token operator">=</span> waitSearch<span class="token punctuation">.</span><span class="token function">dequeue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            marked<span class="token punctuation">[</span>wait<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>

            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>wait<span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token comment">//遍历wait顶点的邻接表，得到每一个顶点w</span>
            <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">Integer</span> w <span class="token operator">:</span> graph<span class="token punctuation">.</span><span class="token function">adj</span><span class="token punctuation">(</span>wait<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>marked<span class="token punctuation">[</span>w<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    waitSearch<span class="token punctuation">.</span><span class="token function">enqueue</span><span class="token punctuation">(</span>w<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
            count<span class="token operator">++</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">Graph</span> graph <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Graph</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        graph<span class="token punctuation">.</span><span class="token function">addEdge</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        graph<span class="token punctuation">.</span><span class="token function">addEdge</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        graph<span class="token punctuation">.</span><span class="token function">addEdge</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        graph<span class="token punctuation">.</span><span class="token function">addEdge</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        graph<span class="token punctuation">.</span><span class="token function">addEdge</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        graph<span class="token punctuation">.</span><span class="token function">addEdge</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        graph<span class="token punctuation">.</span><span class="token function">addEdge</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        graph<span class="token punctuation">.</span><span class="token function">addEdge</span><span class="token punctuation">(</span><span class="token number">9</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">BreadthFirstSearch</span> depthFirstSearch <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BreadthFirstSearch</span><span class="token punctuation">(</span>graph<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span>
</code></pre></div><h3 id="_3-5-案例-畅通工程续1"><a href="#_3-5-案例-畅通工程续1" class="header-anchor">#</a> 3.5 案例-畅通工程续1</h3> <p>某省调查城镇交通状况，得到现有城镇道路统计表，表中列出了每条道路直接连通的城镇。省政府“畅通工程”的目标是使全省任何两个城镇间都可以实现交通（但不一定有直接的道路相连，只要互相间接通过道路可达即可）。目前的道路状况，9 号城市和 10 号城市是否相通？9 号城市和 8 号城市是否相通？</p> <p>下面是对道路统计数据的解释：</p> <img height="200px" src="/assets/img/00208.3bb927a7.jpg"> <p>总共有20个城市，目前已经修改好了 7 条道路，问 9 号城市和 10 号城市是否相通？9 号城市和 8 号城市是否相通？</p> <br> <p><strong>解题思路</strong></p> <ol><li>创建一个图Graph对象，表示城市；</li> <li>分别调用addEdge(0,1), addEdge(6,9), addEdge(3,8), addEdge(5,11), addEdge(2,12), addEdge(6,10), addEdge(4,8)，表示已经修建好的道路把对应的城市连接起来</li> <li>通过Graph对象和顶点 9，构建DepthFirstSearch对象或BreadthFirstSearch对象</li> <li>调用搜索对象的 marked(10) 方法和 marked(8) 方法，即可得到9和城市与10号城市以及9号城市与8号城市是否相通</li></ol> <h3 id="_3-6-路径查找"><a href="#_3-6-路径查找" class="header-anchor">#</a> 3.6 路径查找</h3> <p>在实际生活中，地图是我们经常使用的一种工具，通常我们会用它进行导航，输入一个出发城市，输入一个目的地城市，就可以把路线规划好，而在规划好的这个路线上，会路过很多中间的城市。这类问题翻译成专业问题就是：从 s 顶点到 v 顶点是否存在一条路径？如果存在，请找出这条路径。</p> <img height="200px" src="/assets/img/00209.2eaf5fbf.jpg"> <p>例如在上图上查找顶点 0 到顶点 4 的路径用红色标识出来，那么我们可以把该路径表示为 0-2-3-4。</p> <br> <p>我们实现路径查找，最基本的操作还是得遍历并搜索图，所以，我们的实现暂且基于深度优先搜索来完成。其搜索的过程是比较简单的。我们添加了 edgeTo[] 整型数组，这个整型数组会记录从每个顶点回到起点 s 的路径。</p> <p>如果我们把顶点设定为0，那么它的搜索可以表示为下图：</p> <img width="420px" src="/assets/img/00210.492917c7.jpg"> <br> <img width="420px" src="/assets/img/00211.c1d64799.jpg"> <br> <img width="420px" src="/assets/img/00212.57613768.jpg"> <p>根据最终 edgeTo 的结果，我们很容易能够找到从起点 0 到任意顶点的路径</p> <br> <p><strong>代码</strong></p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">DepthFirstPaths</span> <span class="token punctuation">{</span>
    <span class="token comment">//索引代表顶点，值表示当前顶点是否已经被搜索</span>
    <span class="token keyword">private</span> <span class="token keyword">boolean</span><span class="token punctuation">[</span><span class="token punctuation">]</span> marked<span class="token punctuation">;</span>
    <span class="token comment">//起点</span>
    <span class="token keyword">private</span> <span class="token keyword">int</span> s<span class="token punctuation">;</span>
    <span class="token comment">//索引代表顶点，值代表从起点s到当前顶点路径上的最后一个顶点</span>
    <span class="token keyword">private</span> <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> edgeTo<span class="token punctuation">;</span>
    <span class="token comment">//构造深度优先搜索对象，使用深度优先搜索找出G图中起点为s的所有路径</span>
    <span class="token keyword">public</span> <span class="token class-name">DepthFirstPaths</span><span class="token punctuation">(</span><span class="token class-name">Graph</span> <span class="token class-name">G</span><span class="token punctuation">,</span> <span class="token keyword">int</span> s<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">//创建一个和图的顶点数一样大小的布尔数组</span>
        marked <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">boolean</span><span class="token punctuation">[</span><span class="token class-name">G</span><span class="token punctuation">.</span><span class="token function">getVertex</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token comment">//创建一个和图顶点数一样大小的整型数组</span>
        edgeTo <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token class-name">G</span><span class="token punctuation">.</span><span class="token function">getVertex</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token comment">//初始化顶点</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>s <span class="token operator">=</span> s<span class="token punctuation">;</span>
        <span class="token comment">//搜索G图中起点为s的所有路径</span>
        <span class="token function">dfs</span><span class="token punctuation">(</span><span class="token class-name">G</span><span class="token punctuation">,</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    
    <span class="token comment">//使用深度优先搜索找出G图中v顶点的所有相邻顶点</span>
    <span class="token keyword">private</span> <span class="token keyword">void</span> <span class="token function">dfs</span><span class="token punctuation">(</span><span class="token class-name">Graph</span> <span class="token class-name">G</span><span class="token punctuation">,</span> <span class="token keyword">int</span> v<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">//把当前顶点标记为已搜索</span>
        marked<span class="token punctuation">[</span>v<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
        <span class="token comment">//遍历v顶点的邻接表，得到每一个顶点w</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">Integer</span> w <span class="token operator">:</span> <span class="token class-name">G</span><span class="token punctuation">.</span><span class="token function">adj</span><span class="token punctuation">(</span>v<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment">//如果当前顶点w没有被搜索过，则将edgeTo[w]设置为v,表示w的前一个顶点为v，并递归搜索与w顶点相通的其他顶点</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>marked<span class="token punctuation">[</span>w<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                edgeTo<span class="token punctuation">[</span>w<span class="token punctuation">]</span> <span class="token operator">=</span> v<span class="token punctuation">;</span>
                <span class="token function">dfs</span><span class="token punctuation">(</span><span class="token class-name">G</span><span class="token punctuation">,</span>w<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    
    <span class="token comment">//判断w顶点与s顶点是否存在路径</span>
    <span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">hasPathTo</span><span class="token punctuation">(</span><span class="token keyword">int</span> v<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> marked<span class="token punctuation">[</span>v<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    
    <span class="token comment">//找出从起点s到顶点v的路径(就是该路径经过的顶点)</span>
    <span class="token keyword">public</span> <span class="token class-name">Stack</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span> <span class="token function">pathTo</span><span class="token punctuation">(</span><span class="token keyword">int</span> v<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">//当前v顶点与s顶点不连通，所以直接返回null，没有路径</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token function">hasPathTo</span><span class="token punctuation">(</span>v<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token comment">//创建路劲中经过的顶点的容器</span>
        <span class="token class-name">Stack</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span> path <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Stack</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        
        <span class="token comment">//第一次把当前顶点存进去，然后将x变换为到达当前顶点的前一个顶点edgeTo[x]，</span>
        <span class="token comment">//在把前一个顶点存进去，继续将x变化为到达前一个顶点的前一个顶点，</span>
        <span class="token comment">//继续存，一直到x的值为s为止，相当于逆推法，最后把s放进去</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> x <span class="token operator">=</span> v<span class="token punctuation">;</span> x <span class="token operator">!=</span> s<span class="token punctuation">;</span> x <span class="token operator">=</span> edgeTo<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment">//把当前顶点放入容器</span>
            path<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token comment">//把起点s放入容器</span>
        path<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> path<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="_4-有向图"><a href="#_4-有向图" class="header-anchor">#</a> 4. 有向图</h2> <p>在实际生活中，很多应用相关的图都是有方向性的，最直观的就是网络，可以从 A 页面通过链接跳转到 B 页面，那么 a 和 b 连接的方向是 a-&gt;b，但不能说是 b-&gt;a，此时我们就需要使用有向图来解决这一类问题，它和我们之前学习的无向图，最大的区别就在于连接是具有方向的，在代码的处理上也会有很大的不同。</p> <h3 id="_4-1-定义及相关术语"><a href="#_4-1-定义及相关术语" class="header-anchor">#</a> 4.1 定义及相关术语</h3> <p><strong>定义</strong></p> <p>有向图是一副具有方向性的图，是由一组顶点和一组有方向的边组成的，每条方向的边都连着一对有序的顶点</p> <p><strong>出度</strong></p> <p>由某个顶点指出的边的个数称为该顶点的出度</p> <p><strong>入度</strong></p> <p>指向某个顶点的边的个数称为该顶点的入度</p> <p><strong>有向路径</strong></p> <p>由一系列顶点组成，对于其中的每个顶点都存在一条有向边，从它指向序列中的下一个顶点</p> <p><strong>有向环</strong></p> <p>一条至少含有一条边，且起点和终点相同的有向路径</p> <img height="180px" src="/assets/img/00213.98ee4a9a.jpg"> <br> <p><strong>一副有向图中两个顶点 v 和 w 可能存在以下四种关系</strong></p> <ol><li>没有边相连</li> <li>存在从 v 到 w 的边 v—&gt;w</li> <li>存在从 w 到 v 的边 w—&gt;v</li> <li>既存在 w 到 v 的边，也存在 v 到 w 的边，即双向连接</li></ol> <p>理解有向图是一件比较简单的，但如果要通过眼睛看出复杂有向图中的路径就不是那么容易了。</p> <img height="240px" src="/assets/img/00214.f27b1fe3.jpg"> <h3 id="_4-2-有向图实现"><a href="#_4-2-有向图实现" class="header-anchor">#</a> 4.2  有向图实现</h3> <div class="language-java extra-class"><pre class="language-java"><code><span class="token comment">//有向图</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">DirectedGraph</span> <span class="token punctuation">{</span>

    <span class="token comment">//顶点数目</span>
    <span class="token keyword">public</span> <span class="token keyword">int</span> vertex<span class="token punctuation">;</span>
    
    <span class="token comment">//边的数目</span>
    <span class="token keyword">private</span> <span class="token keyword">int</span> edge<span class="token punctuation">;</span>
    
    <span class="token comment">//邻接表</span>
    <span class="token keyword">private</span> <span class="token class-name">Queue</span><span class="token punctuation">[</span><span class="token punctuation">]</span> adj<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token class-name">DirectedGraph</span><span class="token punctuation">(</span><span class="token keyword">int</span> vertex<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>vertex <span class="token operator">=</span> vertex<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>edge <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>adj <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Queue</span><span class="token punctuation">[</span>vertex<span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token comment">//初始化邻接表中的空队列</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> adj<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            adj<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Queue</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token comment">//获取顶点数目</span>
    <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">getVertex</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> vertex<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">//获取边的数目</span>
    <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">getEdge</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> edge<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">//向有向图中添加一条边 v-&gt;w</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">addEdge</span><span class="token punctuation">(</span><span class="token keyword">int</span> v<span class="token punctuation">,</span> <span class="token keyword">int</span> w<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">//由于有向图中边是有向的，v-&gt;w 边，只需要让w出现在v的邻接表中，而不需要让v出现在w的邻接表中</span>
        adj<span class="token punctuation">[</span>v<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">enqueue</span><span class="token punctuation">(</span>w<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//边的数目自增1</span>
        edge<span class="token operator">++</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">//获取由v指出的边所连接的所有顶点</span>
    <span class="token keyword">public</span> <span class="token class-name">Queue</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span> <span class="token function">adj</span><span class="token punctuation">(</span><span class="token keyword">int</span> vertex<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> adj<span class="token punctuation">[</span>vertex<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">//该图的反向图</span>
    <span class="token keyword">private</span> <span class="token class-name">DirectedGraph</span> <span class="token function">reverse</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">DirectedGraph</span> directedGraph <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">DirectedGraph</span><span class="token punctuation">(</span>vertex<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> vertex<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">Integer</span> w <span class="token operator">:</span> <span class="token function">adj</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token comment">//得到原图中的v顶点对应的邻接表,原图中的边为 v-&gt;w,则反向图中边为w-&gt;v;</span>
                directedGraph<span class="token punctuation">.</span><span class="token function">addEdge</span><span class="token punctuation">(</span>w<span class="token punctuation">,</span> i<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> directedGraph<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span>
</code></pre></div><h3 id="_4-3-拓扑排序"><a href="#_4-3-拓扑排序" class="header-anchor">#</a> 4.3 拓扑排序</h3> <p>在现实生活中，我们经常会同一时间接到很多任务去完成，但是这些任务的完成是有先后次序的。以我们学习 java 学科为例，我们需要学习很多知识，但是这些知识在学习的过程中是需要按照先后次序来完成的。从 java 基础，到 jsp/servlet，到 ssm，到 springboot 等是个循序渐进且有依赖的过程。在学习 jsp 前要首先掌握 java 基础和 html 基础，学习 ssm 框架前要掌握 jsp/servlet 之类才行。</p> <img height="220px" src="/assets/img/00215.70ace4b6.jpg"> <p>为了简化问题，我们使用整数为顶点编号的标准模型来表示这个案例：</p> <img height="180px" src="/assets/img/00216.95f3a3fa.jpg"> <p>此时如果某个同学要学习这些课程，就需要指定出一个学习的方案，我们只需要对图中的顶点进行排序，让它转换为一个线性序列，就可以解决问题，这时就需要用到一种叫 <code>拓扑排序</code> 的算法。</p> <br> <p><strong>拓扑排序</strong></p> <p>给定一副有向图，将所有的顶点排序，使得所有的有向边均从排在前面的元素指向排在后面的元素，此时就可以明确的表示出每个顶点的优先级。下列是一副拓扑排序后的示意图：</p> <img height="400px" src="/assets/img/00217.36564c42.jpg"> <h4 id="_4-3-1-检测有向图中的环"><a href="#_4-3-1-检测有向图中的环" class="header-anchor">#</a> 4.3.1 检测有向图中的环</h4> <p>如果学习 x 课程前必须先学习 y 课程，学习 y 课程前必须先学习 z 课程，学习 z 课程前必须先学习 x 课程，那么一定是有问题了，我们就没有办法学习了，因为这三个条件没有办法同时满足。其实这三门课程x、y、z的条件组成了一个环：</p> <img height="140px" src="data:image/jpeg;base64,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"> <p>因此，如果我们要使用拓扑排序解决优先级问题，首先得保证图中没有环的存在。</p> <h4 id="_4-3-2-检测有向环实现"><a href="#_4-3-2-检测有向环实现" class="header-anchor">#</a> 4.3.2 检测有向环实现</h4> <p>在API中添加了onStack[] 布尔数组，索引为图的顶点，当我们深度搜索时：</p> <ol><li>在如果当前顶点正在搜索，则把对应的onStack数组中的值改为true，标识进栈；</li> <li>如果当前顶点搜索完毕，则把对应的onStack数组中的值改为false，标识出栈；</li> <li>如果即将要搜索某个顶点，但该顶点已经在栈中，则图中有环；</li></ol> <img height="440px" src="/assets/img/00219.aa4d2a3d.jpg"> <br> <img height="329px" src="/assets/img/00220.c4fefc41.jpg"> <br> <img height="123px" src="/assets/img/00221.764c5628.jpg"> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">DirectedCycle</span> <span class="token punctuation">{</span>
    <span class="token comment">//索引代表顶点，值表示当前顶点是否已经被搜索</span>
    <span class="token keyword">private</span> <span class="token keyword">boolean</span><span class="token punctuation">[</span><span class="token punctuation">]</span> marked<span class="token punctuation">;</span>
    <span class="token comment">//记录图中是否有环</span>
    <span class="token keyword">private</span> <span class="token keyword">boolean</span> hasCycle<span class="token punctuation">;</span>
    <span class="token comment">//索引代表顶点，使用栈的思想，记录当前顶点有没有已经处于正在搜索的有向路径上</span>
    <span class="token keyword">private</span> <span class="token keyword">boolean</span><span class="token punctuation">[</span><span class="token punctuation">]</span> onStack<span class="token punctuation">;</span>
    <span class="token comment">//创建一个检测环对象，检测图G中是否有环</span>
    <span class="token keyword">public</span> <span class="token class-name">DirectedCycle</span><span class="token punctuation">(</span><span class="token class-name">DirectedGraph</span> <span class="token class-name">G</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">//创建一个和图的顶点数一样大小的marked数组</span>
        marked <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">boolean</span><span class="token punctuation">[</span><span class="token class-name">G</span><span class="token punctuation">.</span><span class="token function">getVertex</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token comment">//创建一个和图的顶点数一样大小的onStack数组</span>
        onStack <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">boolean</span><span class="token punctuation">[</span><span class="token class-name">G</span><span class="token punctuation">.</span><span class="token function">getVertex</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token comment">//默认没有环</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>hasCycle<span class="token operator">=</span><span class="token boolean">false</span><span class="token punctuation">;</span>
        <span class="token comment">//遍历搜索图中的每一个顶点</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> v <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> v <span class="token operator">&lt;</span><span class="token class-name">G</span><span class="token punctuation">.</span><span class="token function">getVertex</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> v<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment">//如果当前顶点没有搜索过，则搜索</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>marked<span class="token punctuation">[</span>v<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
                <span class="token function">dfs</span><span class="token punctuation">(</span><span class="token class-name">G</span><span class="token punctuation">,</span>v<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token comment">//基于深度优先搜索，检测图G中是否有环</span>
    <span class="token keyword">private</span> <span class="token keyword">void</span> <span class="token function">dfs</span><span class="token punctuation">(</span><span class="token class-name">DirectedGraph</span> <span class="token class-name">G</span><span class="token punctuation">,</span> <span class="token keyword">int</span> v<span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token comment">//把当前顶点标记为已搜索</span>
        marked<span class="token punctuation">[</span>v<span class="token punctuation">]</span><span class="token operator">=</span><span class="token boolean">true</span><span class="token punctuation">;</span>
        <span class="token comment">//让当前顶点进栈</span>
        onStack<span class="token punctuation">[</span>v<span class="token punctuation">]</span><span class="token operator">=</span><span class="token boolean">true</span><span class="token punctuation">;</span>
        <span class="token comment">//遍历v顶点的邻接表，得到每一个顶点w</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">Integer</span> w <span class="token operator">:</span> <span class="token class-name">G</span><span class="token punctuation">.</span><span class="token function">adj</span><span class="token punctuation">(</span>v<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token comment">//如果当前顶点w没有被搜索过，则递归搜索与w顶点相通的其他顶点</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>marked<span class="token punctuation">[</span>w<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
                <span class="token function">dfs</span><span class="token punctuation">(</span><span class="token class-name">G</span><span class="token punctuation">,</span>w<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            <span class="token comment">//如果顶点w已经被搜索过，则查看顶点w是否在栈中，如果在，则证明图中有环，修改hasCycle标记，结束循环</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>onStack<span class="token punctuation">[</span>w<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
                hasCycle<span class="token operator">=</span><span class="token boolean">true</span><span class="token punctuation">;</span>
                <span class="token keyword">return</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
        <span class="token comment">//当前顶点已经搜索完毕，让当前顶点出栈</span>
        onStack<span class="token punctuation">[</span>v<span class="token punctuation">]</span><span class="token operator">=</span><span class="token boolean">false</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">//判断w顶点与s顶点是否相通</span>
    <span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">hasCycle</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> hasCycle<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h4 id="_4-3-3-基于深度优先的顶点排序"><a href="#_4-3-3-基于深度优先的顶点排序" class="header-anchor">#</a> 4.3.3 基于深度优先的顶点排序</h4> <p>如果要把图中的顶点生成线性序列其实是一件非常简单的事，之前我们学习并使用了多次深度优先搜索，我们会发现其实深度优先搜索有一个特点，那就是在一个连通子图上，每个顶点只会被搜索一次，如果我们能在深度优先搜索的基础上，添加一行代码，只需要将搜索的顶点放入到线性序列的数据结构中，我们就能完成这件事。</p> <p>在API的设计中，我们添加了一个栈 reversePost 用来存储顶点，当我们深度搜索图时，每搜索完毕一个顶点，把该顶点放入到 reversePost 中，这样就可以实现顶点排序。</p> <img height="440px" src="/assets/img/00222.6bb45c86.jpg"> <br> <img height="295px" src="/assets/img/00223.b3f922bb.jpg"> <br> <img height="344px" src="/assets/img/00224.5dc8bdd1.jpg"> <br> <img height="399px" src="/assets/img/00225.386fe65f.jpg"> <br> <img height="74px" src="data:image/jpeg;base64,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Fh/KCvqSvlv4d/8AKQj4rf8AYsWH8oK+pKACvDf22P8Ak2nxp/16mvcq8N/bY/5Np8af9epoA43wN/yJPh//ALB9v/6LWijwN/yJPh//ALB9v/6LWigA/ZH/AOS4ftJf9jRH/wC1q+pK+W/2R/8AkuH7SX/Y0R/+1q+pKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKAPk74E/8n1ftAf9eum/+iUr6xr5O+BP/J9X7QH/AF66b/6JSvrGgArgPjz8RF+FXwk8S+JgR59laO0Cn+OTHyrXf18u/wDBRy4lt/2bLgRkgSaraRvj+6S2aa1YmfOPwb0Gew8Krq2ou9xretH7dfXEvLu788n2ya72q2mxJBYW8cfMaxgLj0xVmv37DUY4ejClDZI/E8RWlXrSqy3bKDeINLW4NudStBODt8ozruz6Yzmr9eQWMCeA9R1G51/wvDNa3WpvLHq+I5TGr4C5GCw5H616/UYavKtfnVmumv6lV6KpW5XdPrp+hznxB8JQeNPCt7pswAZl3xSY5Rx0YV9OfsU/FC8+J/wN0yXVZWl1rS2bT7wyHLlk+UM3ucE14Kwypz0xXV/8E7ZGW6+L1spJtoNdjEXpgiTNfEcWUIpUq631X6n2HDNaV6lF7aM+yaKKK/Oj7s+W/h3/AMpCPit/2LFh/KCvqSvlv4d/8pCPit/2LFh/KCvqSgArw39tj/k2nxp/16mvcq8N/bY/5Np8af8AXqaAON8Df8iT4f8A+wfb/wDotaKPA3/Ik+H/APsH2/8A6LWigA/ZH/5Lh+0l/wBjRH/7Wr6kr5b/AGR/+S4ftJf9jRH/AO1q+pKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKAPk74E/8AJ9X7QH/Xrpv/AKJSvrGvk74E/wDJ9X7QH/Xrpv8A6JSvrGgArxn9r/wDN8Rv2f8AxRpt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"> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">DepthFirstOrder</span> <span class="token punctuation">{</span>
    
    <span class="token comment">//索引代表顶点，值表示当前顶点是否已经被搜索</span>
    <span class="token keyword">private</span> <span class="token keyword">boolean</span><span class="token punctuation">[</span><span class="token punctuation">]</span> marked<span class="token punctuation">;</span>
    
    <span class="token comment">//使用栈，存储顶点序列</span>
    <span class="token keyword">private</span> <span class="token class-name">Stack</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span> reversePost<span class="token punctuation">;</span>
    
    <span class="token comment">//创建一个检测环对象，检测图G中是否有环</span>
    <span class="token keyword">public</span> <span class="token class-name">DepthFirstOrder</span><span class="token punctuation">(</span><span class="token class-name">DirectedGraph</span> <span class="token class-name">G</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token comment">//创建一个和图的顶点数一样大小的marked数组</span>
        marked <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">boolean</span><span class="token punctuation">[</span><span class="token class-name">G</span><span class="token punctuation">.</span><span class="token function">getVertex</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        reversePost <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Stack</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//遍历搜索图中的每一个顶点</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> v <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> v <span class="token operator">&lt;</span><span class="token class-name">G</span><span class="token punctuation">.</span><span class="token function">getVertex</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> v<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment">//如果当前顶点没有搜索过，则搜索</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>marked<span class="token punctuation">[</span>v<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
                <span class="token function">dfs</span><span class="token punctuation">(</span><span class="token class-name">G</span><span class="token punctuation">,</span>v<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    
    <span class="token comment">//基于深度优先搜索，检测图G中是否有环</span>
    <span class="token keyword">private</span> <span class="token keyword">void</span> <span class="token function">dfs</span><span class="token punctuation">(</span><span class="token class-name">DirectedGraph</span> <span class="token class-name">G</span><span class="token punctuation">,</span> <span class="token keyword">int</span> v<span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token comment">//把当前顶点标记为已搜索</span>
        marked<span class="token punctuation">[</span>v<span class="token punctuation">]</span><span class="token operator">=</span><span class="token boolean">true</span><span class="token punctuation">;</span>
        <span class="token comment">//遍历v顶点的邻接表，得到每一个顶点w</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">Integer</span> w <span class="token operator">:</span> <span class="token class-name">G</span><span class="token punctuation">.</span><span class="token function">adj</span><span class="token punctuation">(</span>v<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token comment">//如果当前顶点w没有被搜索过，则递归搜索与w顶点相通的其他顶点</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>marked<span class="token punctuation">[</span>w<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
                <span class="token function">dfs</span><span class="token punctuation">(</span><span class="token class-name">G</span><span class="token punctuation">,</span>w<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
        <span class="token comment">//当前顶点已经搜索完毕，让当前顶点入栈</span>
        reversePost<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>v<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    
    <span class="token comment">//获取顶点线性序列</span>
    <span class="token keyword">public</span> <span class="token class-name">Stack</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span> <span class="token function">reversePost</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> reversePost<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h4 id="_4-4-4-拓扑排序实现"><a href="#_4-4-4-拓扑排序实现" class="header-anchor">#</a> 4.4.4 拓扑排序实现</h4> <p>前面已经实现了环的检测以及顶点排序，那么拓扑排序就很简单了，基于一幅图，先检测有没有环，如果没有环，则调用顶点排序即可。</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">TopoLogical</span> <span class="token punctuation">{</span>
    <span class="token comment">//顶点的拓扑排序</span>
    <span class="token keyword">private</span> <span class="token class-name">Stack</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span> order<span class="token punctuation">;</span>
    <span class="token comment">//构造拓扑排序对象</span>
    <span class="token keyword">public</span> <span class="token class-name">TopoLogical</span><span class="token punctuation">(</span><span class="token class-name">DirectedGraph</span> <span class="token class-name">G</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">//创建检测环对象，检测图G中是否有环</span>
        <span class="token class-name">DirectedCycle</span> dCycle <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">DirectedCycle</span><span class="token punctuation">(</span><span class="token class-name">G</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>dCycle<span class="token punctuation">.</span><span class="token function">hasCycle</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token comment">//如果没有环，创建顶点排序对象，进行顶点排序</span>
            <span class="token class-name">DepthFirstOrder</span> depthFirstOrder <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">DepthFirstOrder</span><span class="token punctuation">(</span><span class="token class-name">G</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            order <span class="token operator">=</span> depthFirstOrder<span class="token punctuation">.</span><span class="token function">reversePost</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    
    <span class="token comment">//判断图G是否有环</span>
    <span class="token keyword">private</span> <span class="token keyword">boolean</span> <span class="token function">isCycle</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> order <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">//获取拓扑排序的所有顶点</span>
    <span class="token keyword">public</span> <span class="token class-name">Stack</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span> <span class="token function">order</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> order<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="_5-加权无向图"><a href="#_5-加权无向图" class="header-anchor">#</a> 5. 加权无向图</h2> <p>加权无向图是一种为每条边关联一个权重值或是成本的图模型。这种图能够自然地表示许多应用。在一副航空图中，边表示航线，权值则可以表示距离或是费用。在一副电路图中，边表示导线，权值则可能表示导线的长度即成本，或是信号通过这条先所需的时间。此时我们很容易就能想到，最小成本的问题，例如，从西安飞纽约，怎样飞才能使时间成本最低或者是金钱成本最低？</p> <p>在下图中，从顶点0到顶点4有三条路径，分别为0-2-3-4，0-2-4，0-5-3-4，那我们如果要通过那条路径到达4顶点最好呢？此时就要考虑，那条路径的成本最低。</p> <img height="200px" src="/assets/img/00227.74658638.jpg"> <h3 id="_5-1-加权无向图边的表示"><a href="#_5-1-加权无向图边的表示" class="header-anchor">#</a> 5.1 加权无向图边的表示</h3> <p>加权无向图中的边我们就不能简单的使用 v-w 两个顶点表示了，而必须要给边关联一个权重值，因此我们可以使用对象来描述一条边。</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Edge</span> <span class="token keyword">implements</span> <span class="token class-name">Comparable</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Edge</span><span class="token punctuation">&gt;</span></span> <span class="token punctuation">{</span>

    <span class="token comment">//顶点一</span>
    <span class="token keyword">private</span> <span class="token keyword">int</span> v<span class="token punctuation">;</span>
    
    <span class="token comment">//顶点二</span>
    <span class="token keyword">private</span> <span class="token keyword">int</span> w<span class="token punctuation">;</span>
    
    <span class="token comment">//当前边的权重</span>
    <span class="token keyword">private</span> <span class="token keyword">double</span> weight<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token class-name">Edge</span><span class="token punctuation">(</span><span class="token keyword">int</span> v<span class="token punctuation">,</span> <span class="token keyword">int</span> w<span class="token punctuation">,</span> <span class="token keyword">double</span> weight<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>v <span class="token operator">=</span> v<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>w <span class="token operator">=</span> w<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>weight <span class="token operator">=</span> weight<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">//获取边的权重值</span>
    <span class="token keyword">public</span> <span class="token keyword">double</span> <span class="token function">getWeight</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> weight<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">//获取边上的一个点</span>
    <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">either</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> v<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">//获取边上除了顶点vertex外的另外一个顶点</span>
    <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">other</span><span class="token punctuation">(</span><span class="token keyword">int</span> vertex<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>vertex <span class="token operator">==</span> v<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> w<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> v<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>


    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">compareTo</span><span class="token punctuation">(</span><span class="token class-name">Edge</span> o<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token class-name">Double</span><span class="token punctuation">.</span><span class="token function">compare</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getWeight</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> o<span class="token punctuation">.</span><span class="token function">getWeight</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="_5-2-加权无向图的实现"><a href="#_5-2-加权无向图的实现" class="header-anchor">#</a> 5.2  加权无向图的实现</h3> <p>之前我们已经完成了无向图，在无向图的基础上，我们只需要把边的表示切换成Edge对象即可。</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token comment">//加权无向图</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">EdgeWeightedGraph</span> <span class="token punctuation">{</span>

    <span class="token comment">//顶点总数</span>
    <span class="token keyword">private</span> <span class="token keyword">int</span> vertex<span class="token punctuation">;</span>
    
    <span class="token comment">//边的总数</span>
    <span class="token keyword">private</span> <span class="token keyword">int</span> edge<span class="token punctuation">;</span>
    
    <span class="token comment">//邻接表</span>
    <span class="token keyword">private</span> <span class="token class-name">Queue</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Edge</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">[</span><span class="token punctuation">]</span> adj<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token class-name">EdgeWeightedGraph</span><span class="token punctuation">(</span><span class="token keyword">int</span> vertex<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>vertex <span class="token operator">=</span> vertex<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>edge <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>adj <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Queue</span><span class="token punctuation">[</span>vertex<span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> adj<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            adj<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Queue</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">getVertex</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> vertex<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">getEdge</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> edge<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">addEdge</span><span class="token punctuation">(</span><span class="token keyword">int</span> v<span class="token punctuation">,</span> <span class="token keyword">int</span> w<span class="token punctuation">,</span> <span class="token keyword">double</span> weight<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">Edge</span> e <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Edge</span><span class="token punctuation">(</span>v<span class="token punctuation">,</span> w<span class="token punctuation">,</span> weight<span class="token punctuation">)</span><span class="token punctuation">;</span>
        
        <span class="token comment">//因为是无向图，所以边e需要同时出现在两个顶点的邻接表中</span>
        adj<span class="token punctuation">[</span>v<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">enqueue</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">;</span>
        adj<span class="token punctuation">[</span>w<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">enqueue</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">;</span>
        edge<span class="token operator">++</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token class-name">Queue</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Edge</span><span class="token punctuation">&gt;</span></span> <span class="token function">adj</span><span class="token punctuation">(</span><span class="token keyword">int</span> v<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> adj<span class="token punctuation">[</span>v<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token class-name">Queue</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Edge</span><span class="token punctuation">&gt;</span></span> <span class="token function">edges</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">Queue</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Edge</span><span class="token punctuation">&gt;</span></span> edges <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Queue</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> vertex<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">Edge</span> e <span class="token operator">:</span> <span class="token function">adj</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span>e<span class="token punctuation">.</span><span class="token function">other</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span> <span class="token operator">&lt;</span> i<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    edges<span class="token punctuation">.</span><span class="token function">enqueue</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> edges<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Edge</span> <span class="token keyword">implements</span> <span class="token class-name">Comparable</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Edge</span><span class="token punctuation">&gt;</span></span> <span class="token punctuation">{</span>

        <span class="token keyword">private</span> <span class="token keyword">int</span> v<span class="token punctuation">;</span>
        <span class="token keyword">private</span> <span class="token keyword">int</span> w<span class="token punctuation">;</span>
        <span class="token keyword">private</span> <span class="token keyword">double</span> weight<span class="token punctuation">;</span>

        <span class="token keyword">public</span> <span class="token class-name">Edge</span><span class="token punctuation">(</span><span class="token keyword">int</span> v<span class="token punctuation">,</span> <span class="token keyword">int</span> w<span class="token punctuation">,</span> <span class="token keyword">double</span> weight<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>v <span class="token operator">=</span> v<span class="token punctuation">;</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>w <span class="token operator">=</span> w<span class="token punctuation">;</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>weight <span class="token operator">=</span> weight<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">public</span> <span class="token keyword">double</span> <span class="token function">getWeight</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> weight<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">either</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> v<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">other</span><span class="token punctuation">(</span><span class="token keyword">int</span> vertex<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>vertex <span class="token operator">==</span> v<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">return</span> w<span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            <span class="token keyword">return</span> v<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>


        <span class="token annotation punctuation">@Override</span>
        <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">compareTo</span><span class="token punctuation">(</span><span class="token class-name">Edge</span> o<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token class-name">Double</span><span class="token punctuation">.</span><span class="token function">compare</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getWeight</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> o<span class="token punctuation">.</span><span class="token function">getWeight</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="_6-最小生成树"><a href="#_6-最小生成树" class="header-anchor">#</a> 6. 最小生成树</h2> <p>之前学习的加权图，我们发现它的边关联了一个权重，那么我们就可以根据这个权重解决最小成本问题，但如何才能找到最小成本对应的顶点和边呢？最小生成树相关算法可以解决</p> <h3 id="_6-1-定义及相关约定"><a href="#_6-1-定义及相关约定" class="header-anchor">#</a> 6.1 定义及相关约定</h3> <p><strong>定义</strong></p> <p>图的生成树是它的一棵含有其所有顶点的无环连通子图，一副加权无向图的最小生成树它的一棵权值（树中所有边的权重之和）最小的生成树</p> <img height="340px" src="/assets/img/00228.41098833.jpg"> <br> <p><strong>约定</strong></p> <p>只考虑连通图。最小生成树的定义说明它只能存在于连通图中，如果图不是连通的，那么分别计算每个连通图子图的最小生成树，合并到一起称为最小生成森林。</p> <img height="280px" src="/assets/img/00229.3161bb7a.jpg"> <p>所有边的权重都各不相同。如果不同的边权重可以相同，那么一副图的最小生成树就可能不唯一了，虽然我们的算法可以处理这种情况，但为了好理解，我们约定所有边的权重都各不相同。</p> <h3 id="_6-2-最小生成树原理"><a href="#_6-2-最小生成树原理" class="header-anchor">#</a> 6.2 最小生成树原理</h3> <h4 id="_6-2-1-树的性质"><a href="#_6-2-1-树的性质" class="header-anchor">#</a> 6.2.1 <strong>树的性质</strong></h4> <ol><li>用一条边接树中的任意两个顶点都会产生一个新的环</li></ol> <img height="160px" src="/assets/img/00230.f4a57f40.jpg"> <ol start="2"><li>从树中删除任意一条边，将会得到两棵独立的树</li></ol> <img height="160px" src="/assets/img/00231.11edf7bc.jpg"> <br> <br> <br> <h4 id="_6-2-2-切分定理"><a href="#_6-2-2-切分定理" class="header-anchor">#</a> 6.2.2 切分定理</h4> <p>要从一副连通图中找出该图的最小生成树，需要通过切分定理完成。</p> <p><strong>切分</strong></p> <p>将图的所有顶点按照某些规则分为两个非空且没有交集的集合。</p> <p><strong>横切边</strong></p> <p>连接两个属于不同集合的顶点的边称之为横切边。</p> <p>例如我们将图中的顶点切分为两个集合，灰色顶点属于一个集合，白色顶点属于另外一个集合，那么效果如下：</p> <img height="180px" src="/assets/img/00232.de675b80.jpg"> <p><strong>切分定理</strong></p> <p>在一副加权图中，给定任意的切分，它的横切边中的权重最小者必然属于图中的最小生成树。</p> <img height="210px" src="/assets/img/00233.b62aadba.jpg"> <p><strong>注意</strong>：一次切分产生的多个横切边中，权重最小的边不一定是所有横切边中唯一属于图的最小生成树的边。</p> <img height="170px" src="/assets/img/00234.0171cc76.jpg"> <h3 id="_6-3-贪心算法"><a href="#_6-3-贪心算法" class="header-anchor">#</a> 6.3 贪心算法</h3> <p>贪心算法是计算图的最小生成树的基础算法，它的基本原理就是切分定理，<strong>使用切分定理找到最小生成树的一条边，不断的重复直到找到最小生成树的所有边</strong>。如果图有V个顶点，那么需要找到V-1条边，就可以表示该图的最小生成树。</p> <p>计算最小生成树的算法有很多种，但这些算法都可以看做是贪心算法的一种特殊情况，这些算法的不同之处在于保存切分和判定权重最小的横切边的方式。</p> <h3 id="_6-4-prim算法"><a href="#_6-4-prim算法" class="header-anchor">#</a> 6.4 Prim算法</h3> <p>我们学习第一种计算最小生成树的方法叫 <code>Prim算法</code>，它的每一步都会为一棵生成中的树添加一条边。一开始这棵树只有一个顶点，然后会向它添加 V-1 条边，每次总是将下一条连接树中的顶点与不在树中的顶点且权重最小的边加入到树中。</p> <p><strong>Prim算法的切分规则</strong></p> <p>把最小生成树中的顶点看做是一个集合，把不在最小生成树中的顶点看做是另外一个集合。</p> <img height="170px" src="/assets/img/00235.59e48aa2.jpg"> <h4 id="_6-4-1-实现原理"><a href="#_6-4-1-实现原理" class="header-anchor">#</a> 6.4.1 实现原理</h4> <p>Prim算法始终将图中的顶点切分成 <code>两个集合</code>，最小生成树顶点和非最小生成树顶点，通过不断的重复做某些操作，可以逐渐将非最小生成树中的顶点加入到最小生成树中，直到所有的顶点都加入到最小生成树中。</p> <p>我们在设计API的时候，使用 <code>最小索引优先队列</code> 存放树中顶点与非树中顶点的有效横切边，那么它是如何表示的呢？我们可以让最小索引优先队列的 <code>索引表示图的顶点</code>，让最小索引优先队列中的 <code>值表示从其他某个顶点到当前顶点的边权重</code>。</p> <img height="280px" src="/assets/img/00236.81d2c51b.jpg"> <p>初始化状态，先默认 0 是最小生成树中的唯一顶点，其他的顶点都不在最小生成树中，此时横切边就是顶点 0 的邻接表中 0-2，0-4，0-6, 0-7 这四条边，我们只需要将索引优先队列的2、4、6、7索引处分别存储这些边的权重值就可以表示了。</p> <p>现在只需要从这四条横切边中找出权重最小的边，然后把对应的顶点加进来即可。所以找到 0-7 这条横切边的权重最小，因此把0-7这条边添加进来，此时 0 和 7 属于最小生成树的顶点，其他的不属于，现在顶点 7 的邻接表中的边也成为了横切边，这时需要做两个操作：</p> <ol><li><strong>0-7 这条边已经不是横切边了，需要让它失效：</strong></li></ol> <p>只需要调用最小索引优先队列的delMin()方法即可完成</p> <ol start="2"><li><strong>2 和 4 顶点各有两条连接指向最小生成树，需要只保留一条：</strong></li></ol> <p>4-7 的权重小于 0-4 的权重，所以保留 4-7，调用索引优先队列的 change(4, 0.37) 即可，</p> <p>0-2 的权重小于 2-7 的权重，所以保留0-2，不需要做额外操作。</p> <img height="280px" src="/assets/img/00237.89e74101.jpg"> <p>我们不断重复上面的动作，就可以把所有的顶点添加到最小生成树中。</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token comment">//prim 最小生成树</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">PrimMST</span> <span class="token punctuation">{</span>

    <span class="token comment">//索引代表顶点，值表示当前顶点和最小生成树之间的最短边</span>
    <span class="token keyword">private</span> <span class="token class-name">EdgeWeightedGraph<span class="token punctuation">.</span>Edge</span><span class="token punctuation">[</span><span class="token punctuation">]</span> edgeTo<span class="token punctuation">;</span>

    <span class="token comment">//索引代表顶点，值表示当前顶点和最小生成树之间的最短边的权重</span>
    <span class="token keyword">private</span> <span class="token keyword">double</span><span class="token punctuation">[</span><span class="token punctuation">]</span> distTo<span class="token punctuation">;</span>

    <span class="token comment">//索引代表顶点，如果当前顶点已经在树中，则值为true，否则为false</span>
    <span class="token keyword">private</span> <span class="token keyword">boolean</span><span class="token punctuation">[</span><span class="token punctuation">]</span> marked<span class="token punctuation">;</span>

    <span class="token comment">//存放树中顶点与非树中顶点之间的有效横切边</span>
    <span class="token keyword">private</span> <span class="token class-name">IndexMinPriorityQueue</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Double</span><span class="token punctuation">&gt;</span></span> pq<span class="token punctuation">;</span>


    <span class="token keyword">public</span> <span class="token class-name">PrimMST</span><span class="token punctuation">(</span><span class="token class-name">EdgeWeightedGraph</span> graph<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>edgeTo <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">EdgeWeightedGraph<span class="token punctuation">.</span>Edge</span><span class="token punctuation">[</span>graph<span class="token punctuation">.</span><span class="token function">getVertex</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>distTo <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">double</span><span class="token punctuation">[</span>graph<span class="token punctuation">.</span><span class="token function">getVertex</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> distTo<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            distTo<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token class-name">Double</span><span class="token punctuation">.</span>POSITIVE_INFINITY<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>marked <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">boolean</span><span class="token punctuation">[</span>graph<span class="token punctuation">.</span><span class="token function">getVertex</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

        <span class="token keyword">this</span><span class="token punctuation">.</span>pq <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">IndexMinPriorityQueue</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span>graph<span class="token punctuation">.</span><span class="token function">getVertex</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">//默认让顶点0进入树中，但0顶点目前没有与树中其他的顶点相连接，因此初始化distTo[0]=0.0</span>
        distTo<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">0.0</span><span class="token punctuation">;</span>

        pq<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0.0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token operator">!</span>pq<span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token function">visit</span><span class="token punctuation">(</span>graph<span class="token punctuation">,</span> pq<span class="token punctuation">.</span><span class="token function">delMin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">private</span> <span class="token keyword">void</span> <span class="token function">visit</span><span class="token punctuation">(</span><span class="token class-name">EdgeWeightedGraph</span> graph<span class="token punctuation">,</span> <span class="token keyword">int</span> v<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        marked<span class="token punctuation">[</span>v<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>

        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">EdgeWeightedGraph<span class="token punctuation">.</span>Edge</span> edge <span class="token operator">:</span> graph<span class="token punctuation">.</span><span class="token function">adj</span><span class="token punctuation">(</span>v<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">int</span> w <span class="token operator">=</span> edge<span class="token punctuation">.</span><span class="token function">other</span><span class="token punctuation">(</span>v<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>marked<span class="token punctuation">[</span>w<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">continue</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>

            <span class="token keyword">if</span> <span class="token punctuation">(</span>edge<span class="token punctuation">.</span><span class="token function">getWeight</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;</span> distTo<span class="token punctuation">[</span>w<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                edgeTo<span class="token punctuation">[</span>w<span class="token punctuation">]</span> <span class="token operator">=</span> edge<span class="token punctuation">;</span>
                distTo<span class="token punctuation">[</span>w<span class="token punctuation">]</span> <span class="token operator">=</span> edge<span class="token punctuation">.</span><span class="token function">getWeight</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

                <span class="token keyword">if</span> <span class="token punctuation">(</span>pq<span class="token punctuation">.</span><span class="token function">contains</span><span class="token punctuation">(</span>w<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    pq<span class="token punctuation">.</span><span class="token function">changeElement</span><span class="token punctuation">(</span>w<span class="token punctuation">,</span> edge<span class="token punctuation">.</span><span class="token function">getWeight</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
                    pq<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span>w<span class="token punctuation">,</span> edge<span class="token punctuation">.</span><span class="token function">getWeight</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token class-name">Queue</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">EdgeWeightedGraph<span class="token punctuation">.</span>Edge</span><span class="token punctuation">&gt;</span></span> <span class="token function">edges</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">Queue</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">EdgeWeightedGraph<span class="token punctuation">.</span>Edge</span><span class="token punctuation">&gt;</span></span> edges <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Queue</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> marked<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>edgeTo<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                edges<span class="token punctuation">.</span><span class="token function">enqueue</span><span class="token punctuation">(</span>edgeTo<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> edges<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="_6-5-kruskal算法"><a href="#_6-5-kruskal算法" class="header-anchor">#</a> 6.5  kruskal算法</h3> <p>kruskal算法是计算一副加权无向图的最小生成树的另外一种算法，它的主要思想是按照边的权重（从小到大）处理它们，将边加入最小生成树中，加入的边不会与已经加入最小生成树的边构成环，直到树中含有 V-1 条边为止。</p> <br> <p><strong>kruskal算法和prim算法的区别</strong></p> <ul><li>Prim算法是一条边一条边的构造最小生成树，每一步都为一棵树添加一条边。</li> <li>kruskal算法构造最小生成树的时候也是一条边一条边地构造，但它的切分规则是不一样的。它每一次寻找的边会连接一片森林中的两棵树。如果一副加权无向图由 V 个顶点组成，初始化情况下每个顶点都构成一棵独立的树，则 V 个顶点对应 V 棵树，组成一片森林，kruskal算法每一次处理都会将两棵树合并为一棵树，直到整个森林中只剩一棵树为止。</li></ul> <img height="400px" src="/assets/img/00238.819ef1ad.jpg"> <h4 id="_6-5-1-实现原理"><a href="#_6-5-1-实现原理" class="header-anchor">#</a> 6.5.1  实现原理</h4> <p>在设计API的时候，使用了一个 <code>MinPriorityQueue pq</code> 存储图中所有的边，每次使用 pq.delMin() 取出权重最小的边，并得到该边关联的两个顶点 v 和 w ，通过 uf.connect(v, w) 判断 v 和 w 是否已经连通，如果连通，则证明这两个顶点在同一棵树中，那么就不能再把这条边添加到最小生成树中，因为在一棵树的任意两个顶点上添加一条边，都会形成环，而最小生成树不能有环的存在，如果不连通，则通过 uf.connect(v, w) 把顶点 v 所在的树和顶点w所在的树合并成一棵树，并把这条边加入到 mst 队列中，这样如果把所有的边处理完，最终 mst 中存储的就是最小生树的所有边。</p> <img width="400px" src="/assets/img/00239.325f806d.jpg"> <br> <img width="400px" src="/assets/img/00240.75ddb63c.jpg"> <br> <img width="400px" src="/assets/img/00241.9e30a480.jpg"> <br> <img width="400px" src="/assets/img/00242.f1cef7a9.jpg"> <br> <img width="400px" src="/assets/img/00243.df8612a1.jpg"> <br> <p>代码</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token comment">//Kruskal 最小生成树</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">KruskalMST</span> <span class="token punctuation">{</span>

    <span class="token comment">//保存最小生成树的所有边</span>
    <span class="token keyword">private</span> <span class="token class-name">Queue</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">EdgeWeightedGraph<span class="token punctuation">.</span>Edge</span><span class="token punctuation">&gt;</span></span> mst<span class="token punctuation">;</span>

    <span class="token comment">//索引代表顶点，使用uf.connect(v,w)可以判断顶点v和顶点w是否在同一颗树中，使用uf.union(v,w)可以把顶点v所在的树和顶点w所在的树合并</span>
    <span class="token keyword">private</span> <span class="token class-name">UFTreeWeighted</span> uf<span class="token punctuation">;</span>

    <span class="token comment">//存储图中所有的边，使用最小优先队列，对边按照权重进行排序</span>
    <span class="token keyword">private</span> <span class="token class-name">MinPriorityQueue</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">EdgeWeightedGraph<span class="token punctuation">.</span>Edge</span><span class="token punctuation">&gt;</span></span> pq<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token class-name">KruskalMST</span><span class="token punctuation">(</span><span class="token class-name">EdgeWeightedGraph</span> graph<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>mst <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Queue</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        uf <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">UFTreeWeighted</span><span class="token punctuation">(</span>graph<span class="token punctuation">.</span><span class="token function">getVertex</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">this</span><span class="token punctuation">.</span>pq <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MinPriorityQueue</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span>graph<span class="token punctuation">.</span><span class="token function">getEdge</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">EdgeWeightedGraph<span class="token punctuation">.</span>Edge</span> edge <span class="token operator">:</span> graph<span class="token punctuation">.</span><span class="token function">edges</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            pq<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span>edge<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token operator">!</span>pq<span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> mst<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;</span> graph<span class="token punctuation">.</span><span class="token function">getVertex</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token class-name">EdgeWeightedGraph<span class="token punctuation">.</span>Edge</span> edge <span class="token operator">=</span> pq<span class="token punctuation">.</span><span class="token function">delMin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">int</span> v <span class="token operator">=</span> edge<span class="token punctuation">.</span><span class="token function">either</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">int</span> w <span class="token operator">=</span> edge<span class="token punctuation">.</span><span class="token function">other</span><span class="token punctuation">(</span>v<span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token keyword">if</span> <span class="token punctuation">(</span>uf<span class="token punctuation">.</span><span class="token function">connected</span><span class="token punctuation">(</span>v<span class="token punctuation">,</span> w<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">continue</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>

            uf<span class="token punctuation">.</span><span class="token function">connected</span><span class="token punctuation">(</span>v<span class="token punctuation">,</span> w<span class="token punctuation">)</span><span class="token punctuation">;</span>
            mst<span class="token punctuation">.</span><span class="token function">enqueue</span><span class="token punctuation">(</span>edge<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token class-name">Queue</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">EdgeWeightedGraph<span class="token punctuation">.</span>Edge</span><span class="token punctuation">&gt;</span></span> <span class="token function">edges</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> mst<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span>
</code></pre></div><h2 id="_7-加权有向图"><a href="#_7-加权有向图" class="header-anchor">#</a> 7. 加权有向图</h2> <p>之前学习的加权无向图中，边是没有方向的，并且同一条边会同时出现在该边的两个顶点的邻接表中，为了能够处理含有方向性的图的问题，我们需要实现以下加权有向图。</p> <br> <p><strong>代码</strong></p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token comment">//加权有向图</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">DirectedEdgeWeighedGraph</span> <span class="token punctuation">{</span>

    <span class="token comment">//顶点总数</span>
    <span class="token keyword">private</span> <span class="token keyword">int</span> vertex<span class="token punctuation">;</span>
    
    <span class="token comment">//边的总数</span>
    <span class="token keyword">private</span> <span class="token keyword">int</span> edge<span class="token punctuation">;</span>
    
    <span class="token comment">//邻接表</span>
    <span class="token keyword">private</span> <span class="token class-name">Queue</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">DirectedEdge</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">[</span><span class="token punctuation">]</span> adj<span class="token punctuation">;</span>

    <span class="token comment">//创建一个含有V个顶点的空加权有向图</span>
    <span class="token keyword">public</span> <span class="token class-name">DirectedEdgeWeighedGraph</span><span class="token punctuation">(</span><span class="token keyword">int</span> vertex<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>vertex <span class="token operator">=</span> vertex<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>edge <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>adj <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Queue</span><span class="token punctuation">[</span>vertex<span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token keyword">this</span><span class="token punctuation">.</span>adj<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>adj<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Queue</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token comment">//获取图中顶点的数量</span>
    <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">getVertex</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> vertex<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">//获取图中边的数量</span>
    <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">getEdge</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> edge<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">//向加权有向图中添加一条边e</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">addEdge</span><span class="token punctuation">(</span><span class="token class-name">DirectedEdge</span> directedEdge<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">int</span> v <span class="token operator">=</span> directedEdge<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">int</span> w <span class="token operator">=</span> directedEdge<span class="token punctuation">.</span><span class="token keyword">to</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//因为是有向图，所以边e只需要出现在起点v的邻接表中</span>
        adj<span class="token punctuation">[</span>v<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">enqueue</span><span class="token punctuation">(</span>directedEdge<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//边的数量+1</span>
        edge<span class="token operator">++</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">//获取由顶点v指出的所有的边</span>
    <span class="token keyword">public</span> <span class="token class-name">Queue</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">DirectedEdge</span><span class="token punctuation">&gt;</span></span> <span class="token function">adj</span><span class="token punctuation">(</span><span class="token keyword">int</span> vertex<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> adj<span class="token punctuation">[</span>vertex<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">//获取加权有向图的所有边</span>
    <span class="token keyword">public</span> <span class="token class-name">Queue</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">DirectedEdge</span><span class="token punctuation">&gt;</span></span> <span class="token function">edges</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">Queue</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">DirectedEdge</span><span class="token punctuation">&gt;</span></span> queue <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Queue</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token keyword">this</span><span class="token punctuation">.</span>vertex<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">DirectedEdge</span> directedEdge <span class="token operator">:</span> adj<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                queue<span class="token punctuation">.</span><span class="token function">enqueue</span><span class="token punctuation">(</span>directedEdge<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> queue<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>


    <span class="token comment">//加权有向图 边</span>
    <span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">DirectedEdge</span> <span class="token punctuation">{</span>
        <span class="token keyword">private</span> <span class="token keyword">int</span> v<span class="token punctuation">;</span><span class="token comment">//起点</span>
        <span class="token keyword">private</span> <span class="token keyword">int</span> w<span class="token punctuation">;</span><span class="token comment">//终点</span>
        <span class="token keyword">private</span> <span class="token keyword">double</span> weight<span class="token punctuation">;</span><span class="token comment">//权重</span>

        <span class="token comment">//通过顶点v和w，以及权重weight值构造一个边对象</span>
        <span class="token keyword">public</span> <span class="token class-name">DirectedEdge</span><span class="token punctuation">(</span><span class="token keyword">int</span> v<span class="token punctuation">,</span> <span class="token keyword">int</span> w<span class="token punctuation">,</span> <span class="token keyword">int</span> weight<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>v <span class="token operator">=</span> v<span class="token punctuation">;</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>w <span class="token operator">=</span> w<span class="token punctuation">;</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>weight <span class="token operator">=</span> weight<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token comment">//获取边的权重值</span>
        <span class="token keyword">public</span> <span class="token keyword">double</span> <span class="token function">getWeight</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> weight<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token comment">//获取有向边的起点</span>
        <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">from</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> v<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token comment">//获取有向边的终点</span>
        <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token keyword">to</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> w<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span>
</code></pre></div><h2 id="_8-最短路径"><a href="#_8-最短路径" class="header-anchor">#</a> 8. 最短路径</h2> <p>有了加权有向图之后，我们立刻就能联想到实际生活中的使用场景，例如在一副地图中，找到顶点 a 与地点 b 之间的路径，这条路径可以是距离最短，也可以是时间最短，也可以是费用最小等，如果我们把 距离/时间/费用 看做是成本，那么就需要找到地点a和地点b之间成本最小的路径，也就是我们接下来要解决的最短路径问题。</p> <h3 id="_8-1-定义及性质"><a href="#_8-1-定义及性质" class="header-anchor">#</a> 8.1 定义及性质</h3> <p><strong>定义</strong></p> <p>在一副加权有向图中，从顶点 s 到顶点 t 的最短路径是所有从顶点 s 到顶点 t 的路径中总权重最小的那条路径。</p> <img width="460px" src="/assets/img/00244.ecb16a23.jpg"> <br> <p><strong>性质</strong></p> <ol><li><p>路径具有方向性</p></li> <li><p>权重不一定等价于距离。权重可以是距离、时间、花费等内容，权重最小指的是成本最低</p></li> <li><p>只考虑连通图。一副图中并不是所有的顶点都是可达的，如果s和t不可达，那么它们之间也就不存在最短路径，为了简化问题，这里只考虑连通图</p></li> <li><p>最短路径不一定是唯一的。从一个顶点到达另外一个顶点的权重最小的路径可能会有很多条，这里只需要找出一条即可</p></li></ol> <br> <p><strong>最短路径树</strong></p> <p>给定一副加权有向图和一个顶点 s，以s为起点的一棵最短路径树是图的一副子图，它包含顶点 s 以及从 s 可达的所有顶点。这棵有向树的根结点为 s，树的每条路径都是有向图中的一条最短路径。</p> <h3 id="_8-2-松弛技术"><a href="#_8-2-松弛技术" class="header-anchor">#</a> 8.2 松弛技术</h3> <br> <blockquote><p><strong>需要结合代码理解</strong></p></blockquote> <p>松弛这个词来源于生活：一条橡皮筋沿着两个顶点的某条路径紧紧展开，如果这两个顶点之间的路径不止一条，还有存在更短的路径，那么把皮筋转移到更短的路径上，皮筋就可以放松了。</p> <img height="120px" src="/assets/img/00245.b9ea94d7.jpg"> <p>松弛这种简单的原理刚好可以用来计算最短路径树。</p> <p>在我们的API中，需要用到两个成员变量 edgeTo 和 distTo，分别存储边和权重。一开始给定一幅图 G 和顶点 s，我们只知道图的边以及这些边的权重，其他的一无所知，此时初始化顶点s到顶点s的最短路径的总权重disto[s]=0；顶点 s 到其他顶点的总权重默认为无穷大，随着算法的执行，不断的使用松弛技术处理图的边和顶点，并按一定的条件更新 edgeTo 和 distTo 中的数据，最终就可以得到最短路劲树。</p> <br> <p><strong>边的松弛</strong></p> <p>放松边 v-&gt;w 意味着检查从 s 到 w 的最短路径是否先从 s 到 v，然后再从 v 到 w？</p> <ul><li>如果是，则 v-w 这条边需要加入到最短路径树中，更新 edgeTo 和 distTo 中的内容：edgeTo[w]=表示v-&gt;w这条边的DirectedEdge对象，distTo[w]=distTo[v]+v-&gt;w这条边的权重；</li> <li>如果不是，则忽略v-&gt;w这条边。</li></ul> <img height="420px" src="/assets/img/00246.85e23724.jpg"> <br> <p><strong>顶点的松弛</strong></p> <p>顶点的松弛是基于边的松弛完成的，只需要把某个顶点指出的所有边松弛，那么该顶点就松弛完毕。例如要松弛顶点 v，只需要遍历 v 的邻接表，把每一条边都松弛，那么顶点 v 就松弛了。</p> <p>如果把起点设置为顶点 0，那么找出起点 0 到顶点 6 的最短路径 0-&gt;2-&gt;7&gt;3-&gt;6 的过程如下:</p> <img height="280px" src="/assets/img/00247.e334e960.jpg"> <h3 id="_8-3-dijstra算法实现"><a href="#_8-3-dijstra算法实现" class="header-anchor">#</a> 8.3 Dijstra算法实现</h3> <div class="language-java extra-class"><pre class="language-java"><code><span class="token comment">//Disjstra最短路径</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">DisjstraSP</span> <span class="token punctuation">{</span>

    <span class="token comment">//索引代表顶点，值表示从顶点s到当前顶点的最短路径上的最后一条边</span>
    <span class="token keyword">private</span> <span class="token class-name">DirectedEdgeWeighedGraph<span class="token punctuation">.</span>DirectedEdge</span><span class="token punctuation">[</span><span class="token punctuation">]</span> edgeTo<span class="token punctuation">;</span>

    <span class="token comment">//索引代表顶点，值从顶点s到当前顶点的最短路径的总权重</span>
    <span class="token keyword">private</span> <span class="token keyword">double</span><span class="token punctuation">[</span><span class="token punctuation">]</span> distTo<span class="token punctuation">;</span>

    <span class="token comment">//存放树中顶点与非树中顶点之间的有效横切边</span>
    <span class="token keyword">private</span> <span class="token class-name">IndexMinPriorityQueue</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Double</span><span class="token punctuation">&gt;</span></span> pq<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token class-name">DisjstraSP</span><span class="token punctuation">(</span><span class="token class-name">DirectedEdgeWeighedGraph</span> graph<span class="token punctuation">,</span> <span class="token keyword">int</span> s<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>edgeTo <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">DirectedEdgeWeighedGraph<span class="token punctuation">.</span>DirectedEdge</span><span class="token punctuation">[</span>graph<span class="token punctuation">.</span><span class="token function">getVertex</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>distTo <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">double</span><span class="token punctuation">[</span>graph<span class="token punctuation">.</span><span class="token function">getVertex</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> distTo<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            distTo<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token class-name">Double</span><span class="token punctuation">.</span>POSITIVE_INFINITY<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">this</span><span class="token punctuation">.</span>pq <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">IndexMinPriorityQueue</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span>graph<span class="token punctuation">.</span><span class="token function">getVertex</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        distTo<span class="token punctuation">[</span>s<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">0.0</span><span class="token punctuation">;</span>
        pq<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span>s<span class="token punctuation">,</span> <span class="token number">0.0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token operator">!</span>pq<span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment">//松弛图G中的顶点</span>
            <span class="token function">relax</span><span class="token punctuation">(</span>graph<span class="token punctuation">,</span> pq<span class="token punctuation">.</span><span class="token function">delMin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">private</span> <span class="token keyword">void</span> <span class="token function">relax</span><span class="token punctuation">(</span><span class="token class-name">DirectedEdgeWeighedGraph</span> graph<span class="token punctuation">,</span> <span class="token keyword">int</span> v<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">//松弛顶点v就是松弛顶点v邻接表中的每一条边，遍历邻接表</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">DirectedEdgeWeighedGraph<span class="token punctuation">.</span>DirectedEdge</span> edge <span class="token operator">:</span> graph<span class="token punctuation">.</span><span class="token function">adj</span><span class="token punctuation">(</span>v<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment">//获取边e的终点</span>
            <span class="token keyword">int</span> w <span class="token operator">=</span> edge<span class="token punctuation">.</span><span class="token keyword">to</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment">//起点s到顶点w的权重是否大于起点s到顶点v的权重+边e的权重,如果大于，则修改s-&gt;w的路径：</span>
            <span class="token comment">//edgeTo[w]=e,并修改distTo[v] = distTo[v]+e.weitht(),如果不大于，则忽略</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>distTo<span class="token punctuation">[</span>w<span class="token punctuation">]</span> <span class="token operator">&gt;</span> distTo<span class="token punctuation">[</span>v<span class="token punctuation">]</span> <span class="token operator">+</span> edge<span class="token punctuation">.</span><span class="token function">getWeight</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                distTo<span class="token punctuation">[</span>w<span class="token punctuation">]</span> <span class="token operator">=</span> distTo<span class="token punctuation">[</span>v<span class="token punctuation">]</span> <span class="token operator">+</span> edge<span class="token punctuation">.</span><span class="token function">getWeight</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                edgeTo<span class="token punctuation">[</span>w<span class="token punctuation">]</span> <span class="token operator">=</span> edge<span class="token punctuation">;</span>
                <span class="token comment">//如果顶点w已经存在于优先队列pq中，则重置顶点w的权重</span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span>pq<span class="token punctuation">.</span><span class="token function">contains</span><span class="token punctuation">(</span>w<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    pq<span class="token punctuation">.</span><span class="token function">changeElement</span><span class="token punctuation">(</span>w<span class="token punctuation">,</span> distTo<span class="token punctuation">[</span>w<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span>
                    <span class="token comment">//如果顶点w没有出现在优先队列pq中，则把顶点w及其权重加入到pq中</span>
                    pq<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span>w<span class="token punctuation">,</span> distTo<span class="token punctuation">[</span>w<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token comment">//判断从顶点s到顶点v是否可达</span>
    <span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">hasPathTo</span><span class="token punctuation">(</span><span class="token keyword">int</span> v<span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> distTo<span class="token punctuation">[</span>v<span class="token punctuation">]</span> <span class="token operator">&lt;</span> <span class="token class-name">Double</span><span class="token punctuation">.</span>POSITIVE_INFINITY<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">//查询从起点s到顶点v的最短路径中所有的边</span>
    <span class="token keyword">public</span> <span class="token class-name">Queue</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">DirectedEdgeWeighedGraph<span class="token punctuation">.</span>DirectedEdge</span><span class="token punctuation">&gt;</span></span> <span class="token function">pathTo</span><span class="token punctuation">(</span><span class="token keyword">int</span> v<span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token comment">//如果顶点s到v不可达，则返回null</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token function">hasPathTo</span><span class="token punctuation">(</span>v<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token comment">//创建队列Queue保存最短路径的边</span>
        <span class="token class-name">Queue</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">DirectedEdgeWeighedGraph<span class="token punctuation">.</span>DirectedEdge</span><span class="token punctuation">&gt;</span></span> edges <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Queue</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//从顶点v开始，逆向寻找，一直找到顶点s为止，而起点s为最短路劲树的根结点，所以 edgeTo[s]=null;</span>
        <span class="token class-name">DirectedEdgeWeighedGraph<span class="token punctuation">.</span>DirectedEdge</span> e<span class="token punctuation">;</span>
        <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            e <span class="token operator">=</span> edgeTo<span class="token punctuation">[</span>v<span class="token punctuation">]</span><span class="token punctuation">;</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>e <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
                <span class="token keyword">break</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            edges<span class="token punctuation">.</span><span class="token function">enqueue</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">;</span>
            v <span class="token operator">=</span> e<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> edges<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span>
</code></pre></div></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/java/algorithm/UF.html" class="prev">
        并查集
      </a></span> <!----></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.02a3c3f9.js" defer></script><script src="/assets/js/4.4116396b.js" defer></script><script src="/assets/js/5.2da7a405.js" defer></script>
  </body>
</html>
